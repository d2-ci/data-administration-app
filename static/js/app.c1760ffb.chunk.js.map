{"version":3,"sources":["D2App/App.module.css","D2App/components/LockExceptionsSubpageHeader/LockExceptionsSubpageHeader.module.css","D2App/pages/add-lock-exception/AddLockException.module.css","D2App/pages/add-lock-exception/AddLockExceptionForm/AddLockExceptionForm.module.css","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/OrganisationUnitSelection.module.css","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/SelectAll.module.css","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/Controls.module.css","D2App/components/NotificationsTable/NotificationsTable.module.css","D2App/components/DocsLink/DocsLink.module.css","D2App/components/PageHeader/PageHeader.module.css","D2App/pages/analytics/Analytics.module.css","D2App/pages/data-integrity/Issues/IssueCard.module.css","D2App/pages/data-integrity/Issues/Issues.module.css","D2App/pages/data-statistics/DataStatistics.module.css","D2App/pages/lock-exceptions/LockExceptions.module.css","D2App/pages/maintenance/Checkboxes.module.css","D2App/pages/maintenance/Maintenance.module.css","D2App/pages/min-max-value-generation/MinMaxValueGeneration.module.css","D2App/pages/resource-tables/ResourceTables.module.css","D2App/pages/home/Home.module.css","D2App/pages/home/HomeCard/HomeCard.module.css","D2App/components/Sidebar/SidebarItem.module.css","D2App/locales/index.js","D2App/components/LockExceptionsSubpageHeader/LockExceptionsSubpageHeader.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/use-org-unit-cache.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/SelectAll.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/Controls.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/SelectByGroup.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/SelectByLevel.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/OrganisationUnitSelection.js","D2App/pages/add-lock-exception/AddLockExceptionForm/PeriodPicker.js","D2App/pages/add-lock-exception/AddLockExceptionForm/AddLockExceptionForm.js","D2App/pages/add-lock-exception/AddLockException.js","D2App/components/LockExceptionsTable/LockExceptionsTable.js","D2App/components/RemoveLockExceptionModal/RemoveLockExceptionModal.js","D2App/parse-lock-exceptions.js","D2App/pages/batch-delete-lock-exceptions/BatchDeleteLockExceptions.js","D2App/i18n-keys.js","D2App/components/NotificationsTable/NotificationsTable.js","D2App/components/DocsLink/DocsLink.js","D2App/components/PageHeader/PageHeader.js","D2App/pages/analytics/analytics.conf.js","D2App/get-active-task-id-from-summary.js","D2App/get-updated-notifications.js","D2App/hooks/use-poll.js","D2App/pages/analytics/use-analytics.js","D2App/pages/analytics/Analytics.js","D2App/pages/analytics/use-checkboxes.js","D2App/pages/data-integrity/Issues/IssueCard.js","D2App/pages/data-integrity/Issues/Issues.js","D2App/pages/data-integrity/use-data-integrity.js","D2App/pages/data-integrity/DataIntegrity.js","D2App/components/FormattedNumber/FormattedNumber.js","D2App/pages/data-statistics/DataStatisticsTable.js","D2App/pages/data-statistics/table-keys.js","D2App/pages/data-statistics/parse-tables.js","D2App/pages/data-statistics/DataStatistics.js","D2App/pages/lock-exceptions/LockExceptions.js","D2App/pages/maintenance/Checkboxes.js","D2App/pages/maintenance/use-checkboxes.js","D2App/pages/maintenance/Maintenance.js","D2App/pages/min-max-value-generation/MinMaxValueGeneration.js","D2App/pages/resource-tables/use-resource-tables.js","D2App/pages/resource-tables/ResourceTables.js","D2App/pages/sections.conf.js","D2App/pages/home/HomeCard/HomeCard.js","D2App/pages/home/Home.js","D2App/components/Routes/Routes.js","D2App/components/Sidebar/SidebarItem.js","D2App/components/Sidebar/Sidebar.js","D2App/App.js"],"names":["module","exports","namespace","i18n","addResources","arTranslations","ar_EGTranslations","ar_IQTranslations","ar_SDTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","mnTranslations","myTranslations","nbTranslations","neTranslations","nlTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","rwTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_CyrlTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","LockExceptionsSubpageHeader","_ref","title","React","createElement","className","styles","headerContainer","Link","to","backArrowIcon","t","IconArrowLeft24","color","colors","grey900","header","headerDivider","subHeader","useOrgUnitCache","cache","setCache","useState","Map","has","currentRootId","arguments","length","undefined","itemId","get","set","orgUnits","currentRootOrgUnitsQuery","resource","id","params","fields","includeDescendants","paging","SelectAll","_ref2","allOrgUnitPaths","onSelect","onDeselect","loading","setLoading","engine","useDataEngine","orgUnitCache","errorAlert","useAlert","_ref3","error","message","critical","getOrgUnitPathsForCurrentRoot","async","result","query","variables","orgUnitPaths","organisationUnits","map","_ref4","path","show","updatingSelection","CircularLoader","small","ButtonStrip","container","Button","onClick","disabled","Controls","items","selectedItem","onSelectedItemChange","label","placeholder","SingleSelectField","selected","filterable","onChange","value","SingleSelectOption","key","groupId","filter","orgUnitGroupsQuery","orgUnitGroups","SelectByGroup","groups","setGroupId","_ref5","_ref6","displayName","getOrgUnitPathsForGroup","_ref7","level","orgUnitsQuery","SelectByLevel","levels","currentRoot","setLevel","currentRootLevel","match","toString","getOrgUnitPathsForLevel","relativeLevel","_ref8","String","Number","rootWithMembers","dataSetId","memberCollection","memberObject","dataSetMembers","OrganisationUnitSelection","onSelectedChange","setCurrentRoot","called","data","refetch","useDataQuery","lazy","useEffect","handleSelect","newSelected","arr2","Set","concat","union","handleDeselect","difference","arr1","forEach","item","delete","CenteredContent","NoticeBox","ou","organisationUnitTree","OrganisationUnitTree","roots","initiallyExpanded","highlighted","right","organisationUnitName","line","display","getYear","date","Date","getFullYear","getTwoDigitMonth","getMonth","slice","formattedDate","getDate","getTwoDigitDay","getWeekYear","target","setDate","getDay","isWeekValid","week","year","p","y","Math","floor","is53WeekISOYear","biWeekToWeek","biWeekStr","parseInt","PeriodPicker","Component","constructor","props","super","this","state","getTranslation","month","biWeek","biMonth","day","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","quarter","Q1","Q2","Q3","Q4","sixMonth","componentDidUpdate","prevProps","periodType","handleChange","getPeriod","getFirstDateOfWeek","ordDiff","ordDate","setState","invalidWeek","invalidBiWeek","onPickPeriod","renderOptionPicker","name","options","isInvalid","style","Object","keys","sort","test","renderYearPicker","years","currentYear","renderMonthPicker","renderWeekPicker","weeks","substr","renderBiWeekPicker","biWeeks","prefix","renderBiMonthPicker","renderQuarterPicker","render","setDateState","InputField","type","toISOString","split","AddLockExceptionForm","dataSets","selectedDataSetId","selectedOrgUnits","onSelectedDataSetIdChange","onSelectedOrgUnitsChange","onSelectedPeriodIdChange","selectedDataSet","find","ds","Fragment","selectsContainer","dataSetSelect","dataTest","order","mutation","AddLockException","history","useHistory","dataQuery","successAlert","success","nsSeparator","mutate","dataMutation","useDataMutation","onComplete","push","onError","setSelectedOrgUnits","setSelectedDataSetId","selectedPeriodId","setSelectedPeriodId","isAddActionDisabled","organisationUnitLevels","organisationUnitGroups","Card","card","addLockExceptionButton","primary","handleAdd","orgUnitIds","orgUnitPath","splitOrgUnitPath","join","pe","columnLabels","dataSet","period","organisationUnit","LockExceptionsTable","columns","rows","atBatchDeletionPage","onRemoveLockException","Table","TableHead","TableRowHead","column","TableCellHead","TableBody","row","index","TableRow","TableCell","secondary","IconDelete16","RemoveLockExceptionModal","lockException","onRemove","onClose","removeLockException","Modal","ModalTitle","ModalContent","ModalActions","destructive","handleRemoveLockException","periodId","organisationUnitId","parseLockExceptions","lockExceptionResponse","batchedLockExceptions","BatchDeleteLockExceptions","removeLockExceptionModal","setRemoveLockExceptionModal","visible","lockExceptions","handleCloseRemoveLockExceptionModal","i18nKeys","dataIntegrity","description","actionText","unexpectedError","maintenance","checkboxes","analyticsTableClear","analyticsTableAnalyze","zeroDataValueRemoval","softDeletedDataValueRemoval","softDeletedEventRemoval","softDeletedEnrollmentRemoval","softDeletedTrackedEntityInstanceRemoval","periodPruning","expiredInvitationsClear","sqlViewsDrop","sqlViewsCreate","categoryOptionComboUpdate","ouPathsUpdate","cacheClear","appReload","resourceTables","tables","organisationUnitStructure","organistionUnitCategoryOptionCombo","categoryOptionGroupSetStructure","dataElementGroupSetStructure","indicatorGroupSetStructure","organisationUnitGroupSetStructure","categoryStructure","dataElementCategoryOptionComboName","dataElementStructure","periodStructure","dataPeriodStructure","dataElementCategoryOptionCombinations","analytics","skipAggregate","skipResourceTables","skipEvents","skipEnrollment","skipOrgUnitOwnership","skipOutliers","dataStatistics","minMaxValueGeneration","NotificationsTable","notifications","table","notification","dateFromServer","time","completed","IconError16","red500","IconCheckmark16","green500","notificationIconBusy","renderNotificationIcon","DocsLink","sectionKey","serverVersion","useConfig","docsVersion","major","minor","tag","getDocsVersion","docsKey","getDocsKeyForSection","Tooltip","content","placement","openDelay","closeDelay","link","rel","href","IconQuestion24","blue700","PageHeader","headerTitle","DEFAULT_LAST_YEARS","lastYearValues","i","lastYearElements","analyticsCheckboxes","checked","obj","Boolean","getActiveTaskIdFromSummary","taskSummaryResponse","taskId","entries","reduce","currLatestTask","taskNotifications","firstTaskNotification","getUpdatedNotifications","lastIndex","reverse","x","usePoll","interval","checkDone","setData","wrappedQuery","factory","ref","useRef","current","useConst","poll","cancel","start","started","polling","useLazyInterval","fn","fnRef","intervalId","setStarted","clearInterval","_len","args","Array","_key","setInterval","pollQuery","startAnalyticsTablesGenerationMutation","existingTasksQuery","tasks","Analytics","toggleCheckbox","useCheckboxes","setCheckboxes","lastYears","setLastYears","startAnalyticsTablesGeneration","useAnalytics","loadingExistingTask","response","noticeBox","form","Checkbox","checkbox","lastYearsSelect","handleStartAnalyticsTablesGeneration","notificationsTable","Content","renderValue","isArray","element","Title","invalidTitle","validTitle","countElements","sum","arr","acc","values","IssueCard","elementsCount","cardHeader","issueTitle","issueElementsCount","cardText","defaultProps","controls","dataElementsWithoutDataSet","dataElementsWithoutGroups","dataElementsViolatingExclusiveGroupSets","dataElementsAssignedToDataSetsWithDifferentPeriodTypes","dataSetsNotAssignedToOrganisationUnits","indicatorsWithIdenticalFormulas","indicatorsWithoutGroups","invalidIndicatorNumerators","invalidIndicatorDenominators","indicatorsViolatingExclusiveGroupSets","organisationUnitsWithCyclicReferences","orphanedOrganisationUnits","organisationUnitsWithoutGroups","organisationUnitsViolatingExclusiveGroupSets","organisationUnitGroupsWithoutGroupSets","validationRulesWithoutGroups","invalidValidationRuleLeftSideExpressions","invalidValidationRuleRightSideExpressions","invalidProgramIndicatorExpressions","invalidProgramIndicatorFilters","dataElementsInDataSetNotInForm","invalidCategoryCombos","duplicatePeriods","programRulesWithNoCondition","programRulesWithNoAction","programRulesWithNoPriority","programRuleVariablesWithNoDataElement","programRuleVariablesWithNoAttribute","programRuleActionsWithNoDataObject","programRuleActionsWithNoNotification","programRuleActionsWithNoSectionId","programRuleActionsWithNoStageId","programIndicatorsWithNoExpression","Issues","issues","errorElementskeys","includes","startDataIntegrityCheckMutation","jobId","DataIntegrity","startDataIntegrityCheck","useDataIntegrity","_poll$data","Blob","size","isPolling","FormattedNumber","Intl","NumberFormat","language","format","DataStatisticsTable","elements","suppressZebraStriping","count","OBJECT_COUNTS_KEY","ACTIVE_USERS_KEY","USER_INVITATIONS_KEY","DATA_VALUE_COUNT_KEY","EVENT_COUNT_KEY","EXPIRED_INVITATION_KEY","objectLabels","indicator","visualization","programStageInstance","validationRule","dataValue","program","dataElement","organisationUnitGroup","trackedEntityInstance","reportTable","programInstance","indicatorType","userGroup","user","indicatorGroup","chart","dataElementGroup","dashboard","eventVisualization","translatedTimeLabelFromIntProperty","intProperty","days","objectCountsTableFromResponse","objectCountsResponse","a","b","localeCompare","userInvitationsTableFromResponse","userInvitationsResponse","userInvitationsTable","hasOwnProperty","call","TableCard","dataSummary","DataStatistics","activeUsersResponse","dataValueCountsResponse","eventCountsResponse","parseTables","renderTable","tablesGrid","LockExceptions","page","setPage","pageSize","setPageSize","renderPagination","total","pageCount","pager","pagination","Pagination","onPageSizeChange","onPageChange","linkButton","tabIndex","Checkboxes","Maintenance","some","MIN_MAX_VALUE_ENDPOINT","organisationIdFromPath","array","generateMinMaxValueMutation","removeMinMaxValueMutation","MinMaxValueGeneration","generateMinMaxValue","removeMinMaxValue","selectedOrganisationUnit","setSelectedOrganisationUnit","selectedDataSets","setSelectedDataSets","formValid","left","MultiSelectField","clearable","MultiSelectOption","tree","r","singleSelection","startResourceTablesGenerationMutation","ResourceTable","startResourceTablesGeneration","useResourceTables","tableName","sections","component","info","docs","ResourceTables","_sections$find","section","HomeCard","titleText","bodyText","linkText","body","linkContainer","Home","grid","_extends","assign","bind","source","prototype","apply","Routes","Switch","Route","exact","Redirect","from","SidebarItem","isActive","useRouteMatch","createHref","pathname","search","hash","MenuItem","sidebarItem","navigateToPath","active","Sidebar","Menu","App","HashRouter","CssVariables","spacers","sidebar","contentWrapper"],"mappings":"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","file":"static/js/app.c1760ffb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__2zgzu\",\"sidebar\":\"App_sidebar__10tAV\",\"content\":\"App_content__3I8HS\",\"contentWrapper\":\"App_contentWrapper__28dVZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerContainer\":\"LockExceptionsSubpageHeader_headerContainer__3G247\",\"backArrowIcon\":\"LockExceptionsSubpageHeader_backArrowIcon__1wLrB\",\"header\":\"LockExceptionsSubpageHeader_header__2dlew\",\"headerDivider\":\"LockExceptionsSubpageHeader_headerDivider__1ftN5\",\"subHeader\":\"LockExceptionsSubpageHeader_subHeader__27Kvz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AddLockException_card__1cWmQ\",\"addLockExceptionButton\":\"AddLockException_addLockExceptionButton__11OjV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectsContainer\":\"AddLockExceptionForm_selectsContainer__3dMtH\",\"dataSetSelect\":\"AddLockExceptionForm_dataSetSelect__24gl-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"OrganisationUnitSelection_container__wN125\",\"organisationUnitTree\":\"OrganisationUnitSelection_organisationUnitTree__3dKyC\",\"right\":\"OrganisationUnitSelection_right__1j_L7\",\"currentRoot\":\"OrganisationUnitSelection_currentRoot__3f5Ub\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SelectAll_container__35JmG\",\"updatingSelection\":\"SelectAll_updatingSelection__2HA_s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Controls_container__zu83P\",\"updatingSelection\":\"Controls_updatingSelection__Buwnq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"NotificationsTable_table__Ah58Y\",\"notificationIconBusy\":\"NotificationsTable_notificationIconBusy__2pH9y\",\"ellipsis\":\"NotificationsTable_ellipsis__SgdPq\",\"message\":\"NotificationsTable_message__3nHyB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"DocsLink_link__3VtmR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"PageHeader_header__1jM0V\",\"headerTitle\":\"PageHeader_headerTitle__1KEEp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Analytics_card__yDnHd\",\"form\":\"Analytics_form__1kWco\",\"checkboxes\":\"Analytics_checkboxes__3x3kH\",\"noticeBox\":\"Analytics_noticeBox__33LKk\",\"checkbox\":\"Analytics_checkbox__iwSjP\",\"lastYearsSelect\":\"Analytics_lastYearsSelect__1u-Al\",\"notificationsTable\":\"Analytics_notificationsTable__afjRF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"IssueCard_card__3_lBo\",\"cardText\":\"IssueCard_cardText__2KnBC\",\"title\":\"IssueCard_title__3_GOd\",\"validTitle\":\"IssueCard_validTitle__3jUCJ IssueCard_title__3_GOd\",\"invalidTitle\":\"IssueCard_invalidTitle__1FknI IssueCard_title__3_GOd\",\"cardHeader\":\"IssueCard_cardHeader__3SCYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"issues\":\"Issues_issues__24Dvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"DataStatistics_card__-usL2\",\"tablesGrid\":\"DataStatistics_tablesGrid__1pIwI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"LockExceptions_pagination__14JE0\",\"headerContainer\":\"LockExceptions_headerContainer__1Xr9H\",\"linkButton\":\"LockExceptions_linkButton__c1Igr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkboxes\":\"Checkboxes_checkboxes__37c7z\",\"checkbox\":\"Checkboxes_checkbox__1sczJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Maintenance_card__1RUV7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"MinMaxValueGeneration_card__3HhUq\",\"header\":\"MinMaxValueGeneration_header__3aa-o\",\"container\":\"MinMaxValueGeneration_container__1KXr1\",\"label\":\"MinMaxValueGeneration_label__Zpg4R\",\"left\":\"MinMaxValueGeneration_left___Z-17\",\"right\":\"MinMaxValueGeneration_right__3Nvgn\",\"tree\":\"MinMaxValueGeneration_tree__1LuaX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ResourceTables_card__1Xjck\",\"description\":\"ResourceTables_description__3ojib\",\"tableName\":\"ResourceTables_tableName__3eEPw\",\"noticeBox\":\"ResourceTables_noticeBox__2-ZOw\",\"notificationsTable\":\"ResourceTables_notificationsTable__3uSsd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Home_grid__2izOz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomeCard_container__31SCm\",\"title\":\"HomeCard_title__NC2OV\",\"body\":\"HomeCard_body__1ZH7E\",\"linkContainer\":\"HomeCard_linkContainer__1OnTB\",\"link\":\"HomeCard_link__pwSb2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarItem\":\"SidebarItem_sidebarItem__1m_xH\"};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ar_SDTranslations from './ar_SD/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport mnTranslations from './mn/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport rwTranslations from './rw/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ar_SD', namespace, ar_SDTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('mn', namespace, mnTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('rw', namespace, rwTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import i18n from '@dhis2/d2-i18n';\nimport { colors, IconArrowLeft24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './LockExceptionsSubpageHeader.module.css';\nconst LockExceptionsSubpageHeader = _ref => {\n  let {\n    title\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.headerContainer\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/lock-exceptions\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.backArrowIcon,\n    title: i18n.t('Go back to all lock exceptions')\n  }, /*#__PURE__*/React.createElement(IconArrowLeft24, {\n    color: colors.grey900\n  }))), /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Lock Exception')), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.headerDivider\n  }, \" | \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.subHeader\n  }, title)));\n};\nLockExceptionsSubpageHeader.propTypes = {\n  title: PropTypes.string.isRequired\n};\nexport default LockExceptionsSubpageHeader;","import { useState } from 'react';\nconst useOrgUnitCache = () => {\n  const [cache, setCache] = useState(new Map());\n  return {\n    has: function () {\n      let currentRootId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      let itemId = arguments.length > 1 ? arguments[1] : undefined;\n      return cache.has(currentRootId) && cache.get(currentRootId).has(itemId);\n    },\n    set: function () {\n      let currentRootId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      let itemId = arguments.length > 1 ? arguments[1] : undefined;\n      let orgUnits = arguments.length > 2 ? arguments[2] : undefined;\n      if (!cache.has(currentRootId)) {\n        cache.set(currentRootId, new Map());\n      }\n      const currentRootCache = cache.get(currentRootId);\n      currentRootCache.set(itemId, orgUnits);\n      setCache(cache);\n    },\n    get: function () {\n      let currentRootId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      let itemId = arguments.length > 1 ? arguments[1] : undefined;\n      return cache.get(currentRootId).get(itemId);\n    }\n  };\n};\nexport default useOrgUnitCache;","import { useDataEngine, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CircularLoader, ButtonStrip, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport styles from './SelectAll.module.css';\nimport useOrgUnitCache from './use-org-unit-cache.js';\nconst currentRootOrgUnitsQuery = {\n  orgUnits: {\n    resource: 'organisationUnits',\n    id: _ref => {\n      let {\n        currentRootId\n      } = _ref;\n      return currentRootId;\n    },\n    params: {\n      fields: 'id,path',\n      includeDescendants: true,\n      paging: false\n    }\n  }\n};\nconst SelectAll = _ref2 => {\n  let {\n    currentRootId,\n    allOrgUnitPaths,\n    onSelect,\n    onDeselect\n  } = _ref2;\n  const [loading, setLoading] = useState(false);\n  const engine = useDataEngine();\n  const orgUnitCache = useOrgUnitCache();\n  const errorAlert = useAlert(_ref3 => {\n    let {\n      error\n    } = _ref3;\n    return error.message;\n  }, {\n    critical: true\n  });\n  const getOrgUnitPathsForCurrentRoot = async () => {\n    if (!currentRootId) {\n      return allOrgUnitPaths;\n    } else if (orgUnitCache.has(currentRootId, null)) {\n      return orgUnitCache.get(currentRootId, null);\n    }\n    setLoading(true);\n    try {\n      const result = await engine.query(currentRootOrgUnitsQuery, {\n        variables: {\n          currentRootId\n        }\n      });\n      const orgUnits = result.orgUnits.organisationUnits;\n      const orgUnitPaths = orgUnits.map(_ref4 => {\n        let {\n          path\n        } = _ref4;\n        return path;\n      });\n      orgUnitCache.set(currentRootId, null, orgUnitPaths);\n      return orgUnitPaths;\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSelectAll = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForCurrentRoot();\n    onSelect(orgUnitPaths);\n  };\n  const handleDeselectAll = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForCurrentRoot();\n    onDeselect(orgUnitPaths);\n  };\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.updatingSelection\n    }, /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }), i18n.t('Updating selection...'));\n  }\n  return /*#__PURE__*/React.createElement(ButtonStrip, {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSelectAll,\n    disabled: loading\n  }, i18n.t('Select All Org Units')), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDeselectAll,\n    disabled: loading\n  }, i18n.t('Deselect All Org Units')));\n};\nSelectAll.propTypes = {\n  allOrgUnitPaths: PropTypes.array.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  // If currentRootId is set, only org units that are descendants of the\n  // current root org unit will be added to or removed from the selection\n  currentRootId: PropTypes.string\n};\nexport default SelectAll;","import i18n from '@dhis2/d2-i18n';\nimport { CircularLoader, SingleSelectField, SingleSelectOption, ButtonStrip, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './Controls.module.css';\nconst Controls = _ref => {\n  let {\n    items,\n    selectedItem,\n    onSelectedItemChange,\n    label,\n    placeholder,\n    loading,\n    onSelect,\n    onDeselect\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: label,\n    placeholder: placeholder,\n    selected: selectedItem,\n    disabled: loading,\n    filterable: true,\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onSelectedItemChange(selected);\n    }\n  }, items.map(_ref3 => {\n    let {\n      label,\n      value\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(SingleSelectOption, {\n      key: label,\n      label: label,\n      value: value\n    });\n  })), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.updatingSelection\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  }), i18n.t('Updating selection...')) : /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: onSelect,\n    disabled: loading || !selectedItem\n  }, i18n.t('Select')), /*#__PURE__*/React.createElement(Button, {\n    onClick: onDeselect,\n    disabled: loading || !selectedItem\n  }, i18n.t('Deselect'))));\n};\nControls.propTypes = {\n  items: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onSelectedItemChange: PropTypes.func.isRequired,\n  loading: PropTypes.bool,\n  selectedItem: PropTypes.any\n};\nexport default Controls;","import { useDataEngine, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport Controls from './Controls.js';\nimport useOrgUnitCache from './use-org-unit-cache.js';\nconst currentRootOrgUnitsQuery = {\n  orgUnits: {\n    resource: 'organisationUnits',\n    id: _ref => {\n      let {\n        currentRootId\n      } = _ref;\n      return currentRootId;\n    },\n    params: _ref2 => {\n      let {\n        groupId\n      } = _ref2;\n      return {\n        fields: 'id,path',\n        filter: `organisationUnitGroups.id:eq:${groupId}`,\n        includeDescendants: true,\n        paging: false\n      };\n    }\n  }\n};\nconst orgUnitGroupsQuery = {\n  orgUnitGroups: {\n    resource: 'organisationUnitGroups',\n    id: _ref3 => {\n      let {\n        groupId\n      } = _ref3;\n      return groupId;\n    },\n    params: {\n      fields: `organisationUnits[id,path]`\n    }\n  }\n};\nconst SelectByGroup = _ref4 => {\n  let {\n    groups,\n    currentRootId,\n    onSelect,\n    onDeselect\n  } = _ref4;\n  const [loading, setLoading] = useState(false);\n  const [groupId, setGroupId] = useState(null);\n  const engine = useDataEngine();\n  const orgUnitCache = useOrgUnitCache();\n  const errorAlert = useAlert(_ref5 => {\n    let {\n      error\n    } = _ref5;\n    return error.message;\n  }, {\n    critical: true\n  });\n  const items = groups.map(_ref6 => {\n    let {\n      id,\n      displayName\n    } = _ref6;\n    return {\n      label: displayName,\n      value: id\n    };\n  });\n  const getOrgUnitPathsForGroup = async () => {\n    if (orgUnitCache.has(currentRootId, groupId)) {\n      return orgUnitCache.get(currentRootId, groupId);\n    }\n    setLoading(true);\n    try {\n      const orgUnits = currentRootId ? (await engine.query(currentRootOrgUnitsQuery, {\n        variables: {\n          currentRootId,\n          groupId\n        }\n      })).orgUnits.organisationUnits : (await engine.query(orgUnitGroupsQuery, {\n        variables: {\n          groupId\n        }\n      })).orgUnitGroups.organisationUnits;\n      const orgUnitPaths = orgUnits.map(_ref7 => {\n        let {\n          path\n        } = _ref7;\n        return path;\n      });\n      orgUnitCache.set(currentRootId, groupId, orgUnitPaths);\n      return orgUnitPaths;\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSelect = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForGroup();\n    onSelect(orgUnitPaths);\n  };\n  const handleDeselect = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForGroup();\n    onDeselect(orgUnitPaths);\n  };\n  return /*#__PURE__*/React.createElement(Controls, {\n    items: items,\n    selectedItem: groupId,\n    onSelectedItemChange: setGroupId,\n    label: i18n.t('Organisation unit group'),\n    placeholder: i18n.t('Select an organisation unit group'),\n    loading: loading,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  });\n};\nSelectByGroup.propTypes = {\n  // groups is an array of objects, where each object should contain `id` and\n  // `displayName` properties\n  groups: PropTypes.array.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  // If currentRootId is set, only org units that are descendants of the\n  // current root org unit will be added to or removed from the selection\n  currentRootId: PropTypes.string\n};\nexport default SelectByGroup;","import { useDataEngine, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport Controls from './Controls.js';\nimport useOrgUnitCache from './use-org-unit-cache.js';\nconst currentRootOrgUnitsQuery = {\n  orgUnits: {\n    resource: 'organisationUnits',\n    id: _ref => {\n      let {\n        currentRootId\n      } = _ref;\n      return currentRootId;\n    },\n    params: _ref2 => {\n      let {\n        level\n      } = _ref2;\n      return {\n        fields: 'id,path',\n        level,\n        paging: false\n      };\n    }\n  }\n};\nconst orgUnitsQuery = {\n  orgUnits: {\n    resource: 'organisationUnits',\n    params: _ref3 => {\n      let {\n        level\n      } = _ref3;\n      return {\n        fields: 'id,path',\n        level,\n        paging: false\n      };\n    }\n  }\n};\nconst SelectByLevel = _ref4 => {\n  let {\n    levels,\n    currentRoot,\n    onSelect,\n    onDeselect\n  } = _ref4;\n  const [loading, setLoading] = useState(false);\n  const [level, setLevel] = useState(null);\n  const engine = useDataEngine();\n  const orgUnitCache = useOrgUnitCache();\n  const errorAlert = useAlert(_ref5 => {\n    let {\n      error\n    } = _ref5;\n    return error.message;\n  }, {\n    critical: true\n  });\n  const currentRootId = currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.id;\n  const currentRootLevel = currentRoot ?\n  // The OrganisationUnitTree component does not currently fetch the `level`\n  // field and so we must count the number of forward slashes in the org unit\n  // path\n  currentRoot.level || currentRoot.path.match(/\\//g).length : 1;\n  const items = levels.filter(_ref6 => {\n    let {\n      level\n    } = _ref6;\n    return level >= currentRootLevel;\n  }).map(_ref7 => {\n    let {\n      displayName,\n      level\n    } = _ref7;\n    return {\n      label: displayName,\n      value: level.toString()\n    };\n  });\n  const getOrgUnitPathsForLevel = async () => {\n    if (orgUnitCache.has(currentRootId, level)) {\n      return orgUnitCache.get(currentRootId, level);\n    }\n    setLoading(true);\n    try {\n      const relativeLevel = level - currentRootLevel;\n      const orgUnits = currentRootId ? (await engine.query(currentRootOrgUnitsQuery, {\n        variables: {\n          currentRootId,\n          level: relativeLevel\n        }\n      })).orgUnits.organisationUnits : (await engine.query(orgUnitsQuery, {\n        variables: {\n          level\n        }\n      })).orgUnits.organisationUnits;\n      const orgUnitPaths = orgUnits.map(_ref8 => {\n        let {\n          path\n        } = _ref8;\n        return path;\n      });\n      orgUnitCache.set(currentRootId, level, orgUnitPaths);\n      return orgUnitPaths;\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSelect = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForLevel();\n    onSelect(orgUnitPaths);\n  };\n  const handleDeselect = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForLevel();\n    onDeselect(orgUnitPaths);\n  };\n  return /*#__PURE__*/React.createElement(Controls, {\n    items: items,\n    selectedItem: level ? String(level) : null,\n    onSelectedItemChange: level => setLevel(Number(level)),\n    label: i18n.t('Organisation unit level'),\n    placeholder: i18n.t('Select an organisation unit level'),\n    loading: loading,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  });\n};\nSelectByLevel.propTypes = {\n  // levels is an array of objects, where each object should contain `level`\n  // and `displayName` properties\n  levels: PropTypes.array.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  // If currentRoot is set, only org units that are descendants of the\n  // current root org unit will be added to or removed from the selection\n  currentRoot: (props, propName) => {\n    if (props[propName]) {\n      if (!Object.prototype.hasOwnProperty.call(props[propName], 'id')) {\n        return new Error('currentRoot must have an `id` property');\n      }\n      if (!Object.prototype.hasOwnProperty.call(props[propName], 'level') && !Object.prototype.hasOwnProperty.call(props[propName], 'path')) {\n        return new Error('currentRoot must have either a `level` or a `path` property');\n      }\n    }\n  }\n};\nexport default SelectByLevel;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { NoticeBox, CenteredContent, CircularLoader, OrganisationUnitTree } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport styles from './OrganisationUnitSelection.module.css';\nimport SelectAll from './SelectAll.js';\nimport SelectByGroup from './SelectByGroup.js';\nimport SelectByLevel from './SelectByLevel.js';\nconst union = (arr1, arr2) => [...new Set(arr1.concat(arr2))];\nconst difference = (arr1, arr2) => {\n  const set = new Set(arr1);\n  arr2.forEach(item => {\n    set.delete(item);\n  });\n  return [...set];\n};\nconst query = {\n  rootWithMembers: {\n    resource: 'organisationUnits',\n    params: _ref => {\n      let {\n        dataSetId\n      } = _ref;\n      return {\n        fields: 'id,path',\n        level: 1,\n        memberCollection: 'dataSets',\n        memberObject: dataSetId,\n        paging: false\n      };\n    }\n  },\n  dataSetMembers: {\n    resource: 'dataSets',\n    id: _ref2 => {\n      let {\n        dataSetId\n      } = _ref2;\n      return dataSetId;\n    },\n    params: {\n      fields: 'organisationUnits[id,path]',\n      paging: false\n    }\n  }\n};\nconst OrganisationUnitSelection = _ref3 => {\n  let {\n    dataSetId,\n    levels,\n    groups,\n    selected,\n    onSelectedChange\n  } = _ref3;\n  const [currentRoot, setCurrentRoot] = useState(null);\n  const {\n    loading,\n    called,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  useEffect(() => {\n    setCurrentRoot(null);\n    refetch({\n      dataSetId\n    });\n  }, [dataSetId]);\n  const handleOrgUnitClick = _ref4 => {\n    let {\n      selected,\n      ...currentRoot\n    } = _ref4;\n    setCurrentRoot(currentRoot);\n    onSelectedChange(selected);\n  };\n  const handleSelect = orgUnitPaths => {\n    const newSelected = union(selected, orgUnitPaths);\n    onSelectedChange(newSelected);\n  };\n  const handleDeselect = orgUnitPaths => {\n    const newSelected = difference(selected, orgUnitPaths);\n    onSelectedChange(newSelected);\n  };\n  if (loading || !called) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      title: i18n.t('Error loading data for data set'),\n      error: true\n    }, error.message);\n  }\n  const rootWithMembers = data.rootWithMembers.organisationUnits[0];\n  const orgUnitPaths = data.dataSetMembers.organisationUnits.map(ou => ou.path);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.organisationUnitTree,\n    \"data-test\": \"add-lock-exception-org-unit-tree\"\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    roots: [rootWithMembers.id],\n    initiallyExpanded: [rootWithMembers.path],\n    highlighted: currentRoot ? [currentRoot.id] : [],\n    filter: orgUnitPaths,\n    selected: selected,\n    onChange: handleOrgUnitClick\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.currentRoot\n  }, currentRoot ? i18n.t('For organisation units within {{organisationUnitName}}:', {\n    organisationUnitName: currentRoot.displayName\n  }) : i18n.t('For all organisation units:')), /*#__PURE__*/React.createElement(SelectByLevel, {\n    levels: levels,\n    currentRoot: currentRoot,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  }), /*#__PURE__*/React.createElement(SelectByGroup, {\n    groups: groups,\n    currentRootId: currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.id,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  }), /*#__PURE__*/React.createElement(SelectAll, {\n    currentRootId: currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.id,\n    allOrgUnitPaths: orgUnitPaths,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  })));\n};\nOrganisationUnitSelection.propTypes = {\n  dataSetId: PropTypes.string.isRequired,\n  groups: PropTypes.array.isRequired,\n  levels: PropTypes.array.isRequired,\n  selected: PropTypes.array.isRequired,\n  onSelectedChange: PropTypes.func.isRequired\n};\nexport default OrganisationUnitSelection;","import i18n from '@dhis2/d2-i18n';\nimport { InputField, SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst getFirstDateOfWeek = (year, week) => {\n  const ordTable = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n  const ordTableLeap = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n  const isLeapYear = new Date(new Date(year, 2, 1).setDate(0)).getDate() === 29;\n  const ordDiff = isLeapYear ? ordTableLeap : ordTable;\n  const correction = (new Date(year, 0, 4).getDay() || 7) + 3;\n  const ordDate = week * 7 + (1 - correction);\n  if (ordDate < 0) {\n    return new Date(year, 0, ordDate);\n  }\n  let month = 11;\n  while (ordDate < ordDiff[month]) {\n    month--;\n  }\n  return new Date(year, month, ordDate - ordDiff[month]);\n};\nconst is53WeekISOYear = year => {\n  const p = y => y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400);\n  return p(year) % 7 === 4 || p(year - 1) % 7 === 3;\n};\nconst styles = {\n  line: {\n    display: 'flex'\n  }\n};\nconst getYear = date => new Date(date).getFullYear().toString();\nconst getTwoDigitMonth = date => {\n  const month = new Date(date).getMonth() + 1; // Month is 0 indexed\n\n  return `0${month}`.slice(-2);\n};\nconst getTwoDigitDay = date => {\n  const day = new Date(date).getDate();\n  return `0${day}`.slice(-2);\n};\nconst formattedDate = date => `${getYear(date)}${getTwoDigitMonth(date)}${getTwoDigitDay(date)}`;\nconst getWeekYear = date => {\n  // Create a new date object for the thursday of this week\n  const target = new Date(date);\n  target.setDate(target.getDate() - (date.getDay() + 6) % 7 + 3);\n  return target.getFullYear();\n};\nconst isWeekValid = (date, week) =>\n// It's not possible to have a week 53 in a 52 week year\n!is53WeekISOYear(date) && Number(week) !== 53;\nconst biWeekToWeek = biWeekStr => parseInt(biWeekStr) * 2 - 1;\nconst isoDate = date => new Date(date).toISOString().split('T')[0];\nclass PeriodPicker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  getTranslation(key) {\n    const periodTypeLabels = {\n      week: i18n.t('week'),\n      month: i18n.t('month'),\n      year: i18n.t('year'),\n      biWeek: i18n.t('bi weekly'),\n      biMonth: i18n.t('bi monthly'),\n      day: i18n.t('day'),\n      jan: i18n.t('jan'),\n      feb: i18n.t('feb'),\n      mar: i18n.t('mar'),\n      apr: i18n.t('apr'),\n      may: i18n.t('may'),\n      jun: i18n.t('jun'),\n      jul: i18n.t('jul'),\n      aug: i18n.t('aug'),\n      sep: i18n.t('sep'),\n      oct: i18n.t('oct'),\n      nov: i18n.t('nov'),\n      dec: i18n.t('dec'),\n      'jan-feb': i18n.t('jan-feb'),\n      'mar-apr': i18n.t('mar-apr'),\n      'may-jun': i18n.t('may-jun'),\n      'jul-aug': i18n.t('jul-aug'),\n      'sep-oct': i18n.t('sep-oct'),\n      'nov-dec': i18n.t('nov-dec'),\n      quarter: i18n.t('quarter'),\n      Q1: i18n.t('Q1'),\n      Q2: i18n.t('Q2'),\n      Q3: i18n.t('Q3'),\n      Q4: i18n.t('Q4'),\n      sixMonth: i18n.t('six monthly'),\n      'jan-jun': i18n.t('jan-jun'),\n      'jul-dec': i18n.t('jul-dec'),\n      'apr-sep': i18n.t('apr-sep'),\n      'oct-mar': i18n.t('oct-mar')\n    };\n    return periodTypeLabels[key] || key;\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.periodType !== prevProps.periodType) {\n      this.handleChange();\n    }\n  }\n  getPeriod() {\n    const week = this.props.periodType === 'BiWeekly' && this.state.biWeek ? biWeekToWeek(this.state.biWeek) : this.state.week;\n    const date = this.state.year && week && getFirstDateOfWeek(this.state.year, week);\n    switch (this.props.periodType) {\n      case 'Daily':\n        return this.state.date && formattedDate(this.state.date);\n      case 'Weekly':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}W${this.state.week}`;\n      case 'WeeklyWednesday':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}WedW${this.state.week}`;\n      case 'WeeklyThursday':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}ThuW${this.state.week}`;\n      case 'WeeklySaturday':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}SatW${this.state.week}`;\n      case 'WeeklySunday':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}SunW${this.state.week}`;\n      case 'BiWeekly':\n        if (date) {\n          this.setState({\n            invalidBiWeek: !isWeekValid(date, biWeekToWeek(this.state.biWeek))\n          });\n        }\n        return this.state.year && this.state.biWeek && `${this.state.year}BiW${this.state.biWeek}`;\n      case 'Monthly':\n        return this.state.year && this.state.month && `${this.state.year}${this.state.month}`;\n      case 'BiMonthly':\n        return this.state.year && this.state.biMonth && `${this.state.year}0${this.state.biMonth}B`;\n      case 'Quarterly':\n        return this.state.year && this.state.quarter && `${this.state.year}Q${this.state.quarter}`;\n      case 'SixMonthly':\n        return this.state.year && this.state.sixMonth && `${this.state.year}S${this.state.sixMonth}`;\n      case 'SixMonthlyApril':\n        return this.state.year && this.state.sixMonth && `${this.state.year}AprilS${this.state.sixMonth}`;\n      case 'SixMonthlyNov':\n        return this.state.year && this.state.sixMonth && `${this.state.year}NovS${this.state.sixMonth}`;\n      case 'Yearly':\n        return this.state.year;\n      case 'FinancialApril':\n        return this.state.year && `${this.state.year}April`;\n      case 'FinancialJuly':\n        return this.state.year && `${this.state.year}July`;\n      case 'FinancialOct':\n        return this.state.year && `${this.state.year}Oct`;\n      default:\n        return false;\n    }\n  }\n  handleChange() {\n    if (this.getPeriod()) {\n      this.props.onPickPeriod(this.getPeriod());\n    }\n  }\n  renderOptionPicker(name, options) {\n    const handleChange = _ref => {\n      let {\n        selected\n      } = _ref;\n      return this.setState({\n        [name]: selected\n      }, this.handleChange);\n    };\n    const isInvalid = name === 'week' && this.state.invalidWeek || name === 'biWeek' && this.state.invalidBiWeek;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'inline-block'\n      },\n      \"data-test\": `period-picker-option-${name}`\n    }, /*#__PURE__*/React.createElement(SingleSelectField, {\n      label: this.getTranslation(name),\n      selected: this.state[name],\n      onChange: handleChange,\n      error: isInvalid\n    }, Object.keys(options).sort().map(value => /*#__PURE__*/React.createElement(SingleSelectOption, {\n      key: value,\n      label: /[^0-9]/.test(options[value]) && name !== 'biWeek' ? this.getTranslation(options[value]) : options[value],\n      value: value\n    }))));\n  }\n  renderYearPicker() {\n    const years = {};\n    const currentYear = new Date().getFullYear();\n    for (let year = 2014; year < currentYear + 5; year++) {\n      years[year] = year;\n    }\n    return this.renderOptionPicker('year', years);\n  }\n  renderMonthPicker() {\n    const months = {\n      '01': 'jan',\n      '02': 'feb',\n      '03': 'mar',\n      '04': 'apr',\n      '05': 'may',\n      '06': 'jun',\n      '07': 'jul',\n      '08': 'aug',\n      '09': 'sep',\n      10: 'oct',\n      11: 'nov',\n      12: 'dec'\n    };\n    return this.renderOptionPicker('month', months);\n  }\n  renderWeekPicker() {\n    const weeks = {};\n    const weekLimit = 53;\n    for (let week = 1; week <= weekLimit; week++) {\n      weeks[`0${week}`.substr(-2)] = week;\n    }\n    return this.renderOptionPicker('week', weeks);\n  }\n  renderBiWeekPicker() {\n    const biWeeks = {};\n    const biWeekLimit = 27;\n    const prefix = this.getTranslation('biWeek');\n    for (let biWeek = 1; biWeek <= biWeekLimit; biWeek++) {\n      biWeeks[`0${biWeek}`.substr(-2)] = `${prefix} ${biWeek}`;\n    }\n    return this.renderOptionPicker('biWeek', biWeeks);\n  }\n  renderBiMonthPicker() {\n    const biMonths = {\n      1: 'jan-feb',\n      2: 'mar-apr',\n      3: 'may-jun',\n      4: 'jul-aug',\n      5: 'sep-oct',\n      6: 'nov-dec'\n    };\n    return this.renderOptionPicker('biMonth', biMonths);\n  }\n  renderQuarterPicker() {\n    const quarters = {\n      1: 'Q1',\n      2: 'Q2',\n      3: 'Q3',\n      4: 'Q4'\n    };\n    return this.renderOptionPicker('quarter', quarters);\n  }\n  render() {\n    const setDateState = _ref2 => {\n      let {\n        value: date\n      } = _ref2;\n      const year = getYear(date);\n      const month = getTwoDigitMonth(date);\n      this.setState({\n        date,\n        year,\n        month\n      }, this.handleChange);\n    };\n    switch (this.props.periodType) {\n      case 'Daily':\n        return /*#__PURE__*/React.createElement(InputField, {\n          type: \"date\",\n          label: this.getTranslation('day'),\n          value: this.state.date && isoDate(this.state.date),\n          onChange: setDateState\n        });\n      case 'Weekly':\n      case 'WeeklyWednesday':\n      case 'WeeklyThursday':\n      case 'WeeklySaturday':\n      case 'WeeklySunday':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderWeekPicker());\n      case 'BiWeekly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderBiWeekPicker());\n      case 'Monthly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderMonthPicker());\n      case 'BiMonthly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderBiMonthPicker());\n      case 'Quarterly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderQuarterPicker());\n      case 'SixMonthly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderOptionPicker('sixMonth', {\n          1: 'jan-jun',\n          2: 'jul-dec'\n        }));\n      case 'SixMonthlyApril':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderOptionPicker('sixMonth', {\n          1: 'apr-sep',\n          2: 'oct-mar'\n        }));\n      case 'SixMonthlyNov':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderOptionPicker('sixMonth', {\n          1: 'nov-apr',\n          2: 'may-oct'\n        }));\n      case 'Yearly':\n      case 'FinancialApril':\n      case 'FinancialJuly':\n      case 'FinancialOct':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker());\n      default:\n        return null;\n    }\n  }\n}\nPeriodPicker.propTypes = {\n  periodType: PropTypes.oneOf(['Daily', 'Weekly', 'WeeklyWednesday', 'WeeklyThursday', 'WeeklySaturday', 'WeeklySunday', 'BiWeekly', 'Monthly', 'BiMonthly', 'Quarterly', 'SixMonthly', 'SixMonthlyApril', 'SixMonthlyNov', 'Yearly', 'FinancialApril', 'FinancialJuly', 'FinancialOct']).isRequired,\n  onPickPeriod: PropTypes.func.isRequired\n};\nexport default PeriodPicker;","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './AddLockExceptionForm.module.css';\nimport OrganisationUnitSelection from './OrganisationUnitSelection/OrganisationUnitSelection.js';\nimport PeriodPicker from './PeriodPicker.js';\nconst AddLockExceptionForm = _ref => {\n  let {\n    dataSets,\n    groups,\n    levels,\n    selectedDataSetId,\n    selectedOrgUnits,\n    onSelectedDataSetIdChange,\n    onSelectedOrgUnitsChange,\n    onSelectedPeriodIdChange\n  } = _ref;\n  const handleDataSetChange = _ref2 => {\n    let {\n      selected: dataSetId\n    } = _ref2;\n    if (selectedDataSetId !== null && dataSetId === selectedDataSetId) {\n      return;\n    }\n    onSelectedDataSetIdChange(dataSetId);\n    onSelectedOrgUnitsChange([]);\n  };\n  const selectedDataSet = dataSets.find(ds => ds.id === selectedDataSetId);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.selectsContainer\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    className: styles.dataSetSelect,\n    label: i18n.t('Data set'),\n    placeholder: i18n.t('Select a data set'),\n    selected: selectedDataSetId,\n    filterable: true,\n    onChange: handleDataSetChange,\n    dataTest: \"add-lock-exception-select-data-set\"\n  }, dataSets.map(ds => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: ds.id,\n    label: ds.displayName,\n    value: ds.id\n  }))), selectedDataSetId && /*#__PURE__*/React.createElement(PeriodPicker, {\n    periodType: selectedDataSet.periodType,\n    onPickPeriod: onSelectedPeriodIdChange\n  })), selectedDataSetId && /*#__PURE__*/React.createElement(OrganisationUnitSelection, {\n    dataSetId: selectedDataSetId,\n    levels: levels,\n    groups: groups,\n    selected: selectedOrgUnits,\n    onSelectedChange: onSelectedOrgUnitsChange\n  }));\n};\nAddLockExceptionForm.propTypes = {\n  dataSets: PropTypes.array.isRequired,\n  groups: PropTypes.array.isRequired,\n  levels: PropTypes.array.isRequired,\n  selectedOrgUnits: PropTypes.array.isRequired,\n  onSelectedDataSetIdChange: PropTypes.func.isRequired,\n  onSelectedOrgUnitsChange: PropTypes.func.isRequired,\n  onSelectedPeriodIdChange: PropTypes.func.isRequired,\n  selectedDataSetId: PropTypes.string\n};\nexport default AddLockExceptionForm;","import { useDataQuery, useDataMutation, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CenteredContent, NoticeBox, Button, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport LockExceptionsSubpageHeader from '../../components/LockExceptionsSubpageHeader/LockExceptionsSubpageHeader.js';\nimport styles from './AddLockException.module.css';\nimport AddLockExceptionForm from './AddLockExceptionForm/AddLockExceptionForm.js';\nconst query = {\n  levels: {\n    resource: 'organisationUnitLevels',\n    params: {\n      fields: 'id,level,displayName',\n      paging: false,\n      order: 'level:asc'\n    }\n  },\n  groups: {\n    resource: 'organisationUnitGroups',\n    params: {\n      fields: 'id,displayName',\n      paging: false\n    }\n  },\n  dataSets: {\n    resource: 'dataSets',\n    params: {\n      fields: 'id,displayName,periodType',\n      paging: false\n    }\n  }\n};\nconst mutation = {\n  resource: 'lockExceptions',\n  type: 'create',\n  params: params => params\n};\nconst AddLockException = () => {\n  const history = useHistory();\n  const dataQuery = useDataQuery(query);\n  const successAlert = useAlert(i18n.t('Lock exception added'), {\n    success: true\n  });\n  const errorAlert = useAlert(_ref => {\n    let {\n      error\n    } = _ref;\n    return i18n.t('Error adding lock exception: {{error}}', {\n      error,\n      nsSeparator: '-:-'\n    });\n  }, {\n    critical: true\n  });\n  const [mutate, dataMutation] = useDataMutation(mutation, {\n    onComplete: () => {\n      successAlert.show();\n      history.push('/lock-exceptions');\n    },\n    onError: error => {\n      errorAlert.show({\n        error\n      });\n    }\n  });\n  const [selectedOrgUnits, setSelectedOrgUnits] = useState([]);\n  const [selectedDataSetId, setSelectedDataSetId] = useState(null);\n  const [selectedPeriodId, setSelectedPeriodId] = useState(null);\n  const handleAdd = () => {\n    const orgUnitIds = selectedOrgUnits.map(orgUnitPath => {\n      const splitOrgUnitPath = orgUnitPath.split('/');\n      return splitOrgUnitPath[splitOrgUnitPath.length - 1];\n    });\n    mutate({\n      ou: `[${orgUnitIds.join(',')}]`,\n      pe: selectedPeriodId,\n      ds: selectedDataSetId\n    });\n  };\n  const isAddActionDisabled = dataMutation.loading || !(selectedOrgUnits.length > 0 && selectedDataSetId && selectedPeriodId);\n  if (dataQuery.loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  if (dataQuery.error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true\n    }, dataQuery.error.message));\n  }\n  const {\n    levels: {\n      organisationUnitLevels\n    },\n    groups: {\n      organisationUnitGroups\n    },\n    dataSets: {\n      dataSets\n    }\n  } = dataQuery.data;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LockExceptionsSubpageHeader, {\n    title: i18n.t('Add lock exception')\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(AddLockExceptionForm, {\n    levels: organisationUnitLevels,\n    groups: organisationUnitGroups,\n    dataSets: dataSets,\n    selectedDataSetId: selectedDataSetId,\n    selectedOrgUnits: selectedOrgUnits,\n    onSelectedDataSetIdChange: setSelectedDataSetId,\n    onSelectedOrgUnitsChange: setSelectedOrgUnits,\n    onSelectedPeriodIdChange: setSelectedPeriodId\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: styles.addLockExceptionButton,\n    primary: true,\n    disabled: isAddActionDisabled,\n    onClick: handleAdd\n  }, dataMutation.loading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Adding lock exception...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Add lock exception'))));\n};\nexport default AddLockException;","import i18n from '@dhis2/d2-i18n';\nimport { Button, Table, TableHead, TableRowHead, TableCellHead, TableBody, TableRow, TableCell, IconDelete16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst columnLabels = {\n  dataSet: i18n.t('Data set'),\n  period: i18n.t('Period'),\n  organisationUnit: i18n.t('Organisation unit')\n};\nconst LockExceptionsTable = _ref => {\n  let {\n    columns,\n    rows,\n    atBatchDeletionPage,\n    onRemoveLockException\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, columns.map(column => /*#__PURE__*/React.createElement(TableCellHead, {\n    key: column\n  }, columnLabels[column])), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, rows.map((row, index) => /*#__PURE__*/React.createElement(TableRow, {\n    key: index\n  }, columns.map(column => /*#__PURE__*/React.createElement(TableCell, {\n    key: column\n  }, row[column])), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    onClick: () => onRemoveLockException(row)\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    title: atBatchDeletionPage ? i18n.t('Batch delete lock exceptions') : i18n.t('Remove lock exception')\n  }, /*#__PURE__*/React.createElement(IconDelete16, null))))))));\n};\nLockExceptionsTable.propTypes = {\n  atBatchDeletionPage: PropTypes.bool.isRequired,\n  columns: PropTypes.array.isRequired,\n  rows: PropTypes.array.isRequired,\n  onRemoveLockException: PropTypes.func.isRequired\n};\nexport default LockExceptionsTable;","import { useAlert, useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Modal, ModalTitle, ModalContent, ModalActions, ButtonStrip, Button, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst mutation = {\n  resource: 'lockExceptions',\n  type: 'delete',\n  params: params => params\n};\nconst RemoveLockExceptionModal = _ref => {\n  let {\n    lockException,\n    onRemove,\n    onClose\n  } = _ref;\n  const successAlert = useAlert(i18n.t('Lock exception removed'), {\n    success: true\n  });\n  const errorAlert = useAlert(_ref2 => {\n    let {\n      error\n    } = _ref2;\n    return i18n.t('Error removing lock exception: {{error}}', {\n      error,\n      nsSeparator: '-:-'\n    });\n  }, {\n    critical: true\n  });\n  const [removeLockException, {\n    loading\n  }] = useDataMutation(mutation, {\n    onComplete: () => {\n      successAlert.show();\n      onRemove();\n      onClose();\n    },\n    onError: error => errorAlert.show({\n      error\n    })\n  });\n  const handleRemoveLockException = () => {\n    const params = {\n      pe: lockException.periodId,\n      ds: lockException.dataSetId\n    };\n    if (lockException.organisationUnitId) {\n      params.ou = lockException.organisationUnitId;\n    }\n    removeLockException(params);\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: onClose\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Remove lock exception')), /*#__PURE__*/React.createElement(ModalContent, null, i18n.t('Are you sure you want to remove this lock exception?')), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    disabled: loading,\n    onClick: onClose\n  }, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    disabled: loading,\n    onClick: handleRemoveLockException\n  }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Removing lock exception...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Yes, remove lock exception')))));\n};\nRemoveLockExceptionModal.propTypes = {\n  lockException: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired\n};\nexport default RemoveLockExceptionModal;","export const parseLockExceptions = lockExceptionResponse => lockExceptionResponse.map(_ref => {\n  let {\n    dataSet,\n    period,\n    organisationUnit\n  } = _ref;\n  const row = {\n    period: period.displayName,\n    periodId: period.id,\n    dataSet: dataSet.displayName,\n    dataSetId: dataSet.id\n  };\n  if (organisationUnit) {\n    row.organisationUnit = organisationUnit.displayName;\n    row.organisationUnitId = organisationUnit.id;\n  }\n  return row;\n});","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CenteredContent, CircularLoader, NoticeBox } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport LockExceptionsSubpageHeader from '../../components/LockExceptionsSubpageHeader/LockExceptionsSubpageHeader.js';\nimport LockExceptionsTable from '../../components/LockExceptionsTable/LockExceptionsTable.js';\nimport RemoveLockExceptionModal from '../../components/RemoveLockExceptionModal/RemoveLockExceptionModal.js';\nimport { parseLockExceptions } from '../../parse-lock-exceptions.js';\nconst query = {\n  batchedLockExceptions: {\n    resource: 'lockExceptions/combinations',\n    params: {\n      fields: 'name,period[id,displayName],dataSet[id,displayName]'\n    }\n  }\n};\nconst BatchDeleteLockExceptions = () => {\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query);\n  const [removeLockExceptionModal, setRemoveLockExceptionModal] = useState({\n    visible: false,\n    lockException: null\n  });\n  const lockExceptions = data && parseLockExceptions(data.batchedLockExceptions.lockExceptions);\n  const handleShowRemoveLockExceptionModal = lockException => {\n    setRemoveLockExceptionModal({\n      visible: true,\n      lockException\n    });\n  };\n  const handleCloseRemoveLockExceptionModal = () => {\n    setRemoveLockExceptionModal({\n      visible: false,\n      lockException: null\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LockExceptionsSubpageHeader, {\n    title: i18n.t('Batch Deletion')\n  }), error ? /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true\n  }, error.message) : loading ? /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)) : lockExceptions.length > 0 ? /*#__PURE__*/React.createElement(LockExceptionsTable, {\n    columns: ['dataSet', 'period'],\n    rows: lockExceptions,\n    onRemoveLockException: handleShowRemoveLockExceptionModal,\n    atBatchDeletionPage: true\n  }) : /*#__PURE__*/React.createElement(\"em\", null, i18n.t('No lock exceptions to show.')), removeLockExceptionModal.visible && /*#__PURE__*/React.createElement(RemoveLockExceptionModal, {\n    lockException: removeLockExceptionModal.lockException,\n    onRemove: refetch,\n    onClose: handleCloseRemoveLockExceptionModal\n  }));\n};\nexport default BatchDeleteLockExceptions;","import i18n from './locales/index.js';\nexport const i18nKeys = {\n  dataIntegrity: {\n    title: i18n.t('Data Integrity'),\n    label: i18n.t('Data Integrity'),\n    description: i18n.t('Run data integrity checks and unveil anomalies and problems in the metadata setup.'),\n    actionText: i18n.t('Check data integrity'),\n    unexpectedError: i18n.t('An unexpected error happened during data integrity checks')\n  },\n  maintenance: {\n    title: i18n.t('Maintenance'),\n    label: i18n.t('Maintenance'),\n    description: i18n.t('Perform maintenance tasks and generate resource database tables for the organisation unit hierarchy and group set structure.'),\n    actionText: i18n.t('Perform maintenance'),\n    checkboxes: {\n      analyticsTableClear: i18n.t('Clear analytics tables'),\n      analyticsTableAnalyze: i18n.t('Analyze analytics tables'),\n      zeroDataValueRemoval: i18n.t('Remove zero data values'),\n      softDeletedDataValueRemoval: i18n.t('Permanently remove soft deleted data values'),\n      softDeletedEventRemoval: i18n.t('Permanently remove soft deleted events'),\n      softDeletedEnrollmentRemoval: i18n.t('Permanently remove soft deleted enrollments'),\n      softDeletedTrackedEntityInstanceRemoval: i18n.t('Permanently remove soft deleted tracked entity instances'),\n      periodPruning: i18n.t('Prune periods'),\n      expiredInvitationsClear: i18n.t('Remove expired invitations'),\n      sqlViewsDrop: i18n.t('Drop SQL views'),\n      sqlViewsCreate: i18n.t('Create SQL views'),\n      categoryOptionComboUpdate: i18n.t('Update category option combinations'),\n      ouPathsUpdate: i18n.t('Update organisation unit paths'),\n      cacheClear: i18n.t('Clear application cache'),\n      appReload: i18n.t('Reload apps')\n    }\n  },\n  resourceTables: {\n    title: i18n.t('Resource Tables'),\n    label: i18n.t('Resource Tables'),\n    description: i18n.t('Generate resource database tables for the organisation unit hierarchy and group set structure among others.'),\n    actionText: i18n.t('Generate Resource Tables'),\n    unexpectedError: i18n.t('An unexpected error happened during operation'),\n    tables: {\n      organisationUnitStructure: i18n.t('Organisation unit structure'),\n      organistionUnitCategoryOptionCombo: i18n.t('Organisation unit category option combo'),\n      categoryOptionGroupSetStructure: i18n.t('Category option group set structure'),\n      dataElementGroupSetStructure: i18n.t('Data element group set structure'),\n      indicatorGroupSetStructure: i18n.t('Indicator group set structure'),\n      organisationUnitGroupSetStructure: i18n.t('Organisation unit group set structure'),\n      categoryStructure: i18n.t('Category structure'),\n      dataElementCategoryOptionComboName: i18n.t('Data element category option combo name'),\n      dataElementStructure: i18n.t('Data element structure'),\n      periodStructure: i18n.t('Period structure'),\n      dataPeriodStructure: i18n.t('Date period structure'),\n      dataElementCategoryOptionCombinations: i18n.t('Data element category option combinations')\n    }\n  },\n  analytics: {\n    title: i18n.t('Analytics tables management'),\n    label: i18n.t('Analytics Tables'),\n    description: i18n.t('The data mart is a set of tables in the DHIS database which is used by all reporting and analysis tools to retrieve data from.'),\n    actionText: i18n.t('Analytics tables update'),\n    unexpectedError: i18n.t('An unexpected error happened during maintenance'),\n    checkboxes: {\n      skipAggregate: i18n.t('Skip generation of aggregate data and completeness data'),\n      skipResourceTables: i18n.t('Skip generation of resource tables'),\n      skipEvents: i18n.t('Skip generation of event data'),\n      skipEnrollment: i18n.t('Skip generation of enrollment data'),\n      skipOrgUnitOwnership: i18n.t('Skip generation of organisation unit ownership data'),\n      skipOutliers: i18n.t('Skip generation of outlier data')\n    }\n  },\n  dataStatistics: {\n    title: i18n.t('Data Statistics'),\n    label: i18n.t('Data Statistics'),\n    description: i18n.t('Browse the number of objects in the database, like data elements, indicators, data sets and data values.'),\n    actionText: i18n.t('Overview Data Statistics')\n  },\n  lockExceptions: {\n    title: i18n.t('Lock Exception Management'),\n    label: i18n.t('Lock Exception'),\n    description: i18n.t('Add or remove exceptions to the the standard rules for locking of data entry forms.'),\n    actionText: i18n.t('Lock Exception Management')\n  },\n  minMaxValueGeneration: {\n    title: i18n.t('Min-Max Value Generation'),\n    label: i18n.t('Min-Max Value Generation'),\n    description: i18n.t('Generate min-max values which can be used for data validation during data entry and validation processes.'),\n    actionText: i18n.t('Generate Min-Max Values')\n  }\n};\nexport default i18nKeys;","import { Table, TableBody, TableCell, TableRow, colors, IconError16, IconCheckmark16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './NotificationsTable.module.css';\n\n/* FIXME think of using an third party library for that, converting for a standard time format defined by design team */\nconst formatDateFromServer = dateFromServer => {\n  if (dateFromServer) {\n    return `${dateFromServer.slice(0, 10)} ${dateFromServer.slice(11, 19)}`;\n  }\n  return '';\n};\nconst renderNotificationIcon = notification => {\n  if (notification.completed) {\n    if (notification.level === 'ERROR') {\n      return /*#__PURE__*/React.createElement(IconError16, {\n        color: colors.red500\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(IconCheckmark16, {\n        color: colors.green500\n      });\n    }\n  } else if (!notification.completed) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.notificationIconBusy\n    }, \"...\");\n  }\n  return null;\n};\nconst NotificationsTable = _ref => {\n  let {\n    notifications\n  } = _ref;\n  if (notifications && notifications.length > 0) {\n    return /*#__PURE__*/React.createElement(Table, {\n      className: styles.table,\n      dataTest: \"notifications-table\"\n    }, /*#__PURE__*/React.createElement(TableBody, null, notifications.map((notification, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: index\n    }, /*#__PURE__*/React.createElement(TableCell, null, formatDateFromServer(notification.time)), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.message\n    }, notification.message), ' ', renderNotificationIcon(notification))))));\n  }\n  return null;\n};\nNotificationsTable.propTypes = {\n  notifications: PropTypes.arrayOf(PropTypes.shape({\n    completed: PropTypes.bool,\n    level: PropTypes.string,\n    message: PropTypes.string,\n    time: PropTypes.string,\n    uid: PropTypes.string\n  })).isRequired\n};\nexport default NotificationsTable;","import { useConfig } from '@dhis2/app-runtime';\nimport { colors, Tooltip, IconQuestion24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { getDocsKeyForSection } from '../../pages/sections.conf.js';\nimport styles from './DocsLink.module.css';\nconst getDocsVersion = _ref => {\n  let {\n    major,\n    minor,\n    tag\n  } = _ref;\n  if (tag === 'SNAPSHOT') {\n    return 'master';\n  }\n  return `${major}${minor}`;\n};\nconst DocsLink = _ref2 => {\n  let {\n    sectionKey\n  } = _ref2;\n  const {\n    serverVersion\n  } = useConfig();\n  const docsVersion = getDocsVersion(serverVersion);\n  const docsKey = getDocsKeyForSection(sectionKey);\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    content: i18n.t('Open user guide'),\n    placement: \"bottom\",\n    openDelay: 0,\n    closeDelay: 0\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: styles.link,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: `https://docs.dhis2.org/en/use/user-guides/dhis-core-version-${docsVersion}/maintaining-the-system/data-administration.html#${docsKey}`\n  }, /*#__PURE__*/React.createElement(IconQuestion24, {\n    color: colors.blue700\n  })));\n};\nDocsLink.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default DocsLink;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport DocsLink from '../DocsLink/DocsLink.js';\nimport styles from './PageHeader.module.css';\nconst PageHeader = _ref => {\n  let {\n    title,\n    sectionKey\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.headerTitle\n  }, title), /*#__PURE__*/React.createElement(DocsLink, {\n    sectionKey: sectionKey\n  }));\n};\nPageHeader.propTypes = {\n  sectionKey: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired\n};\nexport default PageHeader;","import i18n from '@dhis2/d2-i18n';\nimport { i18nKeys } from '../../i18n-keys.js';\nexport const DEFAULT_LAST_YEARS = '-1';\nexport const LAST_YEARS_INPUT_KEY = 'lastYears';\nconst LAST_YEAR = 10;\nconst FIRST_YEAR = 1;\nconst lastYearValues = [{\n  key: DEFAULT_LAST_YEARS,\n  value: DEFAULT_LAST_YEARS,\n  displayName: i18n.t('All')\n}];\n\n/* Last years dropdown options */\nfor (let i = FIRST_YEAR; i <= LAST_YEAR; i++) {\n  lastYearValues.push({\n    key: String(i),\n    value: String(i),\n    displayName: String(i)\n  });\n}\nexport const lastYearElements = lastYearValues;\n\n/* Form checkboxes */\nexport const analyticsCheckboxes = [{\n  key: 'skipAggregate'\n}, {\n  key: 'skipResourceTables'\n}, {\n  key: 'skipEvents'\n}, {\n  key: 'skipEnrollment'\n}, {\n  key: 'skipOrgUnitOwnership'\n}, {\n  key: 'skipOutliers',\n  checked: true\n}].map(obj => ({\n  key: obj.key,\n  checked: Boolean(obj.checked),\n  label: i18nKeys.analytics.checkboxes[obj.key]\n}));","export const getActiveTaskIdFromSummary = taskSummaryResponse => {\n  const {\n    taskId\n  } = Object.entries(taskSummaryResponse).reduce((currLatestTask, _ref) => {\n    let [taskId, taskNotifications] = _ref;\n    // First notification is last array item, so its timestamp represents the task start\n    const firstTaskNotification = taskNotifications[taskNotifications.length - 1];\n    const time = new Date(firstTaskNotification.time);\n    if (!taskNotifications[0].completed && time > currLatestTask.time) {\n      return {\n        taskId,\n        time\n      };\n    }\n    return currLatestTask;\n  }, {\n    taskId: null,\n    time: new Date(0)\n  });\n  return taskId;\n};","export const getUpdatedNotifications = taskNotifications => {\n  const lastIndex = taskNotifications.length - 1;\n\n  // Reverse to sort oldest-newest\n  // Assumption: all tasks are completed, apart from the last one,\n  // which is the in-progress task.\n  // Exception is when the most recent task comes back as completed\n  // this indicates the entire process is done, so we respect that completed status.\n  return [...taskNotifications].reverse().map((x, i) => ({\n    ...x,\n    completed: x.completed || i < lastIndex\n  }));\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useState, useRef, useEffect } from 'react';\nconst useConst = factory => {\n  const ref = useRef(null);\n  if (ref.current === null) {\n    ref.current = factory();\n  }\n  return ref.current;\n};\nconst useLazyInterval = (fn, interval) => {\n  const fnRef = useRef();\n  fnRef.current = fn;\n  const intervalId = useRef(null);\n  const [started, setStarted] = useState(false);\n  const cancel = () => {\n    if (intervalId.current) {\n      clearInterval(intervalId.current);\n      setStarted(false);\n    }\n  };\n  const start = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    cancel();\n    intervalId.current = setInterval(() => fnRef.current(...args), interval);\n    setStarted(true);\n  };\n  return {\n    start,\n    cancel,\n    started\n  };\n};\nexport const usePoll = _ref => {\n  let {\n    query,\n    interval,\n    checkDone\n  } = _ref;\n  // Store data in state and update in onComplete as useDataQuery sets data to\n  // null when a refetch is triggered\n  const [data, setData] = useState(null);\n  const wrappedQuery = useConst(() => ({\n    poll: query\n  }));\n  const {\n    refetch,\n    error\n  } = useDataQuery(wrappedQuery, {\n    lazy: true,\n    onComplete: data => {\n      setData(data);\n      if (checkDone(data.poll)) {\n        cancel();\n      }\n    }\n  });\n  const {\n    start,\n    cancel,\n    started: polling\n  } = useLazyInterval(refetch, interval);\n  useEffect(() => {\n    return cancel;\n  }, []);\n  useEffect(() => {\n    if (error) {\n      cancel();\n    }\n  }, [error]);\n  return {\n    start,\n    cancel,\n    polling,\n    error,\n    data: data === null || data === void 0 ? void 0 : data.poll\n  };\n};","import { useDataQuery, useDataMutation } from '@dhis2/app-runtime';\nimport { getActiveTaskIdFromSummary } from '../../get-active-task-id-from-summary.js';\nimport { getUpdatedNotifications } from '../../get-updated-notifications.js';\nimport { usePoll } from '../../hooks/use-poll.js';\nconst pollQuery = {\n  resource: 'system/tasks/ANALYTICS_TABLE',\n  id: _ref => {\n    let {\n      taskId\n    } = _ref;\n    return taskId;\n  }\n};\nconst startAnalyticsTablesGenerationMutation = {\n  resource: 'resourceTables/analytics',\n  type: 'create',\n  params: params => params\n};\nconst existingTasksQuery = {\n  tasks: {\n    resource: 'system/tasks/ANALYTICS_TABLE'\n  }\n};\nexport const useAnalytics = () => {\n  const poll = usePoll({\n    query: pollQuery,\n    interval: 3000,\n    checkDone: data => data[0].completed\n  });\n  const {\n    loading: loadingExistingTask\n  } = useDataQuery(existingTasksQuery, {\n    onComplete: data => {\n      const taskId = getActiveTaskIdFromSummary(data.tasks);\n      if (taskId) {\n        poll.start({\n          taskId\n        });\n      }\n    }\n  });\n  const [startAnalyticsTablesGeneration, {\n    loading,\n    error\n  }] = useDataMutation(startAnalyticsTablesGenerationMutation, {\n    onComplete: data => {\n      const {\n        id: taskId\n      } = data.response;\n      poll.start({\n        taskId\n      });\n    }\n  });\n  return {\n    startAnalyticsTablesGeneration,\n    loading: loading || loadingExistingTask || poll.polling,\n    error: error || poll.error,\n    notifications: poll.data ? getUpdatedNotifications(poll.data) : []\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button, Card, Checkbox, SingleSelectField, SingleSelectOption, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport NotificationsTable from '../../components/NotificationsTable/NotificationsTable.js';\nimport PageHeader from '../../components/PageHeader/PageHeader.js';\nimport { i18nKeys } from '../../i18n-keys.js';\nimport { DEFAULT_LAST_YEARS, LAST_YEARS_INPUT_KEY, lastYearElements } from './analytics.conf.js';\nimport styles from './Analytics.module.css';\nimport { useAnalytics } from './use-analytics.js';\nimport { useCheckboxes } from './use-checkboxes.js';\nconst Analytics = _ref => {\n  let {\n    sectionKey\n  } = _ref;\n  const {\n    checkboxes,\n    toggleCheckbox\n  } = useCheckboxes();\n  const [lastYears, setLastYears] = useState(DEFAULT_LAST_YEARS);\n  const {\n    startAnalyticsTablesGeneration,\n    loading,\n    error,\n    notifications\n  } = useAnalytics();\n  const handleStartAnalyticsTablesGeneration = () => {\n    const params = {};\n    for (const [key, {\n      checked\n    }] of Object.entries(checkboxes)) {\n      if (checked) {\n        params[key] = true;\n      }\n    }\n    if (lastYears !== DEFAULT_LAST_YEARS) {\n      params[LAST_YEARS_INPUT_KEY] = lastYears;\n    }\n    startAnalyticsTablesGeneration(params);\n  };\n  const handleLastYearsChange = _ref2 => {\n    let {\n      selected\n    } = _ref2;\n    setLastYears(selected);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: i18nKeys.analytics.title,\n    sectionKey: sectionKey\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, error && /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.noticeBox,\n    error: true\n  }, error.message), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.form\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.checkboxes\n  }, Object.entries(checkboxes).map(_ref3 => {\n    let [key, {\n      label,\n      checked\n    }] = _ref3;\n    return /*#__PURE__*/React.createElement(Checkbox, {\n      key: key,\n      className: styles.checkbox,\n      label: label,\n      checked: checked,\n      onChange: () => {\n        toggleCheckbox(key);\n      },\n      disabled: loading\n    });\n  })), /*#__PURE__*/React.createElement(SingleSelectField, {\n    className: styles.lastYearsSelect,\n    label: i18n.t('Number of last years of data to include'),\n    selected: lastYears,\n    onChange: handleLastYearsChange,\n    disabled: loading\n  }, lastYearElements.map(item => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: item.key,\n    label: item.displayName,\n    value: item.value\n  })))), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleStartAnalyticsTablesGeneration,\n    loading: loading\n  }, loading ? i18n.t('Exporting...') : i18n.t('Start export')), notifications.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.notificationsTable\n  }, /*#__PURE__*/React.createElement(NotificationsTable, {\n    notifications: notifications\n  }))));\n};\nAnalytics.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default Analytics;","import { useState } from 'react';\nimport { analyticsCheckboxes } from './analytics.conf.js';\nexport const useCheckboxes = () => {\n  const [checkboxes, setCheckboxes] = useState(analyticsCheckboxes);\n  const toggleCheckbox = key => {\n    setCheckboxes({\n      ...checkboxes,\n      [key]: {\n        ...checkboxes[key],\n        checked: !checkboxes[key].checked\n      }\n    });\n  };\n  return {\n    checkboxes,\n    toggleCheckbox\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './IssueCard.module.css';\nconst Content = _ref => {\n  let {\n    content\n  } = _ref;\n  const renderValue = value => Array.isArray(value) ? value.join(', ') : value;\n  if (Array.isArray(content)) {\n    return content.map(element => /*#__PURE__*/React.createElement(\"p\", {\n      key: element\n    }, renderValue(element)));\n  } else {\n    return Object.entries(content).map(_ref2 => {\n      let [element, value] = _ref2;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: element\n      }, /*#__PURE__*/React.createElement(\"h3\", null, element), /*#__PURE__*/React.createElement(\"p\", null, renderValue(value)));\n    });\n  }\n};\nContent.propTypes = {\n  content: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n};\nconst Title = _ref3 => {\n  let {\n    title,\n    type\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-test\": \"issue-card-title\",\n    className: type === 'invalid' ? styles.invalidTitle : styles.validTitle\n  }, title);\n};\nTitle.propTypes = {\n  title: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired\n};\nconst countElements = content => {\n  const sum = arr => arr.reduce((acc, element) => {\n    return acc + countElements(element);\n  }, 0);\n  if (Array.isArray(content)) {\n    return sum(content);\n  } else if (typeof content === 'object') {\n    return sum(Object.values(content));\n  } else {\n    return 1;\n  }\n};\nconst IssueCard = _ref4 => {\n  let {\n    title,\n    content\n  } = _ref4;\n  const elementsCount = countElements(content);\n  return /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, elementsCount > 0 ? /*#__PURE__*/React.createElement(\"details\", null, /*#__PURE__*/React.createElement(\"summary\", {\n    className: styles.cardHeader\n  }, /*#__PURE__*/React.createElement(Title, {\n    title: i18n.t('{{issueTitle}} ({{issueElementsCount}})', {\n      issueTitle: title,\n      issueElementsCount: elementsCount\n    }),\n    type: \"invalid\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cardText\n  }, /*#__PURE__*/React.createElement(Content, {\n    content: content\n  }))) : /*#__PURE__*/React.createElement(Title, {\n    title: title,\n    type: \"valid\"\n  }));\n};\nIssueCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  content: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n};\nIssueCard.defaultProps = {\n  content: []\n};\nexport default IssueCard;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport IssueCard from './IssueCard.js';\nimport styles from './Issues.module.css';\nconst controls = {\n  dataElementsWithoutDataSet: i18n.t('Data elements without data set'),\n  dataElementsWithoutGroups: i18n.t('Data elements without groups'),\n  dataElementsViolatingExclusiveGroupSets: i18n.t('Data elements violating exclusive group sets'),\n  dataElementsAssignedToDataSetsWithDifferentPeriodTypes: i18n.t('Data elements assigned to data sets with different period types'),\n  dataSetsNotAssignedToOrganisationUnits: i18n.t('Data sets not assigned to organisation units'),\n  indicatorsWithIdenticalFormulas: i18n.t('Indicators with identical formulas'),\n  indicatorsWithoutGroups: i18n.t('Indicators without groups'),\n  invalidIndicatorNumerators: i18n.t('Invalid indicator numerators'),\n  invalidIndicatorDenominators: i18n.t('Invalid indicator denominators'),\n  indicatorsViolatingExclusiveGroupSets: i18n.t('Indicators violating exclusive group sets'),\n  organisationUnitsWithCyclicReferences: i18n.t('Organisation units with cyclic references'),\n  orphanedOrganisationUnits: i18n.t('Orphaned organisation units'),\n  organisationUnitsWithoutGroups: i18n.t('Organisation units without groups'),\n  organisationUnitsViolatingExclusiveGroupSets: i18n.t('Organisation units violating exclusive group sets'),\n  organisationUnitGroupsWithoutGroupSets: i18n.t('Organisation unit groups without group sets'),\n  validationRulesWithoutGroups: i18n.t('Validation rules without groups'),\n  invalidValidationRuleLeftSideExpressions: i18n.t('Invalid validation rule left side expressions'),\n  invalidValidationRuleRightSideExpressions: i18n.t('Invalid validation rule right side expressions'),\n  invalidProgramIndicatorExpressions: i18n.t('Invalid program indicator expressions'),\n  invalidProgramIndicatorFilters: i18n.t('Invalid program indicator filters'),\n  dataElementsInDataSetNotInForm: i18n.t('There are data elements in the form, but not in the form or sections'),\n  invalidCategoryCombos: i18n.t('Invalid category combinations'),\n  duplicatePeriods: i18n.t('Duplicate periods'),\n  programRulesWithNoCondition: i18n.t('Program rules with no condition'),\n  programRulesWithNoAction: i18n.t('Program rules with no action'),\n  programRulesWithNoPriority: i18n.t('Program rules with no priority'),\n  programRuleVariablesWithNoDataElement: i18n.t('Program rule variables with no data element'),\n  programRuleVariablesWithNoAttribute: i18n.t('Program rule variables with no attribute'),\n  programRuleActionsWithNoDataObject: i18n.t('Program rule actions with no data object'),\n  programRuleActionsWithNoNotification: i18n.t('Program rule actions with no notification'),\n  programRuleActionsWithNoSectionId: i18n.t('Program rule actions with no section id'),\n  programRuleActionsWithNoStageId: i18n.t('Program rule actions with no stage id'),\n  programIndicatorsWithNoExpression: i18n.t('Program indicators with no expression')\n};\nconst Issues = _ref => {\n  let {\n    issues\n  } = _ref;\n  const errorElementskeys = Object.keys(issues);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.issues\n  }, errorElementskeys.map(element => {\n    const label = controls[element];\n    if (!label) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(IssueCard, {\n      key: element,\n      title: label,\n      content: issues[element]\n    });\n  }), Object.keys(controls).filter(element => !errorElementskeys.includes(element)).map(element => /*#__PURE__*/React.createElement(IssueCard, {\n    key: element,\n    title: controls[element]\n  })));\n};\nIssues.propTypes = {\n  issues: PropTypes.object.isRequired\n};\nexport default Issues;","import { useDataMutation } from '@dhis2/app-runtime';\nimport { usePoll } from '../../hooks/use-poll.js';\nconst startDataIntegrityCheckMutation = {\n  resource: 'dataIntegrity',\n  type: 'create'\n};\nconst pollQuery = {\n  resource: 'system/taskSummaries/DATA_INTEGRITY',\n  id: _ref => {\n    let {\n      jobId\n    } = _ref;\n    return jobId;\n  }\n};\nexport const useDataIntegrity = () => {\n  var _poll$data;\n  const poll = usePoll({\n    query: pollQuery,\n    interval: 3000,\n    checkDone: data => {\n      // On 2.37 and 2.38, an empty HTTP response is sent instead of `null`\n      if (data instanceof Blob && data.size === 0) {\n        return false;\n      }\n      return data;\n    }\n  });\n  const [startDataIntegrityCheck, {\n    loading,\n    error,\n    data\n  }] = useDataMutation(startDataIntegrityCheckMutation, {\n    onComplete: data => {\n      const {\n        id: jobId\n      } = data.response;\n      poll.start({\n        jobId\n      });\n    }\n  });\n  const isPolling = data && (!poll.data || ((_poll$data = poll.data) === null || _poll$data === void 0 ? void 0 : _poll$data.size) === 0);\n  return {\n    startDataIntegrityCheck,\n    loading: loading || isPolling,\n    error: error || poll.error,\n    issues: !isPolling && poll.data\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHeader from '../../components/PageHeader/PageHeader.js';\nimport { i18nKeys } from '../../i18n-keys.js';\nimport Issues from './Issues/Issues.js';\nimport { useDataIntegrity } from './use-data-integrity.js';\nconst DataIntegrity = _ref => {\n  let {\n    sectionKey\n  } = _ref;\n  const {\n    startDataIntegrityCheck,\n    loading,\n    error,\n    issues\n  } = useDataIntegrity();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.dataIntegrity.title\n  }), error && /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true\n  }, error.message), issues && /*#__PURE__*/React.createElement(Issues, {\n    issues: issues\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    loading: loading,\n    onClick: startDataIntegrityCheck\n  }, loading ? i18n.t('Checking data integrity...') : i18n.t('Run integrity checks')));\n};\nDataIntegrity.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default DataIntegrity;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst FormattedNumber = props => /*#__PURE__*/React.createElement(\"span\", null, new Intl.NumberFormat(i18n.language).format(props.value));\nFormattedNumber.propTypes = {\n  value: PropTypes.number.isRequired\n};\nexport default FormattedNumber;","import { Table, TableBody, TableCell, TableCellHead, TableHead, TableRow, TableRowHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FormattedNumber from '../../components/FormattedNumber/FormattedNumber.js';\nconst DataStatisticsTable = _ref => {\n  let {\n    elements,\n    label\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Table, {\n    suppressZebraStriping: true\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, label), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, elements.map(element => /*#__PURE__*/React.createElement(TableRow, {\n    key: element.label\n  }, /*#__PURE__*/React.createElement(TableCell, null, element.label), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(FormattedNumber, {\n    value: element.count\n  }))))));\n};\nDataStatisticsTable.propTypes = {\n  elements: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired\n};\nexport default DataStatisticsTable;","export const OBJECT_COUNTS_KEY = 'objectCounts';\nexport const ACTIVE_USERS_KEY = 'activeUsers';\nexport const USER_INVITATIONS_KEY = 'userInvitations';\nexport const DATA_VALUE_COUNT_KEY = 'dataValueCount';\nexport const EVENT_COUNT_KEY = 'eventCount';\nexport const PENDING_INVITATION_ALL_KEY = 'all';\nexport const EXPIRED_INVITATION_KEY = 'expired';","import i18n from '@dhis2/d2-i18n';\nimport { OBJECT_COUNTS_KEY, ACTIVE_USERS_KEY, USER_INVITATIONS_KEY, DATA_VALUE_COUNT_KEY, EVENT_COUNT_KEY, PENDING_INVITATION_ALL_KEY, EXPIRED_INVITATION_KEY } from './table-keys.js';\nconst objectLabels = {\n  indicator: i18n.t('Indicators'),\n  period: i18n.t('Periods'),\n  visualization: i18n.t('Visualization'),\n  programStageInstance: i18n.t('Events'),\n  organisationUnit: i18n.t('Organisation units'),\n  validationRule: i18n.t('Validation rules'),\n  dataValue: i18n.t('Data values'),\n  program: i18n.t('Programs'),\n  dataElement: i18n.t('Data elements'),\n  organisationUnitGroup: i18n.t('Organisation unit groups'),\n  trackedEntityInstance: i18n.t('Tracked entity instances'),\n  reportTable: i18n.t('Pivot tables'),\n  programInstance: i18n.t('Program instances'),\n  indicatorType: i18n.t('Indicator types'),\n  dataSet: i18n.t('Data sets'),\n  userGroup: i18n.t('User groups'),\n  user: i18n.t('Users'),\n  map: i18n.t('Maps'),\n  indicatorGroup: i18n.t('Indicator groups'),\n  chart: i18n.t('Charts'),\n  dataElementGroup: i18n.t('Data element groups'),\n  dashboard: i18n.t('Dashboards'),\n  eventVisualization: i18n.t('Event visualization')\n};\nconst translatedTimeLabelFromIntProperty = key => {\n  const intProperty = parseInt(key, 10);\n  if (intProperty === 1) {\n    return i18n.t('Today');\n  } else if (intProperty > 0) {\n    return i18n.t('Last {{days}} days', {\n      days: intProperty\n    });\n  } else {\n    return i18n.t('Last hour');\n  }\n};\nconst objectCountsTableFromResponse = objectCountsResponse => {\n  if (!objectCountsResponse) {\n    return null;\n  }\n  const elements = Object.entries(objectCountsResponse).map(_ref => {\n    let [key, count] = _ref;\n    return {\n      label: objectLabels[key] || key,\n      count\n    };\n  });\n  elements.sort((a, b) => a.label.localeCompare(b.label));\n  return {\n    label: i18n.t('Object type'),\n    elements\n  };\n};\nconst activeUsersTableFromResponse = activeUsersResponse => {\n  if (!activeUsersResponse) {\n    return null;\n  }\n  return {\n    label: i18n.t('Users logged in'),\n    elements: Object.entries(activeUsersResponse).map(_ref2 => {\n      let [key, count] = _ref2;\n      return {\n        label: translatedTimeLabelFromIntProperty(key),\n        count\n      };\n    })\n  };\n};\nconst userInvitationsTableFromResponse = userInvitationsResponse => {\n  if (!userInvitationsResponse) {\n    return null;\n  }\n  const userInvitationsTable = {\n    label: i18n.t('User account invitations'),\n    elements: []\n  };\n  if (Object.hasOwnProperty.call(userInvitationsResponse, PENDING_INVITATION_ALL_KEY)) {\n    userInvitationsTable.elements.push({\n      label: i18n.t('Pending invitations'),\n      count: userInvitationsResponse[PENDING_INVITATION_ALL_KEY]\n    });\n  }\n  if (Object.hasOwnProperty.call(userInvitationsResponse, EXPIRED_INVITATION_KEY)) {\n    userInvitationsTable.elements.push({\n      label: i18n.t('Expired invitations'),\n      count: userInvitationsResponse[EXPIRED_INVITATION_KEY]\n    });\n  }\n  return userInvitationsTable;\n};\nconst dataValueCountsTableFromResponse = dataValueCountsResponse => {\n  if (!dataValueCountsResponse) {\n    return null;\n  }\n  return {\n    label: i18n.t('Data values'),\n    elements: Object.entries(dataValueCountsResponse).map(_ref3 => {\n      let [key, count] = _ref3;\n      return {\n        label: translatedTimeLabelFromIntProperty(key),\n        count\n      };\n    })\n  };\n};\nconst eventCountsTableFromResponse = eventCountsResponse => {\n  if (!eventCountsResponse) {\n    return null;\n  }\n  return {\n    label: i18n.t('Events'),\n    elements: Object.entries(eventCountsResponse).map(_ref4 => {\n      let [key, count] = _ref4;\n      return {\n        label: translatedTimeLabelFromIntProperty(key),\n        count\n      };\n    })\n  };\n};\nexport const parseTables = response => ({\n  [OBJECT_COUNTS_KEY]: objectCountsTableFromResponse(response[OBJECT_COUNTS_KEY]),\n  [ACTIVE_USERS_KEY]: activeUsersTableFromResponse(response[ACTIVE_USERS_KEY]),\n  [USER_INVITATIONS_KEY]: userInvitationsTableFromResponse(response[USER_INVITATIONS_KEY]),\n  [DATA_VALUE_COUNT_KEY]: dataValueCountsTableFromResponse(response[DATA_VALUE_COUNT_KEY]),\n  [EVENT_COUNT_KEY]: eventCountsTableFromResponse(response[EVENT_COUNT_KEY])\n});","import { useDataQuery } from '@dhis2/app-runtime';\nimport { Card, NoticeBox, CircularLoader, CenteredContent } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHeader from '../../components/PageHeader/PageHeader.js';\nimport { i18nKeys } from '../../i18n-keys.js';\nimport styles from './DataStatistics.module.css';\nimport DataStatisticsTable from './DataStatisticsTable.js';\nimport { parseTables } from './parse-tables.js';\nimport { OBJECT_COUNTS_KEY, ACTIVE_USERS_KEY, USER_INVITATIONS_KEY, DATA_VALUE_COUNT_KEY, EVENT_COUNT_KEY } from './table-keys.js';\nconst TableCard = _ref => {\n  let {\n    label,\n    elements\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(DataStatisticsTable, {\n    label: label,\n    elements: elements\n  }));\n};\nTableCard.propTypes = {\n  elements: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired\n};\nconst query = {\n  dataSummary: {\n    resource: 'dataSummary'\n  }\n};\nconst DataStatistics = _ref2 => {\n  let {\n    sectionKey\n  } = _ref2;\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true\n    }, error.message));\n  }\n  const tables = parseTables(data.dataSummary);\n  const renderTable = key => {\n    if (tables[key] === null) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(TableCard, {\n      label: tables[key].label,\n      elements: tables[key].elements\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.dataStatistics.title\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tablesGrid\n  }, /*#__PURE__*/React.createElement(\"div\", null, renderTable(OBJECT_COUNTS_KEY)), /*#__PURE__*/React.createElement(\"div\", null, renderTable(USER_INVITATIONS_KEY), renderTable(DATA_VALUE_COUNT_KEY), renderTable(EVENT_COUNT_KEY), renderTable(ACTIVE_USERS_KEY))));\n};\nDataStatistics.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default DataStatistics;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CenteredContent, CircularLoader, NoticeBox, Button, Pagination, ButtonStrip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport LockExceptionsTable from '../../components/LockExceptionsTable/LockExceptionsTable.js';\nimport PageHeader from '../../components/PageHeader/PageHeader.js';\nimport RemoveLockExceptionModal from '../../components/RemoveLockExceptionModal/RemoveLockExceptionModal.js';\nimport { i18nKeys } from '../../i18n-keys.js';\nimport { parseLockExceptions } from '../../parse-lock-exceptions.js';\nimport styles from './LockExceptions.module.css';\nconst query = {\n  lockExceptions: {\n    resource: 'lockExceptions',\n    params: params => ({\n      ...params,\n      fields: ['name', 'period[id,displayName]', 'organisationUnit[id,displayName]', 'dataSet[id,displayName]'],\n      order: 'name:asc'\n    })\n  }\n};\nconst LockExceptions = _ref => {\n  let {\n    sectionKey\n  } = _ref;\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const {\n    loading,\n    called,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  const [removeLockExceptionModal, setRemoveLockExceptionModal] = useState({\n    visible: false,\n    lockException: null\n  });\n  useEffect(() => {\n    refetch({\n      page,\n      pageSize\n    });\n  }, [page, pageSize]);\n  const lockExceptions = data && parseLockExceptions(data.lockExceptions.lockExceptions);\n  const renderPagination = () => {\n    const {\n      total,\n      pageCount\n    } = data.lockExceptions.pager;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.pagination\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      total: total,\n      pageCount: pageCount,\n      page: page,\n      pageSize: pageSize,\n      onPageSizeChange: pageSize => {\n        setPage(1);\n        setPageSize(pageSize);\n      },\n      onPageChange: page => setPage(page)\n    }));\n  };\n  const handleShowRemoveLockExceptionModal = lockException => {\n    setRemoveLockExceptionModal({\n      visible: true,\n      lockException\n    });\n  };\n  const handleCloseRemoveLockExceptionModal = () => {\n    setRemoveLockExceptionModal({\n      visible: false,\n      lockException: null\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.lockExceptions\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.headerContainer\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.lockExceptions.title\n  }), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Link, {\n    className: styles.linkButton,\n    to: \"/lock-exceptions/add\",\n    tabIndex: \"-1\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true\n  }, i18n.t('Add lock exception'))), /*#__PURE__*/React.createElement(Link, {\n    className: styles.linkButton,\n    to: \"/lock-exceptions/batch-deletion\",\n    tabIndex: \"-1\"\n  }, /*#__PURE__*/React.createElement(Button, null, i18n.t('Batch deletion'))))), error ? /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true\n  }, error.message) : loading || !called ? /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)) : lockExceptions.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, renderPagination(), /*#__PURE__*/React.createElement(LockExceptionsTable, {\n    columns: ['organisationUnit', 'dataSet', 'period'],\n    rows: lockExceptions,\n    onRemoveLockException: handleShowRemoveLockExceptionModal,\n    atBatchDeletionPage: false\n  }), renderPagination()) : /*#__PURE__*/React.createElement(\"em\", null, i18n.t('No lock exceptions to show.')), removeLockExceptionModal.visible && /*#__PURE__*/React.createElement(RemoveLockExceptionModal, {\n    lockException: removeLockExceptionModal.lockException,\n    onRemove: refetch,\n    onClose: handleCloseRemoveLockExceptionModal\n  }));\n};\nLockExceptions.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default LockExceptions;","import { Checkbox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { i18nKeys } from '../../i18n-keys.js';\nimport styles from './Checkboxes.module.css';\nconst Checkboxes = _ref => {\n  let {\n    checkboxes,\n    toggleCheckbox,\n    disabled\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.checkboxes\n  }, Object.entries(checkboxes).map(_ref2 => {\n    let [key, checked] = _ref2;\n    return /*#__PURE__*/React.createElement(Checkbox, {\n      key: key,\n      className: styles.checkbox,\n      label: i18nKeys.maintenance.checkboxes[key],\n      checked: checked,\n      onChange: () => toggleCheckbox(key),\n      disabled: disabled\n    });\n  }));\n};\nCheckboxes.propTypes = {\n  checkboxes: PropTypes.object.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  toggleCheckbox: PropTypes.func.isRequired\n};\nexport default Checkboxes;","import { useState } from 'react';\nimport { i18nKeys } from '../../i18n-keys.js';\nexport const useCheckboxes = () => {\n  const [checkboxes, setCheckboxes] = useState(() => {\n    const checkboxes = {};\n    for (const key of Object.keys(i18nKeys.maintenance.checkboxes)) {\n      checkboxes[key] = false;\n    }\n    return checkboxes;\n  });\n  const toggleCheckbox = key => {\n    setCheckboxes({\n      ...checkboxes,\n      [key]: !checkboxes[key]\n    });\n  };\n  return {\n    checkboxes,\n    toggleCheckbox\n  };\n};","import { useDataMutation, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, Button, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHeader from '../../components/PageHeader/PageHeader.js';\nimport { i18nKeys } from '../../i18n-keys.js';\nimport Checkboxes from './Checkboxes.js';\nimport styles from './Maintenance.module.css';\nimport { useCheckboxes } from './use-checkboxes.js';\nconst mutation = {\n  resource: 'maintenance',\n  type: 'create',\n  params: params => params\n};\nconst Maintenance = _ref => {\n  let {\n    sectionKey\n  } = _ref;\n  const {\n    checkboxes,\n    toggleCheckbox\n  } = useCheckboxes();\n  const successAlert = useAlert(i18n.t('Maintenance done'), {\n    success: true\n  });\n  const errorAlert = useAlert(_ref2 => {\n    let {\n      error\n    } = _ref2;\n    return error.message;\n  }, {\n    critical: true\n  });\n  const [mutate, {\n    loading\n  }] = useDataMutation(mutation, {\n    onComplete: () => successAlert.show(),\n    onError: error => errorAlert.show({\n      error\n    })\n  });\n  const handlePerformMaintenance = async () => {\n    const params = {};\n    for (const [key, checked] of Object.entries(checkboxes)) {\n      if (checked) {\n        params[key] = true;\n      }\n    }\n    mutate(params);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.maintenance.title\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(Checkboxes, {\n    checkboxes: checkboxes,\n    toggleCheckbox: toggleCheckbox,\n    disabled: loading\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: loading || !Object.values(checkboxes).some(checked => checked),\n    onClick: handlePerformMaintenance\n  }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Performing maintenance...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Perform maintenance'))));\n};\nMaintenance.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default Maintenance;","import { useAlert, useDataQuery, useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CenteredContent, CircularLoader, NoticeBox, OrganisationUnitTree, ButtonStrip, Button, Card, MultiSelectField, MultiSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport PageHeader from '../../components/PageHeader/PageHeader.js';\nimport { i18nKeys } from '../../i18n-keys.js';\nimport styles from './MinMaxValueGeneration.module.css';\nconst MIN_MAX_VALUE_ENDPOINT = '/minMaxValues';\nconst organisationIdFromPath = path => {\n  const last = array => array[array.length - 1];\n  return last(path.split('/'));\n};\nconst query = {\n  organisationUnits: {\n    resource: 'organisationUnits',\n    params: {\n      fields: 'id',\n      paging: false,\n      level: 1\n    }\n  },\n  dataSets: {\n    resource: 'dataSets',\n    params: {\n      fields: 'id,displayName',\n      paging: false\n    }\n  }\n};\nconst generateMinMaxValueMutation = {\n  resource: MIN_MAX_VALUE_ENDPOINT,\n  type: 'create',\n  data: data => data\n};\nconst removeMinMaxValueMutation = {\n  resource: MIN_MAX_VALUE_ENDPOINT,\n  type: 'delete',\n  id: _ref => {\n    let {\n      id\n    } = _ref;\n    return id;\n  },\n  params: _ref2 => {\n    let {\n      ds\n    } = _ref2;\n    return {\n      ds\n    };\n  }\n};\nconst MinMaxValueGeneration = _ref3 => {\n  let {\n    sectionKey\n  } = _ref3;\n  const successAlert = useAlert(_ref4 => {\n    let {\n      message\n    } = _ref4;\n    return message;\n  }, {\n    success: true\n  });\n  const errorAlert = useAlert(_ref5 => {\n    let {\n      error\n    } = _ref5;\n    return error.message;\n  }, {\n    critical: true\n  });\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n  const [generateMinMaxValue] = useDataMutation(generateMinMaxValueMutation, {\n    onComplete: () => {\n      successAlert.show({\n        message: i18n.t('Min-max values generated')\n      });\n    },\n    onError: error => {\n      errorAlert.show({\n        error\n      });\n    }\n  });\n  const [removeMinMaxValue] = useDataMutation(removeMinMaxValueMutation, {\n    onComplete: () => {\n      successAlert.show({\n        message: i18n.t('Min-max values removed')\n      });\n    },\n    onError: error => {\n      errorAlert.show({\n        error\n      });\n    }\n  });\n  const [selectedOrganisationUnit, setSelectedOrganisationUnit] = useState(null);\n  const [selectedDataSets, setSelectedDataSets] = useState([]);\n  const formValid = selectedDataSets.length > 0 && selectedOrganisationUnit !== null;\n  const handleOrganisationUnitChange = _ref6 => {\n    let {\n      path,\n      checked\n    } = _ref6;\n    if (checked) {\n      setSelectedOrganisationUnit({\n        path,\n        id: organisationIdFromPath(path)\n      });\n    } else {\n      setSelectedOrganisationUnit(null);\n    }\n  };\n  const handleGenerateMinMaxValue = async () => {\n    successAlert.show({\n      message: i18n.t('Generating min-max values...')\n    });\n    generateMinMaxValue({\n      organisationUnit: selectedOrganisationUnit.id,\n      dataSets: selectedDataSets\n    });\n  };\n  const handleRemoveMinMaxValue = async () => {\n    successAlert.show({\n      message: i18n.t('Removing min-max values...')\n    });\n    removeMinMaxValue({\n      id: selectedOrganisationUnit.id,\n      ds: selectedDataSets\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true\n    }, error.message));\n  }\n  const {\n    organisationUnits: {\n      organisationUnits\n    },\n    dataSets: {\n      dataSets\n    }\n  } = data;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.minMaxValueGeneration.title\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left\n  }, /*#__PURE__*/React.createElement(MultiSelectField, {\n    label: i18n.t('Data set'),\n    onChange: _ref7 => {\n      let {\n        selected\n      } = _ref7;\n      return setSelectedDataSets(selected);\n    },\n    selected: selectedDataSets,\n    clearable: true,\n    filterable: true\n  }, dataSets.map(item => /*#__PURE__*/React.createElement(MultiSelectOption, {\n    key: item.id,\n    label: item.displayName,\n    value: item.id\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label\n  }, i18n.t('Organisation unit')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tree\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    roots: organisationUnits.map(r => r.id),\n    singleSelection: true,\n    selected: selectedOrganisationUnit ? [selectedOrganisationUnit.path] : [],\n    onChange: handleOrganisationUnitChange\n  })))), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleGenerateMinMaxValue,\n    disabled: !formValid\n  }, i18n.t('Generate min-max values')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: handleRemoveMinMaxValue,\n    disabled: !formValid\n  }, i18n.t('Remove min-max values')))));\n};\nMinMaxValueGeneration.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default MinMaxValueGeneration;","import { useDataQuery, useDataMutation } from '@dhis2/app-runtime';\nimport { getActiveTaskIdFromSummary } from '../../get-active-task-id-from-summary.js';\nimport { getUpdatedNotifications } from '../../get-updated-notifications.js';\nimport { usePoll } from '../../hooks/use-poll.js';\nconst pollQuery = {\n  resource: 'system/tasks/RESOURCE_TABLE',\n  id: _ref => {\n    let {\n      taskId\n    } = _ref;\n    return taskId;\n  }\n};\nconst startResourceTablesGenerationMutation = {\n  resource: 'resourceTables',\n  type: 'create'\n};\nconst existingTasksQuery = {\n  tasks: {\n    resource: 'system/tasks/RESOURCE_TABLE'\n  }\n};\nexport const useResourceTables = () => {\n  const poll = usePoll({\n    query: pollQuery,\n    interval: 3000,\n    checkDone: data => data[0].completed\n  });\n  const {\n    loading: loadingExistingTask\n  } = useDataQuery(existingTasksQuery, {\n    onComplete: data => {\n      const taskId = getActiveTaskIdFromSummary(data.tasks);\n      if (taskId) {\n        poll.start({\n          taskId\n        });\n      }\n    }\n  });\n  const [startResourceTablesGeneration, {\n    loading,\n    error\n  }] = useDataMutation(startResourceTablesGenerationMutation, {\n    onComplete: data => {\n      const {\n        id: taskId\n      } = data.response;\n      poll.start({\n        taskId\n      });\n    }\n  });\n  return {\n    startResourceTablesGeneration,\n    loading: loading || loadingExistingTask || poll.polling,\n    error: error || poll.error,\n    notifications: poll.data ? getUpdatedNotifications(poll.data) : []\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport { Card, Button, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport NotificationsTable from '../../components/NotificationsTable/NotificationsTable.js';\nimport PageHeader from '../../components/PageHeader/PageHeader.js';\nimport { i18nKeys } from '../../i18n-keys.js';\nimport styles from './ResourceTables.module.css';\nimport { useResourceTables } from './use-resource-tables.js';\nconst tables = [{\n  key: 'organisationUnitStructure',\n  name: '_orgunitstructure'\n}, {\n  key: 'organistionUnitCategoryOptionCombo',\n  name: '_orgunitstructure'\n}, {\n  key: 'categoryOptionGroupSetStructure',\n  name: '_categoryoptiongroupsetstructure'\n}, {\n  key: 'dataElementGroupSetStructure',\n  name: '_dataelementgroupsetstructure'\n}, {\n  key: 'indicatorGroupSetStructure',\n  name: '_indicatorgroupsetstructure'\n}, {\n  key: 'organisationUnitGroupSetStructure',\n  name: '_organisationunitgroupsetstructure'\n}, {\n  key: 'categoryStructure',\n  name: '_categorystructure'\n}, {\n  key: 'dataElementCategoryOptionComboName',\n  name: '_categoryoptioncomboname'\n}, {\n  key: 'dataElementStructure',\n  name: '_dataelementstructure'\n}, {\n  key: 'periodStructure',\n  name: '_periodstructure'\n}, {\n  key: 'dataPeriodStructure',\n  name: '_dateperiodstructure'\n}, {\n  key: 'dataElementCategoryOptionCombinations',\n  name: '_dataelementcategoryoptioncombo'\n}];\nconst ResourceTable = _ref => {\n  let {\n    sectionKey\n  } = _ref;\n  const {\n    startResourceTablesGeneration,\n    loading,\n    error,\n    notifications\n  } = useResourceTables();\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: i18nKeys.resourceTables.title,\n    sectionKey: sectionKey\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, error && /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.noticeBox,\n    error: true\n  }, error.message), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.description\n  }, tables.map(table => /*#__PURE__*/React.createElement(\"div\", {\n    key: table.key\n  }, i18nKeys.resourceTables.tables[table.key], /*#__PURE__*/React.createElement(\"span\", {\n    title: \"Table name\",\n    className: styles.tableName\n  }, \"(\", table.name, \")\")))), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: startResourceTablesGeneration,\n    loading: loading\n  }, loading ? i18n.t('Generating tables...') : i18n.t('Generate tables')), notifications.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.notificationsTable\n  }, /*#__PURE__*/React.createElement(NotificationsTable, {\n    notifications: notifications\n  }))));\n};\nResourceTable.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default ResourceTable;","import { i18nKeys } from '../i18n-keys.js';\nimport Analytics from './analytics/Analytics.js';\nimport DataIntegrity from './data-integrity/DataIntegrity.js';\nimport DataStatistics from './data-statistics/DataStatistics.js';\nimport LockExceptions from './lock-exceptions/LockExceptions.js';\nimport Maintenance from './maintenance/Maintenance.js';\nimport MinMaxValueGeneration from './min-max-value-generation/MinMaxValueGeneration.js';\nimport ResourceTables from './resource-tables/ResourceTables.js';\nexport const sections = [{\n  key: 'dataIntegrity',\n  path: '/data-integrity',\n  component: DataIntegrity,\n  info: {\n    label: i18nKeys.dataIntegrity.label,\n    description: i18nKeys.dataIntegrity.description,\n    actionText: i18nKeys.dataIntegrity.actionText,\n    docs: 'dataAdmin_dataIntegrity'\n  }\n}, {\n  key: 'maintenance',\n  path: '/maintenance',\n  component: Maintenance,\n  info: {\n    label: i18nKeys.maintenance.label,\n    description: i18nKeys.maintenance.description,\n    actionText: i18nKeys.maintenance.actionText,\n    docs: 'data_admin_maintenance'\n  }\n}, {\n  key: 'resourceTables',\n  path: '/resourceTables',\n  component: ResourceTables,\n  info: {\n    label: i18nKeys.resourceTables.label,\n    description: i18nKeys.resourceTables.description,\n    actionText: i18nKeys.resourceTables.actionText,\n    docs: 'dataAdmin_resourceTables'\n  }\n}, {\n  key: 'analytics',\n  path: '/analytics',\n  component: Analytics,\n  info: {\n    label: i18nKeys.analytics.label,\n    description: i18nKeys.analytics.description,\n    actionText: i18nKeys.analytics.actionText,\n    docs: 'analytics_tables_management'\n  }\n}, {\n  key: 'statistics',\n  path: '/data-statistics',\n  component: DataStatistics,\n  info: {\n    label: i18nKeys.dataStatistics.label,\n    description: i18nKeys.dataStatistics.description,\n    actionText: i18nKeys.dataStatistics.actionText,\n    docs: 'dataAdmin_dataStatistics'\n  }\n}, {\n  key: 'lock',\n  path: '/lock-exceptions',\n  component: LockExceptions,\n  info: {\n    label: i18nKeys.lockExceptions.label,\n    description: i18nKeys.lockExceptions.description,\n    actionText: i18nKeys.lockExceptions.actionText,\n    docs: 'dataAdmin_lockException'\n  }\n}, {\n  key: 'minMax',\n  path: '/min-max-value-generation',\n  component: MinMaxValueGeneration,\n  info: {\n    label: i18nKeys.minMaxValueGeneration.label,\n    description: i18nKeys.minMaxValueGeneration.description,\n    actionText: i18nKeys.minMaxValueGeneration.actionText,\n    docs: 'dataAdmin_minMaxValueGeneration'\n  }\n}];\nexport const getDocsKeyForSection = sectionKey => {\n  var _sections$find;\n  return ((_sections$find = sections.find(section => section.key === sectionKey)) === null || _sections$find === void 0 ? void 0 : _sections$find.info.docs) || '';\n};","import { Card } from '@dhis2/ui';\nimport { PropTypes } from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './HomeCard.module.css';\nconst HomeCard = _ref => {\n  let {\n    titleText,\n    bodyText,\n    linkText,\n    to\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.title\n  }, titleText), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.body\n  }, bodyText), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.linkContainer\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: styles.link,\n    to: to\n  }, linkText))));\n};\nHomeCard.propTypes = {\n  bodyText: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  titleText: PropTypes.string.isRequired,\n  to: PropTypes.string.isRequired\n};\nexport default HomeCard;","import React from 'react';\nimport { sections } from '../sections.conf.js';\nimport styles from './Home.module.css';\nimport HomeCard from './HomeCard/HomeCard.js';\nconst Home = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.grid\n}, sections.map(section => /*#__PURE__*/React.createElement(HomeCard, {\n  key: section.key,\n  to: section.path,\n  titleText: section.info.label,\n  bodyText: section.info.description,\n  linkText: section.info.actionText\n})));\nexport default Home;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport AddLockException from '../../pages/add-lock-exception/AddLockException.js';\nimport BatchDeleteLockExceptions from '../../pages/batch-delete-lock-exceptions/BatchDeleteLockExceptions.js';\nimport Home from '../../pages/home/Home.js';\nimport { sections } from '../../pages/sections.conf.js';\nconst Routes = () => /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/\",\n  component: Home\n}), sections.map(section => /*#__PURE__*/React.createElement(Route, {\n  key: section.key,\n  exact: true,\n  path: section.path,\n  component: props => /*#__PURE__*/React.createElement(section.component, _extends({\n    sectionKey: section.key\n  }, props))\n})), /*#__PURE__*/React.createElement(Route, {\n  path: \"/lock-exceptions/batch-deletion\",\n  component: BatchDeleteLockExceptions\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/lock-exceptions/add\",\n  component: AddLockException\n}), /*#__PURE__*/React.createElement(Redirect, {\n  from: \"*\",\n  to: \"/\"\n}));\nexport default Routes;","import { MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport styles from './SidebarItem.module.css';\nconst SidebarItem = _ref => {\n  let {\n    label,\n    path\n  } = _ref;\n  const history = useHistory();\n  const isActive = !!useRouteMatch(path);\n  const navigateToPath = () => history.push(path);\n  const href = history.createHref({\n    pathname: path,\n    search: '',\n    hash: ''\n  });\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    className: styles.sidebarItem,\n    href: href,\n    onClick: navigateToPath,\n    active: isActive,\n    label: label\n  });\n};\nSidebarItem.propTypes = {\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired\n};\nexport default SidebarItem;","import { Menu } from '@dhis2/ui';\nimport React from 'react';\nimport { sections } from '../../pages/sections.conf.js';\nimport SidebarItem from './SidebarItem.js';\nconst Sidebar = () => /*#__PURE__*/React.createElement(Menu, null, sections.map(section => /*#__PURE__*/React.createElement(SidebarItem, {\n  key: section.key,\n  label: section.info.label,\n  path: section.path\n})));\nexport default Sidebar;","import './locales/index.js';\nimport { CssVariables } from '@dhis2/ui';\nimport React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport styles from './App.module.css';\nimport Routes from './components/Routes/Routes.js';\nimport Sidebar from './components/Sidebar/Sidebar.js';\nconst App = () => /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(CssVariables, {\n  spacers: true,\n  colors: true\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.sidebar\n}, /*#__PURE__*/React.createElement(Sidebar, null)), /*#__PURE__*/React.createElement(\"main\", {\n  className: styles.content\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.contentWrapper\n}, /*#__PURE__*/React.createElement(Routes, null)))));\nexport default App;"],"sourceRoot":""}