{"version":3,"sources":["D2App/components/NotificationsTable/NotificationsTable.module.css","D2App/components/DocsLink/DocsLink.module.css","D2App/components/PageHeader/PageHeader.module.css","D2App/pages/analytics/Analytics.module.css","D2App/pages/data-integrity/Issues/IssueCard.module.css","D2App/pages/data-integrity/Issues/Issues.module.css","D2App/pages/data-statistics/DataStatistics.module.css","D2App/pages/lock-exceptions/LockExceptions.module.css","D2App/pages/maintenance/Checkboxes.module.css","D2App/pages/maintenance/Maintenance.module.css","D2App/pages/min-max-value-generation/MinMaxValueGeneration.module.css","D2App/pages/resource-tables/ResourceTables.module.css","D2App/pages/home/grid-section/GridSection.module.css","D2App/pages/home/Home.module.css","D2App/components/Sidebar/SidebarItem.module.css","D2App/locales/index.js","D2App/components/LockExceptionsSubpageHeader/LockExceptionsSubpageHeader.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/use-org-unit-cache.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/SelectAll.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/Controls.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/SelectByGroup.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/SelectByLevel.js","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/OrganisationUnitSelection.js","D2App/pages/add-lock-exception/AddLockExceptionForm/PeriodPicker.js","D2App/pages/add-lock-exception/AddLockExceptionForm/AddLockExceptionForm.js","D2App/pages/add-lock-exception/AddLockException.js","D2App/components/LockExceptionsTable/LockExceptionsTable.js","D2App/components/RemoveLockExceptionModal/RemoveLockExceptionModal.js","D2App/parse-lock-exceptions.js","D2App/pages/batch-delete-lock-exceptions/BatchDeleteLockExceptions.js","D2App/i18n-keys.js","D2App/components/NotificationsTable/notifications-table.conf.js","D2App/components/NotificationsTable/NotificationsTable.js","D2App/components/DocsLink/DocsLink.js","D2App/components/PageHeader/PageHeader.js","D2App/get-updated-notifications.js","D2App/pages/analytics/analytics.conf.js","D2App/hooks/use-poll.js","D2App/pages/analytics/use-analytics-poll.js","D2App/pages/analytics/Analytics.js","D2App/pages/analytics/use-checkboxes.js","D2App/pages/data-integrity/Issues/IssueCard.js","D2App/pages/data-integrity/Issues/Issues.js","D2App/pages/data-integrity/use-data-integrity-poll.js","D2App/pages/data-integrity/DataIntegrity.js","D2App/components/FormattedNumber/FormattedNumber.js","D2App/pages/data-statistics/DataStatisticsTable.js","D2App/pages/data-statistics/table-keys.js","D2App/pages/data-statistics/parse-tables.js","D2App/pages/data-statistics/DataStatistics.js","D2App/pages/lock-exceptions/LockExceptions.js","D2App/pages/maintenance/Checkboxes.js","D2App/pages/maintenance/use-checkboxes.js","D2App/pages/maintenance/Maintenance.js","D2App/pages/min-max-value-generation/MinMaxValueGeneration.js","D2App/pages/resource-tables/use-resource-tables-poll.js","D2App/pages/resource-tables/ResourceTables.js","D2App/pages/sections.conf.js","D2App/pages/home/grid-section/GridSection.js","D2App/pages/home/Home.js","D2App/components/Routes/Routes.js","D2App/components/Sidebar/SidebarItem.js","D2App/components/Sidebar/Sidebar.js","D2App/theme.js","D2App/App.js","D2App/App.module.css","D2App/components/LockExceptionsSubpageHeader/LockExceptionsSubpageHeader.module.css","D2App/pages/add-lock-exception/AddLockException.module.css","D2App/pages/add-lock-exception/AddLockExceptionForm/AddLockExceptionForm.module.css","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/OrganisationUnitSelection.module.css","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/SelectAll.module.css","D2App/pages/add-lock-exception/AddLockExceptionForm/OrganisationUnitSelection/Controls.module.css"],"names":["module","exports","namespace","i18n","addResources","arTranslations","ar_EGTranslations","ar_IQTranslations","ar_SDTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","mnTranslations","myTranslations","nbTranslations","neTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","rwTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","LockExceptionsSubpageHeader","title","React","createElement","className","styles","headerContainer","Link","to","backArrowIcon","t","IconArrowLeft24","color","colors","grey900","header","headerDivider","subHeader","useOrgUnitCache","cache","setCache","useState","Map","has","currentRootId","itemId","get","set","orgUnits","currentRootOrgUnitsQuery","resource","id","params","fields","includeDescendants","paging","SelectAll","allOrgUnitPaths","onSelect","onDeselect","loading","setLoading","engine","useDataEngine","orgUnitCache","errorAlert","useAlert","error","message","critical","getOrgUnitPathsForCurrentRoot","async","result","query","variables","orgUnitPaths","organisationUnits","map","path","show","updatingSelection","CircularLoader","small","ButtonStrip","container","Button","onClick","disabled","Controls","items","selectedItem","onSelectedItemChange","label","placeholder","SingleSelectField","selected","filterable","onChange","value","SingleSelectOption","key","groupId","filter","orgUnitGroupsQuery","orgUnitGroups","SelectByGroup","groups","setGroupId","displayName","getOrgUnitPathsForGroup","level","orgUnitsQuery","SelectByLevel","levels","currentRoot","setLevel","currentRootLevel","match","length","toString","getOrgUnitPathsForLevel","relativeLevel","String","Number","rootWithMembers","dataSetId","memberCollection","memberObject","dataSetMembers","OrganisationUnitSelection","onSelectedChange","setCurrentRoot","called","data","refetch","useDataQuery","lazy","useEffect","handleSelect","newSelected","arr2","Set","concat","handleDeselect","arr1","forEach","item","delete","difference","CenteredContent","NoticeBox","ou","organisationUnitTree","OrganisationUnitTree","roots","initiallyExpanded","highlighted","right","organisationUnitName","line","display","getYear","date","Date","getFullYear","getTwoDigitMonth","getMonth","slice","formattedDate","getDate","getTwoDigitDay","getWeekYear","target","setDate","getDay","isWeekValid","week","year","p","y","Math","floor","is53WeekISOYear","biWeekToWeek","biWeekStr","parseInt","PeriodPicker","Component","constructor","props","super","this","state","getTranslation","month","biWeek","biMonth","day","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","quarter","Q1","Q2","Q3","Q4","sixMonth","componentDidUpdate","prevProps","periodType","handleChange","getPeriod","ordDiff","ordDate","getFirstDateOfWeek","setState","invalidWeek","invalidBiWeek","onPickPeriod","renderOptionPicker","name","options","isInvalid","style","Object","keys","sort","test","renderYearPicker","years","currentYear","renderMonthPicker","10","11","12","renderWeekPicker","weeks","substr","renderBiWeekPicker","biWeeks","prefix","renderBiMonthPicker","1","2","3","4","5","6","renderQuarterPicker","render","setDateState","InputField","type","toISOString","split","AddLockExceptionForm","dataSets","selectedDataSetId","selectedOrgUnits","onSelectedDataSetIdChange","onSelectedOrgUnitsChange","onSelectedPeriodIdChange","selectedDataSet","find","ds","Fragment","selectsContainer","dataSetSelect","dataTest","order","mutation","AddLockException","history","useHistory","dataQuery","successAlert","success","nsSeparator","mutate","dataMutation","useDataMutation","onComplete","push","onError","setSelectedOrgUnits","setSelectedDataSetId","selectedPeriodId","setSelectedPeriodId","isAddActionDisabled","organisationUnitLevels","organisationUnitGroups","Card","card","addLockExceptionButton","primary","orgUnitIds","orgUnitPath","splitOrgUnitPath","join","pe","columnLabels","dataSet","period","organisationUnit","LockExceptionsTable","columns","rows","atBatchDeletionPage","onRemoveLockException","Table","TableHead","TableRowHead","column","TableCellHead","TableBody","row","index","TableRow","TableCell","secondary","IconDelete16","RemoveLockExceptionModal","lockException","onRemove","onClose","removeLockException","Modal","ModalTitle","ModalContent","ModalActions","destructive","periodId","organisationUnitId","parseLockExceptions","lockExceptionResponse","batchedLockExceptions","BatchDeleteLockExceptions","removeLockExceptionModal","setRemoveLockExceptionModal","visible","lockExceptions","i18nKeys","dataIntegrity","description","actionText","unexpectedError","maintenance","checkboxes","analyticsTableClear","analyticsTableAnalyze","zeroDataValueRemoval","softDeletedDataValueRemoval","softDeletedEventRemoval","softDeletedEnrollmentRemoval","softDeletedTrackedEntityInstanceRemoval","periodPruning","expiredInvitationsClear","sqlViewsDrop","sqlViewsCreate","categoryOptionComboUpdate","ouPathsUpdate","cacheClear","appReload","resourceTables","tables","organisationUnitStructure","organistionUnitCategoryOptionCombo","categoryOptionGroupSetStructure","dataElementGroupSetStructure","indicatorGroupSetStructure","organisationUnitGroupSetStructure","categoryStructure","dataElementCategoryOptionComboName","dataElementStructure","periodStructure","dataPeriodStructure","dataElementCategoryOptionCombinations","analytics","skipAggregate","skipResourceTables","skipEvents","skipEnrollment","dataStatistics","minMaxValueGeneration","SUCCESS_COLOR","INFO_COLOR","ERROR_COLOR","SUCCESS_NOTIFICATION_ICON","notificationsTableStyles","iconStyle","fontSize","rowStyle","height","evenRowStyle","backgroundColor","timeColumnStyle","width","messageColumnStyle","successStyle","iconColor","fontWeight","errorStyle","infoStyle","notificationStyles","icon","assign","notificationStylesInfo","NotificationsTable","notifications","animateIncomplete","done","some","n","completed","renderNotificationRow","notification","displayBorder","TableRowColumn","dateFromServer","time","notificationIconInfo","FontIcon","notificationIconBusy","renderNotificationIcon","selectable","displayRowCheckbox","DocsLink","sectionKey","serverVersion","useConfig","docsVersion","major","minor","tag","getDocsVersion","docsKey","getDocsKeyForSection","Tooltip","content","placement","openDelay","closeDelay","link","rel","href","IconQuestion24","blue700","PageHeader","headerTitle","getUpdatedNotifications","taskNotifications","lastIndex","reverse","x","i","DEFAULT_LAST_YEARS","lastYearValues","lastYearElements","analyticsCheckboxes","usePoll","interval","checkDone","wrappedQuery","factory","ref","useRef","current","useConst","poll","cancel","start","fn","intervalId","clearInterval","args","setInterval","useLazyInterval","pollQuery","jobId","startAnalyticsTablesGenerationMutation","Analytics","toggleCheckbox","setCheckboxes","checkbox","checked","useCheckboxes","lastYears","setLastYears","startAnalyticsTablesGeneration","response","isPolling","noticeBox","form","entries","Checkbox","lastYearsSelect","notificationsTable","Content","renderValue","Array","isArray","element","jsStyles","titleStyle","errorStyles","titleColor","red600","openIcon","closeIcon","noErrorStyles","green600","cursor","countElements","sum","arr","reduce","acc","values","IssueCard","elementsCount","expandable","openFontIcon","closeFontIcon","CardHeader","issueTitle","issueElementsCount","actAsExpander","showExpandableButton","CardText","cardText","defaultProps","controls","dataElementsWithoutDataSet","dataElementsWithoutGroups","dataElementsViolatingExclusiveGroupSets","dataElementsAssignedToDataSetsWithDifferentPeriodTypes","dataSetsNotAssignedToOrganisationUnits","indicatorsWithIdenticalFormulas","indicatorsWithoutGroups","invalidIndicatorNumerators","invalidIndicatorDenominators","indicatorsViolatingExclusiveGroupSets","organisationUnitsWithCyclicReferences","orphanedOrganisationUnits","organisationUnitsWithoutGroups","organisationUnitsViolatingExclusiveGroupSets","organisationUnitGroupsWithoutGroupSets","validationRulesWithoutGroups","invalidValidationRuleLeftSideExpressions","invalidValidationRuleRightSideExpressions","invalidProgramIndicatorExpressions","invalidProgramIndicatorFilters","dataElementsInDataSetNotInForm","invalidCategoryCombos","duplicatePeriods","programRulesWithNoCondition","programRulesWithNoAction","programRulesWithNoPriority","programRuleVariablesWithNoDataElement","programRuleVariablesWithNoAttribute","programRuleActionsWithNoDataObject","programRuleActionsWithNoNotification","programRuleActionsWithNoSectionId","programRuleActionsWithNoStageId","programIndicatorsWithNoExpression","Issues","issues","errorElementskeys","includes","startDataIntegrityCheckMutation","DataIntegrity","_poll$error","handleStartDataIntegrityCheck","FormattedNumber","Intl","NumberFormat","language","format","DataStatisticsTable","elements","suppressZebraStriping","count","OBJECT_COUNTS_KEY","ACTIVE_USERS_KEY","USER_INVITATIONS_KEY","DATA_VALUE_COUNT_KEY","EVENT_COUNT_KEY","EXPIRED_INVITATION_KEY","objectLabels","indicator","visualization","programStageInstance","validationRule","dataValue","program","dataElement","organisationUnitGroup","trackedEntityInstance","reportTable","programInstance","indicatorType","userGroup","user","indicatorGroup","chart","dataElementGroup","dashboard","translatedTimeLabelFromIntProperty","intProperty","days","userInvitationsTableFromResponse","userInvitationsResponse","userInvitationsTable","hasOwnProperty","call","TableCard","dataSummary","DataStatistics","objectCountsResponse","activeUsersResponse","dataValueCountsResponse","eventCountsResponse","parseTables","renderTable","LockExceptions","page","setPage","pageSize","setPageSize","renderPagination","total","pageCount","pager","pagination","Pagination","onPageSizeChange","onPageChange","tabIndex","Checkboxes","Maintenance","MIN_MAX_VALUE_ENDPOINT","organisationIdFromPath","array","generateMinMaxValueMutation","removeMinMaxValueMutation","MinMaxValueGeneration","generateMinMaxValue","removeMinMaxValue","selectedOrganisationUnit","setSelectedOrganisationUnit","selectedDataSets","setSelectedDataSets","dataSetsSelectRef","formValid","left","multiple","from","selectedOptions","select","tree","r","singleSelection","startResourceTablesGenerationMutation","ResourceTable","handleStartResourceTablesGeneration","table","tableName","sections","component","info","docs","ResourceTables","_sections$find","section","obj","GridSection","PureComponent","GridTile","classNames","gridElement","gridTitleBar","gridTitleDescription","gridIcon","gridDescription","gridActionText","PropTypes","shape","string","isRequired","defineProperty","enumerable","configurable","writable","Home","gridElements","gridContainer","_extends","arguments","source","prototype","apply","Routes","Switch","Route","exact","Redirect","SidebarItem","isActive","useRouteMatch","createHref","pathname","search","hash","MenuItem","sidebarItem","active","Sidebar","Menu","theme","spacing","Spacing","fontFamily","palette","primary1Color","primary2Color","primary3Color","blue100","accent1Color","orange500","accent2Color","grey100","accent3Color","orangeA200","textColor","darkBlack","alternateTextColor","white","canvasColor","borderColor","grey400","disabledColor","fade","muiTheme","getMuiTheme","App","HashRouter","CssVariables","spacers","MuiThemeProvider","sidebar","contentWrapper"],"mappings":"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","file":"static/js/app.8d61aaff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NotificationsTable_container__3rWWn\",\"notificationIconBusy\":\"NotificationsTable_notificationIconBusy__2pH9y\",\"ellipsis\":\"NotificationsTable_ellipsis__SgdPq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"DocsLink_link__3VtmR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"PageHeader_header__1jM0V\",\"headerTitle\":\"PageHeader_headerTitle__1KEEp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Analytics_card__yDnHd\",\"form\":\"Analytics_form__1kWco\",\"checkboxes\":\"Analytics_checkboxes__3x3kH\",\"noticeBox\":\"Analytics_noticeBox__33LKk\",\"checkbox\":\"Analytics_checkbox__iwSjP\",\"lastYearsSelect\":\"Analytics_lastYearsSelect__1u-Al\",\"notificationsTable\":\"Analytics_notificationsTable__afjRF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"IssueCard_card__3_lBo\",\"cardText\":\"IssueCard_cardText__2KnBC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"issues\":\"Issues_issues__24Dvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"DataStatistics_card__-usL2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"LockExceptions_pagination__14JE0\",\"headerContainer\":\"LockExceptions_headerContainer__1Xr9H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkboxes\":\"Checkboxes_checkboxes__37c7z\",\"checkbox\":\"Checkboxes_checkbox__1sczJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Maintenance_card__1RUV7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"MinMaxValueGeneration_card__3HhUq\",\"header\":\"MinMaxValueGeneration_header__3aa-o\",\"container\":\"MinMaxValueGeneration_container__1KXr1\",\"label\":\"MinMaxValueGeneration_label__Zpg4R\",\"left\":\"MinMaxValueGeneration_left___Z-17\",\"right\":\"MinMaxValueGeneration_right__3Nvgn\",\"tree\":\"MinMaxValueGeneration_tree__1LuaX\",\"select\":\"MinMaxValueGeneration_select__3RB4a\",\"options\":\"MinMaxValueGeneration_options__XH-P_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ResourceTables_card__1Xjck\",\"description\":\"ResourceTables_description__3ojib\",\"tableName\":\"ResourceTables_tableName__3eEPw\",\"noticeBox\":\"ResourceTables_noticeBox__2-ZOw\",\"notificationsTable\":\"ResourceTables_notificationsTable__3uSsd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridElement\":\"GridSection_gridElement__dFN30\",\"gridTitleBar\":\"GridSection_gridTitleBar__iuWB9\",\"gridTitleDescription\":\"GridSection_gridTitleDescription__OBU6O\",\"gridIcon\":\"GridSection_gridIcon__1BcuZ\",\"gridDescription\":\"GridSection_gridDescription__3BQ6R\",\"gridActionText\":\"GridSection_gridActionText__2cTCc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"Home_gridContainer__3mcNn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarItem\":\"SidebarItem_sidebarItem__1m_xH\"};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ar_SDTranslations from './ar_SD/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport mnTranslations from './mn/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport rwTranslations from './rw/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ar_SD', namespace, ar_SDTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('mn', namespace, mnTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('rw', namespace, rwTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import i18n from '@dhis2/d2-i18n';\nimport { colors, IconArrowLeft24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './LockExceptionsSubpageHeader.module.css';\n\nconst LockExceptionsSubpageHeader = ({\n  title\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.headerContainer\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/lock-exceptions\"\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.backArrowIcon,\n  title: i18n.t('Go back to all lock exceptions')\n}, /*#__PURE__*/React.createElement(IconArrowLeft24, {\n  color: colors.grey900\n}))), /*#__PURE__*/React.createElement(\"h1\", {\n  className: styles.header\n}, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Lock Exception')), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.headerDivider\n}, \" | \"), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.subHeader\n}, title)));\n\nLockExceptionsSubpageHeader.propTypes = {\n  title: PropTypes.string.isRequired\n};\nexport default LockExceptionsSubpageHeader;","import { useState } from 'react';\n\nconst useOrgUnitCache = () => {\n  const [cache, setCache] = useState(new Map());\n  return {\n    has: (currentRootId = null, itemId) => cache.has(currentRootId) && cache.get(currentRootId).has(itemId),\n    set: (currentRootId = null, itemId, orgUnits) => {\n      if (!cache.has(currentRootId)) {\n        cache.set(currentRootId, new Map());\n      }\n\n      const currentRootCache = cache.get(currentRootId);\n      currentRootCache.set(itemId, orgUnits);\n      setCache(cache);\n    },\n    get: (currentRootId = null, itemId) => cache.get(currentRootId).get(itemId)\n  };\n};\n\nexport default useOrgUnitCache;","import { useDataEngine, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CircularLoader, ButtonStrip, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport styles from './SelectAll.module.css';\nimport useOrgUnitCache from './use-org-unit-cache';\nconst currentRootOrgUnitsQuery = {\n  orgUnits: {\n    resource: 'organisationUnits',\n    id: ({\n      currentRootId\n    }) => currentRootId,\n    params: {\n      fields: 'id,path',\n      includeDescendants: true,\n      paging: false\n    }\n  }\n};\n\nconst SelectAll = ({\n  currentRootId,\n  allOrgUnitPaths,\n  onSelect,\n  onDeselect\n}) => {\n  const [loading, setLoading] = useState(false);\n  const engine = useDataEngine();\n  const orgUnitCache = useOrgUnitCache();\n  const errorAlert = useAlert(({\n    error\n  }) => error.message, {\n    critical: true\n  });\n\n  const getOrgUnitPathsForCurrentRoot = async () => {\n    if (!currentRootId) {\n      return allOrgUnitPaths;\n    } else if (orgUnitCache.has(currentRootId, null)) {\n      return orgUnitCache.get(currentRootId, null);\n    }\n\n    setLoading(true);\n\n    try {\n      const result = await engine.query(currentRootOrgUnitsQuery, {\n        variables: {\n          currentRootId\n        }\n      });\n      const orgUnits = result.orgUnits.organisationUnits;\n      const orgUnitPaths = orgUnits.map(({\n        path\n      }) => path);\n      orgUnitCache.set(currentRootId, null, orgUnitPaths);\n      return orgUnitPaths;\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelectAll = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForCurrentRoot();\n    onSelect(orgUnitPaths);\n  };\n\n  const handleDeselectAll = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForCurrentRoot();\n    onDeselect(orgUnitPaths);\n  };\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.updatingSelection\n    }, /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }), i18n.t('Updating selection...'));\n  }\n\n  return /*#__PURE__*/React.createElement(ButtonStrip, {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSelectAll,\n    disabled: loading\n  }, i18n.t('Select All Org Units')), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDeselectAll,\n    disabled: loading\n  }, i18n.t('Deselect All Org Units')));\n};\n\nSelectAll.propTypes = {\n  allOrgUnitPaths: PropTypes.array.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  // If currentRootId is set, only org units that are descendants of the\n  // current root org unit will be added to or removed from the selection\n  currentRootId: PropTypes.string\n};\nexport default SelectAll;","import i18n from '@dhis2/d2-i18n';\nimport { CircularLoader, SingleSelectField, SingleSelectOption, ButtonStrip, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './Controls.module.css';\n\nconst Controls = ({\n  items,\n  selectedItem,\n  onSelectedItemChange,\n  label,\n  placeholder,\n  loading,\n  onSelect,\n  onDeselect\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container\n}, /*#__PURE__*/React.createElement(SingleSelectField, {\n  label: label,\n  placeholder: placeholder,\n  selected: selectedItem,\n  disabled: loading,\n  filterable: true,\n  onChange: ({\n    selected\n  }) => onSelectedItemChange(selected)\n}, items.map(({\n  label,\n  value\n}) => /*#__PURE__*/React.createElement(SingleSelectOption, {\n  key: label,\n  label: label,\n  value: value\n}))), loading ? /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.updatingSelection\n}, /*#__PURE__*/React.createElement(CircularLoader, {\n  small: true\n}), i18n.t('Updating selection...')) : /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n  onClick: onSelect,\n  disabled: loading || !selectedItem\n}, i18n.t('Select')), /*#__PURE__*/React.createElement(Button, {\n  onClick: onDeselect,\n  disabled: loading || !selectedItem\n}, i18n.t('Deselect'))));\n\nControls.propTypes = {\n  items: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onSelectedItemChange: PropTypes.func.isRequired,\n  loading: PropTypes.bool,\n  selectedItem: PropTypes.any\n};\nexport default Controls;","import { useDataEngine, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport Controls from './Controls';\nimport useOrgUnitCache from './use-org-unit-cache';\nconst currentRootOrgUnitsQuery = {\n  orgUnits: {\n    resource: 'organisationUnits',\n    id: ({\n      currentRootId\n    }) => currentRootId,\n    params: ({\n      groupId\n    }) => ({\n      fields: 'id,path',\n      filter: `organisationUnitGroups.id:eq:${groupId}`,\n      includeDescendants: true,\n      paging: false\n    })\n  }\n};\nconst orgUnitGroupsQuery = {\n  orgUnitGroups: {\n    resource: 'organisationUnitGroups',\n    id: ({\n      groupId\n    }) => groupId,\n    params: {\n      fields: `organisationUnits[id,path]`\n    }\n  }\n};\n\nconst SelectByGroup = ({\n  groups,\n  currentRootId,\n  onSelect,\n  onDeselect\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [groupId, setGroupId] = useState(null);\n  const engine = useDataEngine();\n  const orgUnitCache = useOrgUnitCache();\n  const errorAlert = useAlert(({\n    error\n  }) => error.message, {\n    critical: true\n  });\n  const items = groups.map(({\n    id,\n    displayName\n  }) => ({\n    label: displayName,\n    value: id\n  }));\n\n  const getOrgUnitPathsForGroup = async () => {\n    if (orgUnitCache.has(currentRootId, groupId)) {\n      return orgUnitCache.get(currentRootId, groupId);\n    }\n\n    setLoading(true);\n\n    try {\n      const orgUnits = currentRootId ? (await engine.query(currentRootOrgUnitsQuery, {\n        variables: {\n          currentRootId,\n          groupId\n        }\n      })).orgUnits.organisationUnits : (await engine.query(orgUnitGroupsQuery, {\n        variables: {\n          groupId\n        }\n      })).orgUnitGroups.organisationUnits;\n      const orgUnitPaths = orgUnits.map(({\n        path\n      }) => path);\n      orgUnitCache.set(currentRootId, groupId, orgUnitPaths);\n      return orgUnitPaths;\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelect = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForGroup();\n    onSelect(orgUnitPaths);\n  };\n\n  const handleDeselect = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForGroup();\n    onDeselect(orgUnitPaths);\n  };\n\n  return /*#__PURE__*/React.createElement(Controls, {\n    items: items,\n    selectedItem: groupId,\n    onSelectedItemChange: setGroupId,\n    label: i18n.t('Organisation unit group'),\n    placeholder: i18n.t('Select an organisation unit group'),\n    loading: loading,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  });\n};\n\nSelectByGroup.propTypes = {\n  // groups is an array of objects, where each object should contain `id` and\n  // `displayName` properties\n  groups: PropTypes.array.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  // If currentRootId is set, only org units that are descendants of the\n  // current root org unit will be added to or removed from the selection\n  currentRootId: PropTypes.string\n};\nexport default SelectByGroup;","import { useDataEngine, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport Controls from './Controls';\nimport useOrgUnitCache from './use-org-unit-cache';\nconst currentRootOrgUnitsQuery = {\n  orgUnits: {\n    resource: 'organisationUnits',\n    id: ({\n      currentRootId\n    }) => currentRootId,\n    params: ({\n      level\n    }) => ({\n      fields: 'id,path',\n      level,\n      paging: false\n    })\n  }\n};\nconst orgUnitsQuery = {\n  orgUnits: {\n    resource: 'organisationUnits',\n    params: ({\n      level\n    }) => ({\n      fields: 'id,path',\n      level,\n      paging: false\n    })\n  }\n};\n\nconst SelectByLevel = ({\n  levels,\n  currentRoot,\n  onSelect,\n  onDeselect\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [level, setLevel] = useState(null);\n  const engine = useDataEngine();\n  const orgUnitCache = useOrgUnitCache();\n  const errorAlert = useAlert(({\n    error\n  }) => error.message, {\n    critical: true\n  });\n  const currentRootId = currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.id;\n  const currentRootLevel = currentRoot ? // The OrganisationUnitTree component does not currently fetch the `level`\n  // field and so we must count the number of forward slashes in the org unit\n  // path\n  currentRoot.level || currentRoot.path.match(/\\//g).length : 1;\n  const items = levels.filter(({\n    level\n  }) => level >= currentRootLevel).map(({\n    displayName,\n    level\n  }) => ({\n    label: displayName,\n    value: level.toString()\n  }));\n\n  const getOrgUnitPathsForLevel = async () => {\n    if (orgUnitCache.has(currentRootId, level)) {\n      return orgUnitCache.get(currentRootId, level);\n    }\n\n    setLoading(true);\n\n    try {\n      const relativeLevel = level - currentRootLevel;\n      const orgUnits = currentRootId ? (await engine.query(currentRootOrgUnitsQuery, {\n        variables: {\n          currentRootId,\n          level: relativeLevel\n        }\n      })).orgUnits.organisationUnits : (await engine.query(orgUnitsQuery, {\n        variables: {\n          level\n        }\n      })).orgUnits.organisationUnits;\n      const orgUnitPaths = orgUnits.map(({\n        path\n      }) => path);\n      orgUnitCache.set(currentRootId, level, orgUnitPaths);\n      return orgUnitPaths;\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelect = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForLevel();\n    onSelect(orgUnitPaths);\n  };\n\n  const handleDeselect = async () => {\n    const orgUnitPaths = await getOrgUnitPathsForLevel();\n    onDeselect(orgUnitPaths);\n  };\n\n  return /*#__PURE__*/React.createElement(Controls, {\n    items: items,\n    selectedItem: level ? String(level) : null,\n    onSelectedItemChange: level => setLevel(Number(level)),\n    label: i18n.t('Organisation unit level'),\n    placeholder: i18n.t('Select an organisation unit level'),\n    loading: loading,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  });\n};\n\nSelectByLevel.propTypes = {\n  // levels is an array of objects, where each object should contain `level`\n  // and `displayName` properties\n  levels: PropTypes.array.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  // If currentRoot is set, only org units that are descendants of the\n  // current root org unit will be added to or removed from the selection\n  currentRoot: (props, propName) => {\n    if (props[propName]) {\n      if (!Object.prototype.hasOwnProperty.call(props[propName], 'id')) {\n        return new Error('currentRoot must have an `id` property');\n      }\n\n      if (!Object.prototype.hasOwnProperty.call(props[propName], 'level') && !Object.prototype.hasOwnProperty.call(props[propName], 'path')) {\n        return new Error('currentRoot must have either a `level` or a `path` property');\n      }\n    }\n  }\n};\nexport default SelectByLevel;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { NoticeBox, CenteredContent, CircularLoader, OrganisationUnitTree } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport styles from './OrganisationUnitSelection.module.css';\nimport SelectAll from './SelectAll';\nimport SelectByGroup from './SelectByGroup';\nimport SelectByLevel from './SelectByLevel';\n\nconst union = (arr1, arr2) => [...new Set(arr1.concat(arr2))];\n\nconst difference = (arr1, arr2) => {\n  const set = new Set(arr1);\n  arr2.forEach(item => {\n    set.delete(item);\n  });\n  return [...set];\n};\n\nconst query = {\n  rootWithMembers: {\n    resource: 'organisationUnits',\n    params: ({\n      dataSetId\n    }) => ({\n      fields: 'id,path',\n      level: 1,\n      memberCollection: 'dataSets',\n      memberObject: dataSetId,\n      paging: false\n    })\n  },\n  dataSetMembers: {\n    resource: 'dataSets',\n    id: ({\n      dataSetId\n    }) => dataSetId,\n    params: {\n      fields: 'organisationUnits[id,path]',\n      paging: false\n    }\n  }\n};\n\nconst OrganisationUnitSelection = ({\n  dataSetId,\n  levels,\n  groups,\n  selected,\n  onSelectedChange\n}) => {\n  const [currentRoot, setCurrentRoot] = useState(null);\n  const {\n    loading,\n    called,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  useEffect(() => {\n    setCurrentRoot(null);\n    refetch({\n      dataSetId\n    });\n  }, [dataSetId]);\n\n  const handleOrgUnitClick = ({\n    selected,\n    ...currentRoot\n  }) => {\n    setCurrentRoot(currentRoot);\n    onSelectedChange(selected);\n  };\n\n  const handleSelect = orgUnitPaths => {\n    const newSelected = union(selected, orgUnitPaths);\n    onSelectedChange(newSelected);\n  };\n\n  const handleDeselect = orgUnitPaths => {\n    const newSelected = difference(selected, orgUnitPaths);\n    onSelectedChange(newSelected);\n  };\n\n  if (loading || !called) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      title: i18n.t('Error loading data for data set'),\n      error: true\n    }, error.message);\n  }\n\n  const rootWithMembers = data.rootWithMembers.organisationUnits[0];\n  const orgUnitPaths = data.dataSetMembers.organisationUnits.map(ou => ou.path);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.organisationUnitTree,\n    \"data-test\": \"add-lock-exception-org-unit-tree\"\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    roots: [rootWithMembers.id],\n    initiallyExpanded: [rootWithMembers.path],\n    highlighted: currentRoot ? [currentRoot.id] : [],\n    filter: orgUnitPaths,\n    selected: selected,\n    onChange: handleOrgUnitClick\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.currentRoot\n  }, currentRoot ? i18n.t('For organisation units within {{organisationUnitName}}:', {\n    organisationUnitName: currentRoot.displayName\n  }) : i18n.t('For all organisation units:')), /*#__PURE__*/React.createElement(SelectByLevel, {\n    levels: levels,\n    currentRoot: currentRoot,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  }), /*#__PURE__*/React.createElement(SelectByGroup, {\n    groups: groups,\n    currentRootId: currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.id,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  }), /*#__PURE__*/React.createElement(SelectAll, {\n    currentRootId: currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.id,\n    allOrgUnitPaths: orgUnitPaths,\n    onSelect: handleSelect,\n    onDeselect: handleDeselect\n  })));\n};\n\nOrganisationUnitSelection.propTypes = {\n  dataSetId: PropTypes.string.isRequired,\n  groups: PropTypes.array.isRequired,\n  levels: PropTypes.array.isRequired,\n  selected: PropTypes.array.isRequired,\n  onSelectedChange: PropTypes.func.isRequired\n};\nexport default OrganisationUnitSelection;","import i18n from '@dhis2/d2-i18n';\nimport { InputField, SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst getFirstDateOfWeek = (year, week) => {\n  const ordTable = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n  const ordTableLeap = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n  const isLeapYear = new Date(new Date(year, 2, 1).setDate(0)).getDate() === 29;\n  const ordDiff = isLeapYear ? ordTableLeap : ordTable;\n  const correction = (new Date(year, 0, 4).getDay() || 7) + 3;\n  const ordDate = week * 7 + (1 - correction);\n\n  if (ordDate < 0) {\n    return new Date(year, 0, ordDate);\n  }\n\n  let month = 11;\n\n  while (ordDate < ordDiff[month]) {\n    month--;\n  }\n\n  return new Date(year, month, ordDate - ordDiff[month]);\n};\n\nconst is53WeekISOYear = year => {\n  const p = y => y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400);\n\n  return p(year) % 7 === 4 || p(year - 1) % 7 === 3;\n};\n\nconst styles = {\n  line: {\n    display: 'flex'\n  }\n};\n\nconst getYear = date => new Date(date).getFullYear().toString();\n\nconst getTwoDigitMonth = date => {\n  const month = new Date(date).getMonth() + 1; // Month is 0 indexed\n\n  return `0${month}`.slice(-2);\n};\n\nconst getTwoDigitDay = date => {\n  const day = new Date(date).getDate();\n  return `0${day}`.slice(-2);\n};\n\nconst formattedDate = date => `${getYear(date)}${getTwoDigitMonth(date)}${getTwoDigitDay(date)}`;\n\nconst getWeekYear = date => {\n  // Create a new date object for the thursday of this week\n  const target = new Date(date);\n  target.setDate(target.getDate() - (date.getDay() + 6) % 7 + 3);\n  return target.getFullYear();\n};\n\nconst isWeekValid = (date, week) => // It's not possible to have a week 53 in a 52 week year\n!is53WeekISOYear(date) && Number(week) !== 53;\n\nconst biWeekToWeek = biWeekStr => parseInt(biWeekStr) * 2 - 1;\n\nconst isoDate = date => new Date(date).toISOString().split('T')[0];\n\nclass PeriodPicker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  getTranslation(key) {\n    const periodTypeLabels = {\n      week: i18n.t('week'),\n      month: i18n.t('month'),\n      year: i18n.t('year'),\n      biWeek: i18n.t('bi weekly'),\n      biMonth: i18n.t('bi monthly'),\n      day: i18n.t('day'),\n      jan: i18n.t('jan'),\n      feb: i18n.t('feb'),\n      mar: i18n.t('mar'),\n      apr: i18n.t('apr'),\n      may: i18n.t('may'),\n      jun: i18n.t('jun'),\n      jul: i18n.t('jul'),\n      aug: i18n.t('aug'),\n      sep: i18n.t('sep'),\n      oct: i18n.t('oct'),\n      nov: i18n.t('nov'),\n      dec: i18n.t('dec'),\n      'jan-feb': i18n.t('jan-feb'),\n      'mar-apr': i18n.t('mar-apr'),\n      'may-jun': i18n.t('may-jun'),\n      'jul-aug': i18n.t('jul-aug'),\n      'sep-oct': i18n.t('sep-oct'),\n      'nov-dec': i18n.t('nov-dec'),\n      quarter: i18n.t('quarter'),\n      Q1: i18n.t('Q1'),\n      Q2: i18n.t('Q2'),\n      Q3: i18n.t('Q3'),\n      Q4: i18n.t('Q4'),\n      sixMonth: i18n.t('six monthly'),\n      'jan-jun': i18n.t('jan-jun'),\n      'jul-dec': i18n.t('jul-dec'),\n      'apr-sep': i18n.t('apr-sep'),\n      'oct-mar': i18n.t('oct-mar')\n    };\n    return periodTypeLabels[key] || key;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.periodType !== prevProps.periodType) {\n      this.handleChange();\n    }\n  }\n\n  getPeriod() {\n    const week = this.props.periodType === 'BiWeekly' && this.state.biWeek ? biWeekToWeek(this.state.biWeek) : this.state.week;\n    const date = this.state.year && week && getFirstDateOfWeek(this.state.year, week);\n\n    switch (this.props.periodType) {\n      case 'Daily':\n        return this.state.date && formattedDate(this.state.date);\n\n      case 'Weekly':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}W${this.state.week}`;\n\n      case 'WeeklyWednesday':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}WedW${this.state.week}`;\n\n      case 'WeeklyThursday':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}ThuW${this.state.week}`;\n\n      case 'WeeklySaturday':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}SatW${this.state.week}`;\n\n      case 'WeeklySunday':\n        if (date) {\n          this.setState({\n            invalidWeek: !isWeekValid(date, this.state.week)\n          });\n        }\n\n        return date && isWeekValid(date, this.state.week) && `${getWeekYear(date)}SunW${this.state.week}`;\n\n      case 'BiWeekly':\n        if (date) {\n          this.setState({\n            invalidBiWeek: !isWeekValid(date, biWeekToWeek(this.state.biWeek))\n          });\n        }\n\n        return this.state.year && this.state.biWeek && `${this.state.year}BiW${this.state.biWeek}`;\n\n      case 'Monthly':\n        return this.state.year && this.state.month && `${this.state.year}${this.state.month}`;\n\n      case 'BiMonthly':\n        return this.state.year && this.state.biMonth && `${this.state.year}0${this.state.biMonth}B`;\n\n      case 'Quarterly':\n        return this.state.year && this.state.quarter && `${this.state.year}Q${this.state.quarter}`;\n\n      case 'SixMonthly':\n        return this.state.year && this.state.sixMonth && `${this.state.year}S${this.state.sixMonth}`;\n\n      case 'SixMonthlyApril':\n        return this.state.year && this.state.sixMonth && `${this.state.year}AprilS${this.state.sixMonth}`;\n\n      case 'SixMonthlyNov':\n        return this.state.year && this.state.sixMonth && `${this.state.year}NovS${this.state.sixMonth}`;\n\n      case 'Yearly':\n        return this.state.year;\n\n      case 'FinancialApril':\n        return this.state.year && `${this.state.year}April`;\n\n      case 'FinancialJuly':\n        return this.state.year && `${this.state.year}July`;\n\n      case 'FinancialOct':\n        return this.state.year && `${this.state.year}Oct`;\n\n      default:\n        return false;\n    }\n  }\n\n  handleChange() {\n    if (this.getPeriod()) {\n      this.props.onPickPeriod(this.getPeriod());\n    }\n  }\n\n  renderOptionPicker(name, options) {\n    const handleChange = ({\n      selected\n    }) => this.setState({\n      [name]: selected\n    }, this.handleChange);\n\n    const isInvalid = name === 'week' && this.state.invalidWeek || name === 'biWeek' && this.state.invalidBiWeek;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'inline-block'\n      },\n      \"data-test\": `period-picker-option-${name}`\n    }, /*#__PURE__*/React.createElement(SingleSelectField, {\n      label: this.getTranslation(name),\n      selected: this.state[name],\n      onChange: handleChange,\n      error: isInvalid\n    }, Object.keys(options).sort().map(value => /*#__PURE__*/React.createElement(SingleSelectOption, {\n      key: value,\n      label: /[^0-9]/.test(options[value]) && name !== 'biWeek' ? this.getTranslation(options[value]) : options[value],\n      value: value\n    }))));\n  }\n\n  renderYearPicker() {\n    const years = {};\n    const currentYear = new Date().getFullYear();\n\n    for (let year = 2014; year < currentYear + 5; year++) {\n      years[year] = year;\n    }\n\n    return this.renderOptionPicker('year', years);\n  }\n\n  renderMonthPicker() {\n    const months = {\n      '01': 'jan',\n      '02': 'feb',\n      '03': 'mar',\n      '04': 'apr',\n      '05': 'may',\n      '06': 'jun',\n      '07': 'jul',\n      '08': 'aug',\n      '09': 'sep',\n      10: 'oct',\n      11: 'nov',\n      12: 'dec'\n    };\n    return this.renderOptionPicker('month', months);\n  }\n\n  renderWeekPicker() {\n    const weeks = {};\n    const weekLimit = 53;\n\n    for (let week = 1; week <= weekLimit; week++) {\n      weeks[`0${week}`.substr(-2)] = week;\n    }\n\n    return this.renderOptionPicker('week', weeks);\n  }\n\n  renderBiWeekPicker() {\n    const biWeeks = {};\n    const biWeekLimit = 27;\n    const prefix = this.getTranslation('biWeek');\n\n    for (let biWeek = 1; biWeek <= biWeekLimit; biWeek++) {\n      biWeeks[`0${biWeek}`.substr(-2)] = `${prefix} ${biWeek}`;\n    }\n\n    return this.renderOptionPicker('biWeek', biWeeks);\n  }\n\n  renderBiMonthPicker() {\n    const biMonths = {\n      1: 'jan-feb',\n      2: 'mar-apr',\n      3: 'may-jun',\n      4: 'jul-aug',\n      5: 'sep-oct',\n      6: 'nov-dec'\n    };\n    return this.renderOptionPicker('biMonth', biMonths);\n  }\n\n  renderQuarterPicker() {\n    const quarters = {\n      1: 'Q1',\n      2: 'Q2',\n      3: 'Q3',\n      4: 'Q4'\n    };\n    return this.renderOptionPicker('quarter', quarters);\n  }\n\n  render() {\n    const setDateState = ({\n      value: date\n    }) => {\n      const year = getYear(date);\n      const month = getTwoDigitMonth(date);\n      this.setState({\n        date,\n        year,\n        month\n      }, this.handleChange);\n    };\n\n    switch (this.props.periodType) {\n      case 'Daily':\n        return /*#__PURE__*/React.createElement(InputField, {\n          type: \"date\",\n          label: this.getTranslation('day'),\n          value: this.state.date && isoDate(this.state.date),\n          onChange: setDateState\n        });\n\n      case 'Weekly':\n      case 'WeeklyWednesday':\n      case 'WeeklyThursday':\n      case 'WeeklySaturday':\n      case 'WeeklySunday':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderWeekPicker());\n\n      case 'BiWeekly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderBiWeekPicker());\n\n      case 'Monthly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderMonthPicker());\n\n      case 'BiMonthly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderBiMonthPicker());\n\n      case 'Quarterly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderQuarterPicker());\n\n      case 'SixMonthly':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderOptionPicker('sixMonth', {\n          1: 'jan-jun',\n          2: 'jul-dec'\n        }));\n\n      case 'SixMonthlyApril':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderOptionPicker('sixMonth', {\n          1: 'apr-sep',\n          2: 'oct-mar'\n        }));\n\n      case 'SixMonthlyNov':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker(), this.renderOptionPicker('sixMonth', {\n          1: 'nov-apr',\n          2: 'may-oct'\n        }));\n\n      case 'Yearly':\n      case 'FinancialApril':\n      case 'FinancialJuly':\n      case 'FinancialOct':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: styles.line\n        }, this.renderYearPicker());\n\n      default:\n        return null;\n    }\n  }\n\n}\n\nPeriodPicker.propTypes = {\n  periodType: PropTypes.oneOf(['Daily', 'Weekly', 'WeeklyWednesday', 'WeeklyThursday', 'WeeklySaturday', 'WeeklySunday', 'BiWeekly', 'Monthly', 'BiMonthly', 'Quarterly', 'SixMonthly', 'SixMonthlyApril', 'SixMonthlyNov', 'Yearly', 'FinancialApril', 'FinancialJuly', 'FinancialOct']).isRequired,\n  onPickPeriod: PropTypes.func.isRequired\n};\nexport default PeriodPicker;","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './AddLockExceptionForm.module.css';\nimport OrganisationUnitSelection from './OrganisationUnitSelection/OrganisationUnitSelection';\nimport PeriodPicker from './PeriodPicker';\n\nconst AddLockExceptionForm = ({\n  dataSets,\n  groups,\n  levels,\n  selectedDataSetId,\n  selectedOrgUnits,\n  onSelectedDataSetIdChange,\n  onSelectedOrgUnitsChange,\n  onSelectedPeriodIdChange\n}) => {\n  const handleDataSetChange = ({\n    selected: dataSetId\n  }) => {\n    if (selectedDataSetId !== null && dataSetId === selectedDataSetId) {\n      return;\n    }\n\n    onSelectedDataSetIdChange(dataSetId);\n    onSelectedOrgUnitsChange([]);\n  };\n\n  const selectedDataSet = dataSets.find(ds => ds.id === selectedDataSetId);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.selectsContainer\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    className: styles.dataSetSelect,\n    label: i18n.t('Data set'),\n    placeholder: i18n.t('Select a data set'),\n    selected: selectedDataSetId,\n    filterable: true,\n    onChange: handleDataSetChange,\n    dataTest: \"add-lock-exception-select-data-set\"\n  }, dataSets.map(ds => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: ds.id,\n    label: ds.displayName,\n    value: ds.id\n  }))), selectedDataSetId && /*#__PURE__*/React.createElement(PeriodPicker, {\n    periodType: selectedDataSet.periodType,\n    onPickPeriod: onSelectedPeriodIdChange\n  })), selectedDataSetId && /*#__PURE__*/React.createElement(OrganisationUnitSelection, {\n    dataSetId: selectedDataSetId,\n    levels: levels,\n    groups: groups,\n    selected: selectedOrgUnits,\n    onSelectedChange: onSelectedOrgUnitsChange\n  }));\n};\n\nAddLockExceptionForm.propTypes = {\n  dataSets: PropTypes.array.isRequired,\n  groups: PropTypes.array.isRequired,\n  levels: PropTypes.array.isRequired,\n  selectedOrgUnits: PropTypes.array.isRequired,\n  onSelectedDataSetIdChange: PropTypes.func.isRequired,\n  onSelectedOrgUnitsChange: PropTypes.func.isRequired,\n  onSelectedPeriodIdChange: PropTypes.func.isRequired,\n  selectedDataSetId: PropTypes.string\n};\nexport default AddLockExceptionForm;","import { useDataQuery, useDataMutation, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CenteredContent, NoticeBox, Button, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport LockExceptionsSubpageHeader from '../../components/LockExceptionsSubpageHeader/LockExceptionsSubpageHeader';\nimport styles from './AddLockException.module.css';\nimport AddLockExceptionForm from './AddLockExceptionForm/AddLockExceptionForm';\nconst query = {\n  levels: {\n    resource: 'organisationUnitLevels',\n    params: {\n      fields: 'id,level,displayName',\n      paging: false,\n      order: 'level:asc'\n    }\n  },\n  groups: {\n    resource: 'organisationUnitGroups',\n    params: {\n      fields: 'id,displayName',\n      paging: false\n    }\n  },\n  dataSets: {\n    resource: 'dataSets',\n    params: {\n      fields: 'id,displayName,periodType',\n      paging: false\n    }\n  }\n};\nconst mutation = {\n  resource: 'lockExceptions',\n  type: 'create',\n  params: params => params\n};\n\nconst AddLockException = () => {\n  const history = useHistory();\n  const dataQuery = useDataQuery(query);\n  const successAlert = useAlert(i18n.t('Lock exception added'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => i18n.t('Error adding lock exception: {{error}}', {\n    error,\n    nsSeparator: '-:-'\n  }), {\n    critical: true\n  });\n  const [mutate, dataMutation] = useDataMutation(mutation, {\n    onComplete: () => {\n      successAlert.show();\n      history.push('/lock-exceptions');\n    },\n    onError: error => {\n      errorAlert.show({\n        error\n      });\n    }\n  });\n  const [selectedOrgUnits, setSelectedOrgUnits] = useState([]);\n  const [selectedDataSetId, setSelectedDataSetId] = useState(null);\n  const [selectedPeriodId, setSelectedPeriodId] = useState(null);\n\n  const handleAdd = () => {\n    const orgUnitIds = selectedOrgUnits.map(orgUnitPath => {\n      const splitOrgUnitPath = orgUnitPath.split('/');\n      return splitOrgUnitPath[splitOrgUnitPath.length - 1];\n    });\n    mutate({\n      ou: `[${orgUnitIds.join(',')}]`,\n      pe: selectedPeriodId,\n      ds: selectedDataSetId\n    });\n  };\n\n  const isAddActionDisabled = dataMutation.loading || !(selectedOrgUnits.length > 0 && selectedDataSetId && selectedPeriodId);\n\n  if (dataQuery.loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  if (dataQuery.error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true\n    }, dataQuery.error.message));\n  }\n\n  const {\n    levels: {\n      organisationUnitLevels\n    },\n    groups: {\n      organisationUnitGroups\n    },\n    dataSets: {\n      dataSets\n    }\n  } = dataQuery.data;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LockExceptionsSubpageHeader, {\n    title: i18n.t('Add lock exception')\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(AddLockExceptionForm, {\n    levels: organisationUnitLevels,\n    groups: organisationUnitGroups,\n    dataSets: dataSets,\n    selectedDataSetId: selectedDataSetId,\n    selectedOrgUnits: selectedOrgUnits,\n    onSelectedDataSetIdChange: setSelectedDataSetId,\n    onSelectedOrgUnitsChange: setSelectedOrgUnits,\n    onSelectedPeriodIdChange: setSelectedPeriodId\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: styles.addLockExceptionButton,\n    primary: true,\n    disabled: isAddActionDisabled,\n    onClick: handleAdd\n  }, dataMutation.loading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Adding lock exception...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Add lock exception'))));\n};\n\nexport default AddLockException;","import i18n from '@dhis2/d2-i18n';\nimport { Button, Table, TableHead, TableRowHead, TableCellHead, TableBody, TableRow, TableCell, IconDelete16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst columnLabels = {\n  dataSet: i18n.t('Data set'),\n  period: i18n.t('Period'),\n  organisationUnit: i18n.t('Organisation unit')\n};\n\nconst LockExceptionsTable = ({\n  columns,\n  rows,\n  atBatchDeletionPage,\n  onRemoveLockException\n}) => /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, columns.map(column => /*#__PURE__*/React.createElement(TableCellHead, {\n  key: column\n}, columnLabels[column])), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, rows.map((row, index) => /*#__PURE__*/React.createElement(TableRow, {\n  key: index\n}, columns.map(column => /*#__PURE__*/React.createElement(TableCell, {\n  key: column\n}, row[column])), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  secondary: true,\n  onClick: () => onRemoveLockException(row)\n}, /*#__PURE__*/React.createElement(\"span\", {\n  title: atBatchDeletionPage ? i18n.t('Batch delete lock exceptions') : i18n.t('Remove lock exception')\n}, /*#__PURE__*/React.createElement(IconDelete16, null))))))));\n\nLockExceptionsTable.propTypes = {\n  atBatchDeletionPage: PropTypes.bool.isRequired,\n  columns: PropTypes.array.isRequired,\n  rows: PropTypes.array.isRequired,\n  onRemoveLockException: PropTypes.func.isRequired\n};\nexport default LockExceptionsTable;","import { useAlert, useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Modal, ModalTitle, ModalContent, ModalActions, ButtonStrip, Button, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst mutation = {\n  resource: 'lockExceptions',\n  type: 'delete',\n  params: params => params\n};\n\nconst RemoveLockExceptionModal = ({\n  lockException,\n  onRemove,\n  onClose\n}) => {\n  const successAlert = useAlert(i18n.t('Lock exception removed'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => i18n.t('Error removing lock exception: {{error}}', {\n    error,\n    nsSeparator: '-:-'\n  }), {\n    critical: true\n  });\n  const [removeLockException, {\n    loading\n  }] = useDataMutation(mutation, {\n    onComplete: () => {\n      successAlert.show();\n      onRemove();\n      onClose();\n    },\n    onError: error => errorAlert.show({\n      error\n    })\n  });\n\n  const handleRemoveLockException = () => {\n    const params = {\n      pe: lockException.periodId,\n      ds: lockException.dataSetId\n    };\n\n    if (lockException.organisationUnitId) {\n      params.ou = lockException.organisationUnitId;\n    }\n\n    removeLockException(params);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: onClose\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Remove lock exception')), /*#__PURE__*/React.createElement(ModalContent, null, i18n.t('Are you sure you want to remove this lock exception?')), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    disabled: loading,\n    onClick: onClose\n  }, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    disabled: loading,\n    onClick: handleRemoveLockException\n  }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Removing lock exception...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Yes, remove lock exception')))));\n};\n\nRemoveLockExceptionModal.propTypes = {\n  lockException: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired\n};\nexport default RemoveLockExceptionModal;","export const parseLockExceptions = lockExceptionResponse => lockExceptionResponse.map(({\n  dataSet,\n  period,\n  organisationUnit\n}) => {\n  const row = {\n    period: period.displayName,\n    periodId: period.id,\n    dataSet: dataSet.displayName,\n    dataSetId: dataSet.id\n  };\n\n  if (organisationUnit) {\n    row.organisationUnit = organisationUnit.displayName;\n    row.organisationUnitId = organisationUnit.id;\n  }\n\n  return row;\n});","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CenteredContent, CircularLoader, NoticeBox } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport LockExceptionsSubpageHeader from '../../components/LockExceptionsSubpageHeader/LockExceptionsSubpageHeader';\nimport LockExceptionsTable from '../../components/LockExceptionsTable/LockExceptionsTable';\nimport RemoveLockExceptionModal from '../../components/RemoveLockExceptionModal/RemoveLockExceptionModal';\nimport { parseLockExceptions } from '../../parse-lock-exceptions';\nconst query = {\n  batchedLockExceptions: {\n    resource: 'lockExceptions/combinations',\n    params: {\n      fields: 'name,period[id,displayName],dataSet[id,displayName]'\n    }\n  }\n};\n\nconst BatchDeleteLockExceptions = () => {\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query);\n  const [removeLockExceptionModal, setRemoveLockExceptionModal] = useState({\n    visible: false,\n    lockException: null\n  });\n  const lockExceptions = data && parseLockExceptions(data.batchedLockExceptions.lockExceptions);\n\n  const handleShowRemoveLockExceptionModal = lockException => {\n    setRemoveLockExceptionModal({\n      visible: true,\n      lockException\n    });\n  };\n\n  const handleCloseRemoveLockExceptionModal = () => {\n    setRemoveLockExceptionModal({\n      visible: false,\n      lockException: null\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LockExceptionsSubpageHeader, {\n    title: i18n.t('Batch Deletion')\n  }), error ? /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true\n  }, error.message) : loading ? /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)) : lockExceptions.length > 0 ? /*#__PURE__*/React.createElement(LockExceptionsTable, {\n    columns: ['dataSet', 'period'],\n    rows: lockExceptions,\n    onRemoveLockException: handleShowRemoveLockExceptionModal,\n    atBatchDeletionPage: true\n  }) : /*#__PURE__*/React.createElement(\"em\", null, i18n.t('No lock exceptions to show.')), removeLockExceptionModal.visible && /*#__PURE__*/React.createElement(RemoveLockExceptionModal, {\n    lockException: removeLockExceptionModal.lockException,\n    onRemove: refetch,\n    onClose: handleCloseRemoveLockExceptionModal\n  }));\n};\n\nexport default BatchDeleteLockExceptions;","import i18n from './locales/index.js';\nexport const i18nKeys = {\n  dataIntegrity: {\n    title: i18n.t('Data Integrity'),\n    label: i18n.t('Data Integrity'),\n    description: i18n.t('Run data integrity checks and unveil anomalies and problems in the metadata setup.'),\n    actionText: i18n.t('Check data integrity'),\n    unexpectedError: i18n.t('An unexpected error happened during data integrity checks')\n  },\n  maintenance: {\n    title: i18n.t('Maintenance'),\n    label: i18n.t('Maintenance'),\n    description: i18n.t('Perform maintenance tasks and generate resource database tables for the organisation unit hierarchy and group set structure.'),\n    actionText: i18n.t('Perform maintenance'),\n    checkboxes: {\n      analyticsTableClear: i18n.t('Clear analytics tables'),\n      analyticsTableAnalyze: i18n.t('Analyze analytics tables'),\n      zeroDataValueRemoval: i18n.t('Remove zero data values'),\n      softDeletedDataValueRemoval: i18n.t('Permanently remove soft deleted data values'),\n      softDeletedEventRemoval: i18n.t('Permanently remove soft deleted events'),\n      softDeletedEnrollmentRemoval: i18n.t('Permanently remove soft deleted enrollments'),\n      softDeletedTrackedEntityInstanceRemoval: i18n.t('Permanently remove soft deleted tracked entity instances'),\n      periodPruning: i18n.t('Prune periods'),\n      expiredInvitationsClear: i18n.t('Remove expired invitations'),\n      sqlViewsDrop: i18n.t('Drop SQL views'),\n      sqlViewsCreate: i18n.t('Create SQL views'),\n      categoryOptionComboUpdate: i18n.t('Update category option combinations'),\n      ouPathsUpdate: i18n.t('Update organisation unit paths'),\n      cacheClear: i18n.t('Clear application cache'),\n      appReload: i18n.t('Reload apps')\n    }\n  },\n  resourceTables: {\n    title: i18n.t('Resource Tables'),\n    label: i18n.t('Resource Tables'),\n    description: i18n.t('Generate resource database tables for the organisation unit hierarchy and group set structure among others.'),\n    actionText: i18n.t('Generate Resource Tables'),\n    unexpectedError: i18n.t('An unexpected error happened during operation'),\n    tables: {\n      organisationUnitStructure: i18n.t('Organisation unit structure'),\n      organistionUnitCategoryOptionCombo: i18n.t('Organisation unit category option combo'),\n      categoryOptionGroupSetStructure: i18n.t('Category option group set structure'),\n      dataElementGroupSetStructure: i18n.t('Data element group set structure'),\n      indicatorGroupSetStructure: i18n.t('Indicator group set structure'),\n      organisationUnitGroupSetStructure: i18n.t('Organisation unit group set structure'),\n      categoryStructure: i18n.t('Category structure'),\n      dataElementCategoryOptionComboName: i18n.t('Data element category option combo name'),\n      dataElementStructure: i18n.t('Data element structure'),\n      periodStructure: i18n.t('Period structure'),\n      dataPeriodStructure: i18n.t('Date period structure'),\n      dataElementCategoryOptionCombinations: i18n.t('Data element category option combinations')\n    }\n  },\n  analytics: {\n    title: i18n.t('Analytics tables management'),\n    label: i18n.t('Analytics Tables'),\n    description: i18n.t('The data mart is a set of tables in the DHIS database which is used by all reporting and analysis tools to retrieve data from.'),\n    actionText: i18n.t('Analytics tables update'),\n    unexpectedError: i18n.t('An unexpected error happened during maintenance'),\n    checkboxes: {\n      skipAggregate: i18n.t('Skip generation of aggregate data and completeness data'),\n      skipResourceTables: i18n.t('Skip generation of resource tables'),\n      skipEvents: i18n.t('Skip generation of event data'),\n      skipEnrollment: i18n.t('Skip generation of enrollment data')\n    }\n  },\n  dataStatistics: {\n    title: i18n.t('Data Statistics'),\n    label: i18n.t('Data Statistics'),\n    description: i18n.t('Browse the number of objects in the database, like data elements, indicators, data sets and data values.'),\n    actionText: i18n.t('Overview Data Statistics')\n  },\n  lockExceptions: {\n    title: i18n.t('Lock Exception Management'),\n    label: i18n.t('Lock Exception'),\n    description: i18n.t('Add or remove exceptions to the the standard rules for locking of data entry forms.'),\n    actionText: i18n.t('Lock Exception Management')\n  },\n  minMaxValueGeneration: {\n    title: i18n.t('Min-Max Value Generation'),\n    label: i18n.t('Min-Max Value Generation'),\n    description: i18n.t('Generate min-max values which can be used for data validation during data entry and validation processes.'),\n    actionText: i18n.t('Generate Min-Max Values')\n  }\n};\nexport default i18nKeys;","/* Notification Table Styles */\nexport const INFO_LEVEL = 'INFO';\nexport const ERROR_LEVEL = 'ERROR';\nexport const SUCCESS_LEVEL = 'SUCCESS';\nexport const SUCCESS_COLOR = '#8ac542';\nexport const INFO_COLOR = '#000000';\nexport const ERROR_COLOR = '#ff0000';\nexport const ERROR_NOTIFICATION_ICON = 'error';\nexport const SUCCESS_NOTIFICATION_ICON = 'check';\nconst FONT_SIZE = 14;\nexport const notificationsTableStyles = {\n  iconStyle: {\n    fontSize: FONT_SIZE\n  },\n  rowStyle: {\n    fontSize: FONT_SIZE,\n    height: 48\n  },\n  evenRowStyle: {\n    backgroundColor: '#fafafa'\n  },\n  timeColumnStyle: {\n    width: '20%'\n  },\n  messageColumnStyle: {\n    width: '80%'\n  },\n  successStyle: {\n    color: SUCCESS_COLOR,\n    iconColor: SUCCESS_COLOR,\n    fontWeight: 'bold'\n  },\n  errorStyle: {\n    color: ERROR_COLOR,\n    iconColor: ERROR_COLOR,\n    fontWeight: 'bold'\n  },\n  infoStyle: {\n    color: INFO_COLOR,\n    iconColor: SUCCESS_COLOR\n  }\n};\nconst notificationStyles = {};\nnotificationStyles[SUCCESS_LEVEL] = {\n  color: SUCCESS_COLOR,\n  icon: SUCCESS_NOTIFICATION_ICON,\n  row: Object.assign({}, notificationsTableStyles.rowStyle, notificationsTableStyles.successStyle)\n};\nnotificationStyles[ERROR_LEVEL] = {\n  color: ERROR_COLOR,\n  icon: ERROR_NOTIFICATION_ICON,\n  row: Object.assign({}, notificationsTableStyles.rowStyle, notificationsTableStyles.errorStyle)\n};\nnotificationStyles[INFO_LEVEL] = {\n  color: INFO_COLOR,\n  icon: SUCCESS_NOTIFICATION_ICON,\n  iconColor: SUCCESS_COLOR,\n  row: Object.assign({}, notificationsTableStyles.rowStyle, notificationsTableStyles.infoStyle)\n};\nexport const notificationStylesInfo = notificationStyles;\n/* helper methods */\n\n/* FIXME think of using an third party library for that, converting for a standard time format defined by design team */\n\nexport const formatDateFromServer = dateFromServer => {\n  if (dateFromServer) {\n    return `${dateFromServer.slice(0, 10)} ${dateFromServer.slice(11, 19)}`;\n  }\n\n  return '';\n};","import { Table, TableBody, TableRow, TableRowColumn, FontIcon } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { notificationsTableStyles, notificationStylesInfo, formatDateFromServer } from './notifications-table.conf';\nimport styles from './NotificationsTable.module.css';\n\nconst NotificationsTable = ({\n  notifications,\n  animateIncomplete\n}) => {\n  // We use `some` here instead of e.g. `last(notifications).completed` as the\n  // order of the responses returned by the task APIs has been reversed in the past\n  // and this may reoccur in the future.\n  const done = notifications.some(n => n.completed);\n\n  const renderNotificationIcon = notification => {\n    const notificationIconInfo = notificationStylesInfo[notification.level];\n\n    if (notificationIconInfo && notificationIconInfo.icon && notification.completed) {\n      return /*#__PURE__*/React.createElement(FontIcon, {\n        className: \"material-icons\",\n        style: notificationsTableStyles.iconStyle,\n        color: notificationIconInfo.iconColor\n      }, notificationIconInfo.icon);\n    } else if (animateIncomplete && !notification.completed && !done) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.notificationIconBusy\n      }, \"...\");\n    }\n\n    return null;\n  };\n\n  const renderNotificationRow = (notification, index) => /*#__PURE__*/React.createElement(TableRow, {\n    key: index,\n    displayBorder: false,\n    style: Object.assign({}, notificationStylesInfo[notification.level].row, (index + 1) % 2 === 0 ? notificationsTableStyles.evenRowStyle : {})\n  }, /*#__PURE__*/React.createElement(TableRowColumn, {\n    style: notificationsTableStyles.timeColumnStyle\n  }, formatDateFromServer(notification.time)), /*#__PURE__*/React.createElement(TableRowColumn, {\n    style: notificationsTableStyles.messageColumnStyle\n  }, notification.message, \" \", renderNotificationIcon(notification)));\n\n  if (notifications && notifications.length > 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": \"notifications-table\",\n      className: styles.container\n    }, /*#__PURE__*/React.createElement(Table, {\n      selectable: false\n    }, /*#__PURE__*/React.createElement(TableBody, {\n      displayRowCheckbox: false\n    }, notifications.map(renderNotificationRow))));\n  }\n\n  return null;\n};\n\nNotificationsTable.propTypes = {\n  notifications: PropTypes.arrayOf(PropTypes.shape({\n    completed: PropTypes.bool,\n    level: PropTypes.string,\n    message: PropTypes.string,\n    time: PropTypes.string,\n    uid: PropTypes.string\n  })).isRequired,\n  animateIncomplete: PropTypes.bool\n};\nexport default NotificationsTable;","import { useConfig } from '@dhis2/app-runtime';\nimport { colors, Tooltip, IconQuestion24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales';\nimport { getDocsKeyForSection } from '../../pages/sections.conf';\nimport styles from './DocsLink.module.css';\n\nconst getDocsVersion = ({\n  major,\n  minor,\n  tag\n}) => {\n  if (tag === 'SNAPSHOT') {\n    return 'master';\n  }\n\n  return `${major}${minor}`;\n};\n\nconst DocsLink = ({\n  sectionKey\n}) => {\n  const {\n    serverVersion\n  } = useConfig();\n  const docsVersion = getDocsVersion(serverVersion);\n  const docsKey = getDocsKeyForSection(sectionKey);\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    content: i18n.t('Open user guide'),\n    placement: \"bottom\",\n    openDelay: 0,\n    closeDelay: 0\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: styles.link,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: `https://docs.dhis2.org/en/use/user-guides/dhis-core-version-${docsVersion}/maintaining-the-system/data-administration.html#${docsKey}`\n  }, /*#__PURE__*/React.createElement(IconQuestion24, {\n    color: colors.blue700\n  })));\n};\n\nDocsLink.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default DocsLink;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport DocsLink from '../DocsLink/DocsLink';\nimport styles from './PageHeader.module.css';\n\nconst PageHeader = ({\n  title,\n  sectionKey\n}) => /*#__PURE__*/React.createElement(\"header\", {\n  className: styles.header\n}, /*#__PURE__*/React.createElement(\"h1\", {\n  className: styles.headerTitle\n}, title), /*#__PURE__*/React.createElement(DocsLink, {\n  sectionKey: sectionKey\n}));\n\nPageHeader.propTypes = {\n  sectionKey: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired\n};\nexport default PageHeader;","export const getUpdatedNotifications = taskNotifications => {\n  const lastIndex = taskNotifications.length - 1; // Reverse to sort oldest-newest\n  // Assumption: all tasks are completed, apart from the last one,\n  // which is the in-progress task.\n  // Exception is when the most recent task comes back as completed\n  // this indicates the entire process is done, so we respect that completed status.\n\n  return [...taskNotifications].reverse().map((x, i) => ({ ...x,\n    completed: x.completed || i < lastIndex\n  }));\n};","import i18n from '@dhis2/d2-i18n';\nimport { i18nKeys } from '../../i18n-keys';\nexport const DEFAULT_LAST_YEARS = '-1';\nexport const LAST_YEARS_INPUT_KEY = 'lastYears';\nconst LAST_YEAR = 10;\nconst FIRST_YEAR = 1;\nconst lastYearValues = [{\n  key: DEFAULT_LAST_YEARS,\n  value: DEFAULT_LAST_YEARS,\n  displayName: i18n.t('All')\n}];\n/* Last years dropdown options */\n\nfor (let i = FIRST_YEAR; i <= LAST_YEAR; i++) {\n  lastYearValues.push({\n    key: String(i),\n    value: String(i),\n    displayName: String(i)\n  });\n}\n\nexport const lastYearElements = lastYearValues;\n/* Form checkboxes */\n\nexport const analyticsCheckboxes = ['skipAggregate', 'skipResourceTables', 'skipEvents', 'skipEnrollment'].map(key => ({\n  key,\n  label: i18nKeys.analytics.checkboxes[key]\n}));","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useRef, useEffect } from 'react';\n\nconst useConst = factory => {\n  const ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = factory();\n  }\n\n  return ref.current;\n};\n\nconst useLazyInterval = (fn, interval) => {\n  const intervalId = useRef(null);\n\n  const cancel = () => {\n    if (intervalId.current) {\n      clearInterval(intervalId.current);\n    }\n  };\n\n  const start = (...args) => {\n    cancel();\n    intervalId.current = setInterval(() => fn(...args), interval);\n  };\n\n  useEffect(() => {\n    return cancel;\n  }, []);\n  return {\n    start,\n    cancel\n  };\n};\n\nexport const usePoll = ({\n  query,\n  interval,\n  checkDone\n}) => {\n  const wrappedQuery = useConst(() => ({\n    poll: query\n  }));\n  const {\n    refetch,\n    error,\n    data\n  } = useDataQuery(wrappedQuery, {\n    lazy: true,\n    onComplete: data => {\n      if (checkDone(data.poll)) {\n        cancel();\n      }\n    }\n  });\n  const {\n    start,\n    cancel\n  } = useLazyInterval(refetch, interval);\n  useEffect(() => {\n    if (error) {\n      cancel();\n    }\n  }, [error]);\n  return {\n    start,\n    cancel,\n    error,\n    data: data === null || data === void 0 ? void 0 : data.poll\n  };\n};","import { usePoll } from '../../hooks/use-poll';\nconst pollQuery = {\n  resource: 'system/tasks/ANALYTICS_TABLE',\n  id: ({\n    jobId\n  }) => jobId\n};\nexport const useAnalyticsPoll = () => usePoll({\n  query: pollQuery,\n  interval: 3000,\n  checkDone: data => data.some(t => t.completed)\n});","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Card, Checkbox, SingleSelectField, SingleSelectOption, NoticeBox, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport NotificationsTable from '../../components/NotificationsTable/NotificationsTable';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { getUpdatedNotifications } from '../../get-updated-notifications';\nimport { i18nKeys } from '../../i18n-keys';\nimport { DEFAULT_LAST_YEARS, LAST_YEARS_INPUT_KEY, lastYearElements } from './analytics.conf';\nimport styles from './Analytics.module.css';\nimport { useAnalyticsPoll } from './use-analytics-poll';\nimport { useCheckboxes } from './use-checkboxes';\nconst startAnalyticsTablesGenerationMutation = {\n  resource: 'resourceTables/analytics',\n  type: 'create',\n  params: params => params\n};\n\nconst Analytics = ({\n  sectionKey\n}) => {\n  const {\n    checkboxes,\n    toggleCheckbox\n  } = useCheckboxes();\n  const [lastYears, setLastYears] = useState(DEFAULT_LAST_YEARS);\n  const [startAnalyticsTablesGeneration, {\n    loading,\n    error,\n    data\n  }] = useDataMutation(startAnalyticsTablesGenerationMutation, {\n    onComplete: data => {\n      const {\n        id: jobId\n      } = data.response;\n      poll.start({\n        jobId\n      });\n    }\n  });\n  const poll = useAnalyticsPoll();\n  const notifications = poll.data ? getUpdatedNotifications(poll.data) : [];\n  const isPolling = data && (!poll.data || !notifications.some(n => n.completed));\n\n  const handleStartAnalyticsTablesGeneration = () => {\n    const params = {};\n\n    for (const [key, checked] of Object.entries(checkboxes)) {\n      if (checked) {\n        params[key] = true;\n      }\n    }\n\n    if (lastYears !== DEFAULT_LAST_YEARS) {\n      params[LAST_YEARS_INPUT_KEY] = lastYears;\n    }\n\n    startAnalyticsTablesGeneration(params);\n  };\n\n  const handleLastYearsChange = ({\n    selected\n  }) => {\n    setLastYears(selected);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: i18nKeys.analytics.title,\n    sectionKey: sectionKey\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, (error || poll.error) && /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.noticeBox,\n    error: true\n  }, (error === null || error === void 0 ? void 0 : error.message) || poll.error.message), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.form\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.checkboxes\n  }, Object.entries(checkboxes).map(([key, {\n    label,\n    checked\n  }]) => /*#__PURE__*/React.createElement(Checkbox, {\n    key: key,\n    className: styles.checkbox,\n    label: label,\n    checked: checked,\n    onChange: () => {\n      toggleCheckbox(key);\n    },\n    disabled: loading || isPolling\n  }))), /*#__PURE__*/React.createElement(SingleSelectField, {\n    className: styles.lastYearsSelect,\n    label: i18n.t('Number of last years of data to include'),\n    selected: lastYears,\n    onChange: handleLastYearsChange,\n    disabled: loading || isPolling\n  }, lastYearElements.map(item => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: item.key,\n    label: item.displayName,\n    value: item.value\n  })))), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleStartAnalyticsTablesGeneration,\n    disabled: loading || isPolling\n  }, loading || isPolling ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Exporting...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Start export')), notifications.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.notificationsTable\n  }, /*#__PURE__*/React.createElement(NotificationsTable, {\n    notifications: notifications,\n    animateIncomplete: true\n  }))));\n};\n\nAnalytics.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default Analytics;","import { useState } from 'react';\nimport { analyticsCheckboxes } from './analytics.conf';\nexport const useCheckboxes = () => {\n  const [checkboxes, setCheckboxes] = useState(() => {\n    const checkboxes = {};\n    analyticsCheckboxes.forEach(checkbox => {\n      checkboxes[checkbox.key] = {\n        checked: false,\n        label: checkbox.label\n      };\n    });\n    return checkboxes;\n  });\n\n  const toggleCheckbox = key => {\n    setCheckboxes({ ...checkboxes,\n      [key]: { ...checkboxes[key],\n        checked: !checkboxes[key].checked\n      }\n    });\n  };\n\n  return {\n    checkboxes,\n    toggleCheckbox\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport { colors } from '@dhis2/ui';\nimport { FontIcon } from 'material-ui';\nimport { Card, CardText, CardHeader } from 'material-ui/Card';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './IssueCard.module.css';\n\nconst Content = ({\n  content\n}) => {\n  const renderValue = value => Array.isArray(value) ? value.join(', ') : value;\n\n  if (Array.isArray(content)) {\n    return content.map(element => /*#__PURE__*/React.createElement(\"p\", {\n      key: element\n    }, renderValue(element)));\n  } else {\n    return Object.entries(content).map(([element, value]) => /*#__PURE__*/React.createElement(\"div\", {\n      key: element\n    }, /*#__PURE__*/React.createElement(\"h4\", null, element), /*#__PURE__*/React.createElement(\"p\", null, renderValue(value))));\n  }\n};\n\nconst jsStyles = {\n  titleStyle: {\n    fontSize: 16,\n    fontWeight: 'normal'\n  }\n};\nconst errorStyles = {\n  titleColor: colors.red600,\n  openIcon: 'keyboard_arrow_up',\n  closeIcon: 'keyboard_arrow_down',\n  iconStyle: {}\n};\nconst noErrorStyles = {\n  titleColor: colors.green600,\n  openIcon: 'done',\n  closeIcon: 'done',\n  iconStyle: {\n    color: colors.green600,\n    cursor: 'auto'\n  }\n};\n\nconst countElements = content => {\n  const sum = arr => arr.reduce((acc, element) => {\n    return acc + countElements(element);\n  }, 0);\n\n  if (Array.isArray(content)) {\n    return sum(content);\n  } else if (typeof content === 'object') {\n    return sum(Object.values(content));\n  } else {\n    return 1;\n  }\n};\n\nconst IssueCard = ({\n  title,\n  content\n}) => {\n  const elementsCount = countElements(content);\n  const expandable = elementsCount > 0;\n  const {\n    titleColor,\n    openIcon,\n    closeIcon,\n    iconStyle\n  } = elementsCount > 0 ? errorStyles : noErrorStyles;\n  const openFontIcon = /*#__PURE__*/React.createElement(FontIcon, {\n    className: \"material-icons\"\n  }, openIcon);\n  const closeFontIcon = /*#__PURE__*/React.createElement(FontIcon, {\n    className: \"material-icons\"\n  }, closeIcon);\n  return /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": \"issue-card-title\"\n    }, elementsCount > 0 ? i18n.t('{{issueTitle}} ({{issueElementsCount}})', {\n      issueTitle: title,\n      issueElementsCount: elementsCount\n    }) : title),\n    titleColor: titleColor,\n    titleStyle: jsStyles.titleStyle,\n    actAsExpander: expandable,\n    showExpandableButton: true,\n    closeIcon: closeFontIcon,\n    openIcon: openFontIcon,\n    iconStyle: iconStyle\n  }), elementsCount > 0 && /*#__PURE__*/React.createElement(CardText, {\n    className: styles.cardText,\n    expandable: expandable\n  }, /*#__PURE__*/React.createElement(Content, {\n    content: content\n  })));\n};\n\nIssueCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  content: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n};\nIssueCard.defaultProps = {\n  content: []\n};\nexport default IssueCard;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport IssueCard from './IssueCard';\nimport styles from './Issues.module.css';\nconst controls = {\n  dataElementsWithoutDataSet: i18n.t('Data elements without data set'),\n  dataElementsWithoutGroups: i18n.t('Data elements without groups'),\n  dataElementsViolatingExclusiveGroupSets: i18n.t('Data elements violating exclusive group sets'),\n  dataElementsAssignedToDataSetsWithDifferentPeriodTypes: i18n.t('Data elements assigned to data sets with different period types'),\n  dataSetsNotAssignedToOrganisationUnits: i18n.t('Data sets not assigned to organisation units'),\n  indicatorsWithIdenticalFormulas: i18n.t('Indicators with identical formulas'),\n  indicatorsWithoutGroups: i18n.t('Indicators without groups'),\n  invalidIndicatorNumerators: i18n.t('Invalid indicator numerators'),\n  invalidIndicatorDenominators: i18n.t('Invalid indicator denominators'),\n  indicatorsViolatingExclusiveGroupSets: i18n.t('Indicators violating exclusive group sets'),\n  organisationUnitsWithCyclicReferences: i18n.t('Organisation units with cyclic references'),\n  orphanedOrganisationUnits: i18n.t('Orphaned organisation units'),\n  organisationUnitsWithoutGroups: i18n.t('Organisation units without groups'),\n  organisationUnitsViolatingExclusiveGroupSets: i18n.t('Organisation units violating exclusive group sets'),\n  organisationUnitGroupsWithoutGroupSets: i18n.t('Organisation unit groups without group sets'),\n  validationRulesWithoutGroups: i18n.t('Validation rules without groups'),\n  invalidValidationRuleLeftSideExpressions: i18n.t('Invalid validation rule left side expressions'),\n  invalidValidationRuleRightSideExpressions: i18n.t('Invalid validation rule right side expressions'),\n  invalidProgramIndicatorExpressions: i18n.t('Invalid program indicator expressions'),\n  invalidProgramIndicatorFilters: i18n.t('Invalid program indicator filters'),\n  dataElementsInDataSetNotInForm: i18n.t('There are data elements in the form, but not in the form or sections'),\n  invalidCategoryCombos: i18n.t('Invalid category combinations'),\n  duplicatePeriods: i18n.t('Duplicate periods'),\n  programRulesWithNoCondition: i18n.t('Program rules with no condition'),\n  programRulesWithNoAction: i18n.t('Program rules with no action'),\n  programRulesWithNoPriority: i18n.t('Program rules with no priority'),\n  programRuleVariablesWithNoDataElement: i18n.t('Program rule variables with no data element'),\n  programRuleVariablesWithNoAttribute: i18n.t('Program rule variables with no attribute'),\n  programRuleActionsWithNoDataObject: i18n.t('Program rule actions with no data object'),\n  programRuleActionsWithNoNotification: i18n.t('Program rule actions with no notification'),\n  programRuleActionsWithNoSectionId: i18n.t('Program rule actions with no section id'),\n  programRuleActionsWithNoStageId: i18n.t('Program rule actions with no stage id'),\n  programIndicatorsWithNoExpression: i18n.t('Program indicators with no expression')\n};\n\nconst Issues = ({\n  issues\n}) => {\n  const errorElementskeys = Object.keys(issues);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.issues\n  }, errorElementskeys.map(element => {\n    const label = controls[element];\n\n    if (!label) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(IssueCard, {\n      key: element,\n      title: label,\n      content: issues[element]\n    });\n  }), Object.keys(controls).filter(element => !errorElementskeys.includes(element)).map(element => /*#__PURE__*/React.createElement(IssueCard, {\n    key: element,\n    title: controls[element]\n  })));\n};\n\nIssues.propTypes = {\n  issues: PropTypes.object.isRequired\n};\nexport default Issues;","import { usePoll } from '../../hooks/use-poll';\nconst pollQuery = {\n  resource: 'system/taskSummaries/DATA_INTEGRITY',\n  id: ({\n    jobId\n  }) => jobId\n};\nexport const useDataIntegrityPoll = () => usePoll({\n  query: pollQuery,\n  interval: 3000,\n  checkDone: data => data\n});","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, CircularLoader, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { i18nKeys } from '../../i18n-keys';\nimport Issues from './Issues/Issues';\nimport { useDataIntegrityPoll } from './use-data-integrity-poll';\nconst startDataIntegrityCheckMutation = {\n  resource: 'dataIntegrity',\n  type: 'create'\n};\n\nconst DataIntegrity = ({\n  sectionKey\n}) => {\n  var _poll$error;\n\n  const poll = useDataIntegrityPoll();\n  const [handleStartDataIntegrityCheck, {\n    loading,\n    error,\n    data\n  }] = useDataMutation(startDataIntegrityCheckMutation, {\n    onComplete: data => {\n      const {\n        id: jobId\n      } = data.response;\n      poll.start({\n        jobId\n      });\n    }\n  });\n  const isPolling = data && !poll.data;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.dataIntegrity.title\n  }), (error || poll.error) && /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true\n  }, (error === null || error === void 0 ? void 0 : error.message) || ((_poll$error = poll.error) === null || _poll$error === void 0 ? void 0 : _poll$error.message)), poll.data && /*#__PURE__*/React.createElement(Issues, {\n    issues: poll.data\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: loading || isPolling,\n    onClick: handleStartDataIntegrityCheck\n  }, loading || isPolling ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Checking data integrity...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Run integrity checks')));\n};\n\nDataIntegrity.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default DataIntegrity;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst FormattedNumber = props => /*#__PURE__*/React.createElement(\"span\", null, new Intl.NumberFormat(i18n.language).format(props.value));\n\nFormattedNumber.propTypes = {\n  value: PropTypes.number.isRequired\n};\nexport default FormattedNumber;","import { Table, TableBody, TableCell, TableCellHead, TableHead, TableRow, TableRowHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FormattedNumber from '../../components/FormattedNumber/FormattedNumber';\n\nconst DataStatisticsTable = ({\n  elements,\n  label\n}) => /*#__PURE__*/React.createElement(Table, {\n  suppressZebraStriping: true\n}, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, label), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, elements.map(element => /*#__PURE__*/React.createElement(TableRow, {\n  key: element.label\n}, /*#__PURE__*/React.createElement(TableCell, null, element.label), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(FormattedNumber, {\n  value: element.count\n}))))));\n\nDataStatisticsTable.propTypes = {\n  elements: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired\n};\nexport default DataStatisticsTable;","export const OBJECT_COUNTS_KEY = 'objectCounts';\nexport const ACTIVE_USERS_KEY = 'activeUsers';\nexport const USER_INVITATIONS_KEY = 'userInvitations';\nexport const DATA_VALUE_COUNT_KEY = 'dataValueCount';\nexport const EVENT_COUNT_KEY = 'eventCount';\nexport const PENDING_INVITATION_ALL_KEY = 'all';\nexport const EXPIRED_INVITATION_KEY = 'expired';","import i18n from '@dhis2/d2-i18n';\nimport { OBJECT_COUNTS_KEY, ACTIVE_USERS_KEY, USER_INVITATIONS_KEY, DATA_VALUE_COUNT_KEY, EVENT_COUNT_KEY, PENDING_INVITATION_ALL_KEY, EXPIRED_INVITATION_KEY } from './table-keys';\nconst objectLabels = {\n  indicator: i18n.t('Indicators'),\n  period: i18n.t('Periods'),\n  visualization: i18n.t('Visualization'),\n  programStageInstance: i18n.t('Events'),\n  organisationUnit: i18n.t('Organisation units'),\n  validationRule: i18n.t('Validation rules'),\n  dataValue: i18n.t('Data values'),\n  program: i18n.t('Programs'),\n  dataElement: i18n.t('Data elements'),\n  organisationUnitGroup: i18n.t('Organisation unit groups'),\n  trackedEntityInstance: i18n.t('Tracked entity instances'),\n  reportTable: i18n.t('Pivot tables'),\n  programInstance: i18n.t('Program instances'),\n  indicatorType: i18n.t('Indicator types'),\n  dataSet: i18n.t('Data sets'),\n  userGroup: i18n.t('User groups'),\n  user: i18n.t('Users'),\n  map: i18n.t('Maps'),\n  indicatorGroup: i18n.t('Indicator groups'),\n  chart: i18n.t('Charts'),\n  dataElementGroup: i18n.t('Data element groups'),\n  dashboard: i18n.t('Dashboards')\n};\n\nconst translatedTimeLabelFromIntProperty = key => {\n  const intProperty = parseInt(key, 10);\n\n  if (intProperty === 1) {\n    return i18n.t('Today');\n  } else if (intProperty > 0) {\n    return i18n.t('Last {{days}} days', {\n      days: intProperty\n    });\n  } else {\n    return i18n.t('Last hour');\n  }\n};\n\nconst objectCountsTableFromResponse = objectCountsResponse => {\n  if (!objectCountsResponse) {\n    return null;\n  }\n\n  return {\n    label: i18n.t('Object type'),\n    elements: Object.entries(objectCountsResponse).map(([key, count]) => ({\n      label: objectLabels[key] || key,\n      count\n    }))\n  };\n};\n\nconst activeUsersTableFromResponse = activeUsersResponse => {\n  if (!activeUsersResponse) {\n    return null;\n  }\n\n  return {\n    label: i18n.t('Users logged in'),\n    elements: Object.entries(activeUsersResponse).map(([key, count]) => ({\n      label: translatedTimeLabelFromIntProperty(key),\n      count\n    }))\n  };\n};\n\nconst userInvitationsTableFromResponse = userInvitationsResponse => {\n  if (!userInvitationsResponse) {\n    return null;\n  }\n\n  const userInvitationsTable = {\n    label: i18n.t('User account invitations'),\n    elements: []\n  };\n\n  if (Object.hasOwnProperty.call(userInvitationsResponse, PENDING_INVITATION_ALL_KEY)) {\n    userInvitationsTable.elements.push({\n      label: i18n.t('Pending invitations'),\n      count: userInvitationsResponse[PENDING_INVITATION_ALL_KEY]\n    });\n  }\n\n  if (Object.hasOwnProperty.call(userInvitationsResponse, EXPIRED_INVITATION_KEY)) {\n    userInvitationsTable.elements.push({\n      label: i18n.t('Expired invitations'),\n      count: userInvitationsResponse[EXPIRED_INVITATION_KEY]\n    });\n  }\n\n  return userInvitationsTable;\n};\n\nconst dataValueCountsTableFromResponse = dataValueCountsResponse => {\n  if (!dataValueCountsResponse) {\n    return null;\n  }\n\n  return {\n    label: i18n.t('Data values'),\n    elements: Object.entries(dataValueCountsResponse).map(([key, count]) => ({\n      label: translatedTimeLabelFromIntProperty(key),\n      count\n    }))\n  };\n};\n\nconst eventCountsTableFromResponse = eventCountsResponse => {\n  if (!eventCountsResponse) {\n    return null;\n  }\n\n  return {\n    label: i18n.t('Events'),\n    elements: Object.entries(eventCountsResponse).map(([key, count]) => ({\n      label: translatedTimeLabelFromIntProperty(key),\n      count\n    }))\n  };\n};\n\nexport const parseTables = response => ({\n  [OBJECT_COUNTS_KEY]: objectCountsTableFromResponse(response[OBJECT_COUNTS_KEY]),\n  [ACTIVE_USERS_KEY]: activeUsersTableFromResponse(response[ACTIVE_USERS_KEY]),\n  [USER_INVITATIONS_KEY]: userInvitationsTableFromResponse(response[USER_INVITATIONS_KEY]),\n  [DATA_VALUE_COUNT_KEY]: dataValueCountsTableFromResponse(response[DATA_VALUE_COUNT_KEY]),\n  [EVENT_COUNT_KEY]: eventCountsTableFromResponse(response[EVENT_COUNT_KEY])\n});","import { useDataQuery } from '@dhis2/app-runtime';\nimport { Card, NoticeBox, CircularLoader, CenteredContent } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { i18nKeys } from '../../i18n-keys';\nimport styles from './DataStatistics.module.css';\nimport DataStatisticsTable from './DataStatisticsTable';\nimport { parseTables } from './parse-tables';\nimport { OBJECT_COUNTS_KEY, ACTIVE_USERS_KEY, USER_INVITATIONS_KEY, DATA_VALUE_COUNT_KEY, EVENT_COUNT_KEY } from './table-keys';\n\nconst TableCard = ({\n  label,\n  elements\n}) => /*#__PURE__*/React.createElement(Card, {\n  className: styles.card\n}, /*#__PURE__*/React.createElement(DataStatisticsTable, {\n  label: label,\n  elements: elements\n}));\n\nTableCard.propTypes = {\n  elements: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired\n};\nconst query = {\n  dataSummary: {\n    resource: 'dataSummary'\n  }\n};\n\nconst DataStatistics = ({\n  sectionKey\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true\n    }, error.message));\n  }\n\n  const tables = parseTables(data.dataSummary);\n\n  const renderTable = key => {\n    if (tables[key] === null) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(TableCard, {\n      label: tables[key].label,\n      elements: tables[key].elements\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.dataStatistics.title\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\"\n  }, renderTable(OBJECT_COUNTS_KEY)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\"\n  }, renderTable(USER_INVITATIONS_KEY), renderTable(DATA_VALUE_COUNT_KEY), renderTable(EVENT_COUNT_KEY), renderTable(ACTIVE_USERS_KEY))));\n};\n\nDataStatistics.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default DataStatistics;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CenteredContent, CircularLoader, NoticeBox, Button, Pagination, ButtonStrip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport LockExceptionsTable from '../../components/LockExceptionsTable/LockExceptionsTable';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport RemoveLockExceptionModal from '../../components/RemoveLockExceptionModal/RemoveLockExceptionModal';\nimport { i18nKeys } from '../../i18n-keys';\nimport { parseLockExceptions } from '../../parse-lock-exceptions';\nimport styles from './LockExceptions.module.css';\nconst query = {\n  lockExceptions: {\n    resource: 'lockExceptions',\n    params: params => ({ ...params,\n      fields: ['name', 'period[id,displayName]', 'organisationUnit[id,displayName]', 'dataSet[id,displayName]'],\n      order: 'name:asc'\n    })\n  }\n};\n\nconst LockExceptions = ({\n  sectionKey\n}) => {\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const {\n    loading,\n    called,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  const [removeLockExceptionModal, setRemoveLockExceptionModal] = useState({\n    visible: false,\n    lockException: null\n  });\n  useEffect(() => {\n    refetch({\n      page,\n      pageSize\n    });\n  }, [page, pageSize]);\n  const lockExceptions = data && parseLockExceptions(data.lockExceptions.lockExceptions);\n\n  const renderPagination = () => {\n    const {\n      total,\n      pageCount\n    } = data.lockExceptions.pager;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.pagination\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      total: total,\n      pageCount: pageCount,\n      page: page,\n      pageSize: pageSize,\n      onPageSizeChange: pageSize => {\n        setPage(1);\n        setPageSize(pageSize);\n      },\n      onPageChange: page => setPage(page)\n    }));\n  };\n\n  const handleShowRemoveLockExceptionModal = lockException => {\n    setRemoveLockExceptionModal({\n      visible: true,\n      lockException\n    });\n  };\n\n  const handleCloseRemoveLockExceptionModal = () => {\n    setRemoveLockExceptionModal({\n      visible: false,\n      lockException: null\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.lockExceptions\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.headerContainer\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.lockExceptions.title\n  }), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/lock-exceptions/add\",\n    tabIndex: \"-1\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true\n  }, i18n.t('Add lock exception'))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/lock-exceptions/batch-deletion\",\n    tabIndex: \"-1\"\n  }, /*#__PURE__*/React.createElement(Button, null, i18n.t('Batch deletion'))))), error ? /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true\n  }, error.message) : loading || !called ? /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)) : lockExceptions.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, renderPagination(), /*#__PURE__*/React.createElement(LockExceptionsTable, {\n    columns: ['organisationUnit', 'dataSet', 'period'],\n    rows: lockExceptions,\n    onRemoveLockException: handleShowRemoveLockExceptionModal,\n    atBatchDeletionPage: false\n  }), renderPagination()) : /*#__PURE__*/React.createElement(\"em\", null, i18n.t('No lock exceptions to show.')), removeLockExceptionModal.visible && /*#__PURE__*/React.createElement(RemoveLockExceptionModal, {\n    lockException: removeLockExceptionModal.lockException,\n    onRemove: refetch,\n    onClose: handleCloseRemoveLockExceptionModal\n  }));\n};\n\nLockExceptions.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default LockExceptions;","import { Checkbox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { i18nKeys } from '../../i18n-keys';\nimport styles from './Checkboxes.module.css';\n\nconst Checkboxes = ({\n  checkboxes,\n  toggleCheckbox,\n  disabled\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.checkboxes\n}, Object.entries(checkboxes).map(([key, checked]) => /*#__PURE__*/React.createElement(Checkbox, {\n  key: key,\n  className: styles.checkbox,\n  label: i18nKeys.maintenance.checkboxes[key],\n  checked: checked,\n  onChange: () => toggleCheckbox(key),\n  disabled: disabled\n})));\n\nCheckboxes.propTypes = {\n  checkboxes: PropTypes.object.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  toggleCheckbox: PropTypes.func.isRequired\n};\nexport default Checkboxes;","import { useState } from 'react';\nimport { i18nKeys } from '../../i18n-keys';\nexport const useCheckboxes = () => {\n  const [checkboxes, setCheckboxes] = useState(() => {\n    const checkboxes = {};\n\n    for (const key of Object.keys(i18nKeys.maintenance.checkboxes)) {\n      checkboxes[key] = false;\n    }\n\n    return checkboxes;\n  });\n\n  const toggleCheckbox = key => {\n    setCheckboxes({ ...checkboxes,\n      [key]: !checkboxes[key]\n    });\n  };\n\n  return {\n    checkboxes,\n    toggleCheckbox\n  };\n};","import { useDataMutation, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, Button, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { i18nKeys } from '../../i18n-keys';\nimport Checkboxes from './Checkboxes';\nimport styles from './Maintenance.module.css';\nimport { useCheckboxes } from './use-checkboxes';\nconst mutation = {\n  resource: 'maintenance',\n  type: 'create',\n  params: params => params\n};\n\nconst Maintenance = ({\n  sectionKey\n}) => {\n  const {\n    checkboxes,\n    toggleCheckbox\n  } = useCheckboxes();\n  const successAlert = useAlert(i18n.t('Maintenance done'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => error.message, {\n    critical: true\n  });\n  const [mutate, {\n    loading\n  }] = useDataMutation(mutation, {\n    onComplete: () => successAlert.show(),\n    onError: error => errorAlert.show({\n      error\n    })\n  });\n\n  const handlePerformMaintenance = async () => {\n    const params = {};\n\n    for (const [key, checked] of Object.entries(checkboxes)) {\n      if (checked) {\n        params[key] = true;\n      }\n    }\n\n    mutate(params);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.maintenance.title\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(Checkboxes, {\n    checkboxes: checkboxes,\n    toggleCheckbox: toggleCheckbox,\n    disabled: loading\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: loading || !Object.values(checkboxes).some(checked => checked),\n    onClick: handlePerformMaintenance\n  }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Performing maintenance...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Perform maintenance'))));\n};\n\nMaintenance.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default Maintenance;","import { useAlert, useDataQuery, useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { CenteredContent, CircularLoader, NoticeBox, OrganisationUnitTree, ButtonStrip, Button, Card } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef } from 'react';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { i18nKeys } from '../../i18n-keys';\nimport styles from './MinMaxValueGeneration.module.css';\nconst MIN_MAX_VALUE_ENDPOINT = '/minMaxValues';\n\nconst organisationIdFromPath = path => {\n  const last = array => array[array.length - 1];\n\n  return last(path.split('/'));\n};\n\nconst query = {\n  organisationUnits: {\n    resource: 'organisationUnits',\n    params: {\n      fields: 'id',\n      paging: false,\n      level: 1\n    }\n  },\n  dataSets: {\n    resource: 'dataSets',\n    params: {\n      fields: 'id,displayName',\n      paging: false\n    }\n  }\n};\nconst generateMinMaxValueMutation = {\n  resource: MIN_MAX_VALUE_ENDPOINT,\n  type: 'create',\n  data: data => data\n};\nconst removeMinMaxValueMutation = {\n  resource: MIN_MAX_VALUE_ENDPOINT,\n  type: 'delete',\n  id: ({\n    id\n  }) => id,\n  params: ({\n    ds\n  }) => ({\n    ds\n  })\n};\n\nconst MinMaxValueGeneration = ({\n  sectionKey\n}) => {\n  const successAlert = useAlert(({\n    message\n  }) => message, {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => error.message, {\n    critical: true\n  });\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n  const [generateMinMaxValue] = useDataMutation(generateMinMaxValueMutation, {\n    onComplete: () => {\n      successAlert.show({\n        message: i18n.t('Min-max values generated')\n      });\n    },\n    onError: error => {\n      errorAlert.show({\n        error\n      });\n    }\n  });\n  const [removeMinMaxValue] = useDataMutation(removeMinMaxValueMutation, {\n    onComplete: () => {\n      successAlert.show({\n        message: i18n.t('Min-max values removed')\n      });\n    },\n    onError: error => {\n      errorAlert.show({\n        error\n      });\n    }\n  });\n  const [selectedOrganisationUnit, setSelectedOrganisationUnit] = useState(null);\n  const [selectedDataSets, setSelectedDataSets] = useState([]);\n  const dataSetsSelectRef = useRef(null);\n  const formValid = selectedDataSets.length > 0 && selectedOrganisationUnit !== null;\n\n  const handleDataSetsSelectClick = () => {\n    setSelectedDataSets(Array.from(dataSetsSelectRef.current.selectedOptions).map(({\n      value\n    }) => value));\n  };\n\n  const handleOrganisationUnitChange = ({\n    path,\n    checked\n  }) => {\n    if (checked) {\n      setSelectedOrganisationUnit({\n        path,\n        id: organisationIdFromPath(path)\n      });\n    } else {\n      setSelectedOrganisationUnit(null);\n    }\n  };\n\n  const handleGenerateMinMaxValue = async () => {\n    successAlert.show({\n      message: i18n.t('Generating min-max values...')\n    });\n    generateMinMaxValue({\n      organisationUnit: selectedOrganisationUnit.id,\n      dataSets: selectedDataSets\n    });\n  };\n\n  const handleRemoveMinMaxValue = async () => {\n    successAlert.show({\n      message: i18n.t('Removing min-max values...')\n    });\n    removeMinMaxValue({\n      id: selectedOrganisationUnit.id,\n      ds: selectedDataSets\n    });\n  };\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true\n    }, error.message));\n  }\n\n  const {\n    organisationUnits: {\n      organisationUnits\n    },\n    dataSets: {\n      dataSets\n    }\n  } = data;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n    sectionKey: sectionKey,\n    title: i18nKeys.minMaxValueGeneration.title\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label\n  }, i18n.t('Data set')), /*#__PURE__*/React.createElement(\"select\", {\n    multiple: true,\n    onClick: handleDataSetsSelectClick,\n    className: styles.select,\n    ref: dataSetsSelectRef\n  }, dataSets.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.id,\n    value: item.id,\n    className: styles.options\n  }, item.displayName)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label\n  }, i18n.t('Organisation unit')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tree\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    roots: organisationUnits.map(r => r.id),\n    singleSelection: true,\n    selected: selectedOrganisationUnit ? [selectedOrganisationUnit.path] : [],\n    onChange: handleOrganisationUnitChange\n  })))), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleGenerateMinMaxValue,\n    disabled: !formValid\n  }, i18n.t('Generate min-max values')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: handleRemoveMinMaxValue,\n    disabled: !formValid\n  }, i18n.t('Remove min-max values')))));\n};\n\nMinMaxValueGeneration.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default MinMaxValueGeneration;","import { usePoll } from '../../hooks/use-poll';\nconst pollQuery = {\n  resource: 'system/tasks/RESOURCE_TABLE',\n  id: ({\n    jobId\n  }) => jobId\n};\nexport const useResourceTablesPoll = () => usePoll({\n  query: pollQuery,\n  interval: 3000,\n  checkDone: data => data.some(t => t.completed)\n});","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, Button, NoticeBox, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport NotificationsTable from '../../components/NotificationsTable/NotificationsTable';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { getUpdatedNotifications } from '../../get-updated-notifications';\nimport { i18nKeys } from '../../i18n-keys';\nimport styles from './ResourceTables.module.css';\nimport { useResourceTablesPoll } from './use-resource-tables-poll';\nconst tables = [{\n  key: 'organisationUnitStructure',\n  name: '_orgunitstructure'\n}, {\n  key: 'organistionUnitCategoryOptionCombo',\n  name: '_orgunitstructure'\n}, {\n  key: 'categoryOptionGroupSetStructure',\n  name: '_categoryoptiongroupsetstructure'\n}, {\n  key: 'dataElementGroupSetStructure',\n  name: '_dataelementgroupsetstructure'\n}, {\n  key: 'indicatorGroupSetStructure',\n  name: '_indicatorgroupsetstructure'\n}, {\n  key: 'organisationUnitGroupSetStructure',\n  name: '_organisationunitgroupsetstructure'\n}, {\n  key: 'categoryStructure',\n  name: '_categorystructure'\n}, {\n  key: 'dataElementCategoryOptionComboName',\n  name: '_categoryoptioncomboname'\n}, {\n  key: 'dataElementStructure',\n  name: '_dataelementstructure'\n}, {\n  key: 'periodStructure',\n  name: '_periodstructure'\n}, {\n  key: 'dataPeriodStructure',\n  name: '_dateperiodstructure'\n}, {\n  key: 'dataElementCategoryOptionCombinations',\n  name: '_dataelementcategoryoptioncombo'\n}];\nconst startResourceTablesGenerationMutation = {\n  resource: 'resourceTables',\n  type: 'create'\n};\n\nconst ResourceTable = ({\n  sectionKey\n}) => {\n  const poll = useResourceTablesPoll();\n  const [handleStartResourceTablesGeneration, {\n    loading,\n    error,\n    data\n  }] = useDataMutation(startResourceTablesGenerationMutation, {\n    onComplete: data => {\n      const {\n        id: jobId\n      } = data.response;\n      poll.start({\n        jobId\n      });\n    }\n  });\n  const notifications = poll.data ? getUpdatedNotifications(poll.data) : [];\n  const isPolling = data && (!poll.data || !notifications.some(n => n.completed));\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: i18nKeys.resourceTables.title,\n    sectionKey: sectionKey\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, (error || poll.error) && /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.noticeBox,\n    error: true\n  }, (error === null || error === void 0 ? void 0 : error.message) || poll.error.message), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.description\n  }, tables.map(table => /*#__PURE__*/React.createElement(\"div\", {\n    key: table.key\n  }, i18nKeys.resourceTables.tables[table.key], /*#__PURE__*/React.createElement(\"span\", {\n    title: \"Table name\",\n    className: styles.tableName\n  }, \"(\", table.name, \")\")))), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleStartResourceTablesGeneration,\n    disabled: loading || isPolling\n  }, loading || isPolling ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Generating tables...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Generate tables')), notifications.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.notificationsTable\n  }, /*#__PURE__*/React.createElement(NotificationsTable, {\n    notifications: notifications,\n    animateIncomplete: true\n  }))));\n};\n\nResourceTable.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default ResourceTable;","import { i18nKeys } from '../i18n-keys';\nimport Analytics from './analytics/Analytics';\nimport DataIntegrity from './data-integrity/DataIntegrity';\nimport DataStatistics from './data-statistics/DataStatistics';\nimport LockExceptions from './lock-exceptions/LockExceptions';\nimport Maintenance from './maintenance/Maintenance';\nimport MinMaxValueGeneration from './min-max-value-generation/MinMaxValueGeneration';\nimport ResourceTables from './resource-tables/ResourceTables';\nexport const sections = [{\n  key: 'dataIntegrity',\n  path: '/data-integrity',\n  component: DataIntegrity,\n  info: {\n    label: i18nKeys.dataIntegrity.label,\n    icon: 'link',\n    description: i18nKeys.dataIntegrity.description,\n    actionText: i18nKeys.dataIntegrity.actionText,\n    docs: 'dataAdmin_dataIntegrity'\n  }\n}, {\n  key: 'maintenance',\n  path: '/maintenance',\n  component: Maintenance,\n  info: {\n    label: i18nKeys.maintenance.label,\n    icon: 'settings',\n    description: i18nKeys.maintenance.description,\n    actionText: i18nKeys.maintenance.actionText,\n    docs: 'data_admin_maintenance'\n  }\n}, {\n  key: 'resourceTables',\n  path: '/resourceTables',\n  component: ResourceTables,\n  info: {\n    label: i18nKeys.resourceTables.label,\n    icon: 'view_list',\n    description: i18nKeys.resourceTables.description,\n    actionText: i18nKeys.resourceTables.actionText,\n    docs: 'dataAdmin_resourceTables'\n  }\n}, {\n  key: 'analytics',\n  path: '/analytics',\n  component: Analytics,\n  info: {\n    label: i18nKeys.analytics.label,\n    icon: 'multiline_chart',\n    description: i18nKeys.analytics.description,\n    actionText: i18nKeys.analytics.actionText,\n    docs: 'analytics_tables_management'\n  }\n}, {\n  key: 'statistics',\n  path: '/data-statistics',\n  component: DataStatistics,\n  info: {\n    label: i18nKeys.dataStatistics.label,\n    icon: 'timeline',\n    description: i18nKeys.dataStatistics.description,\n    actionText: i18nKeys.dataStatistics.actionText,\n    docs: 'dataAdmin_dataStatistics'\n  }\n}, {\n  key: 'lock',\n  path: '/lock-exceptions',\n  component: LockExceptions,\n  info: {\n    label: i18nKeys.lockExceptions.label,\n    icon: 'lock',\n    description: i18nKeys.lockExceptions.description,\n    actionText: i18nKeys.lockExceptions.actionText,\n    docs: 'dataAdmin_lockException'\n  }\n}, {\n  key: 'minMax',\n  path: '/min-max-value-generation',\n  component: MinMaxValueGeneration,\n  info: {\n    label: i18nKeys.minMaxValueGeneration.label,\n    icon: 'compare_arrows',\n    description: i18nKeys.minMaxValueGeneration.description,\n    actionText: i18nKeys.minMaxValueGeneration.actionText,\n    docs: 'dataAdmin_minMaxValueGeneration'\n  }\n}];\nexport const getDocsKeyForSection = sectionKey => {\n  var _sections$find;\n\n  return ((_sections$find = sections.find(section => section.key === sectionKey)) === null || _sections$find === void 0 ? void 0 : _sections$find.info.docs) || '';\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport classNames from 'classnames';\nimport FontIcon from 'material-ui/FontIcon';\nimport { GridTile } from 'material-ui/GridList';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './GridSection.module.css';\n\nclass GridSection extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(Link, {\n      to: this.props.section.path\n    }, /*#__PURE__*/React.createElement(GridTile, {\n      key: this.props.section.key,\n      className: classNames('section', styles.gridElement)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', styles.gridTitleBar)\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames('section-title', styles.gridTitleDescription)\n    }, this.props.section.info.label), /*#__PURE__*/React.createElement(FontIcon, {\n      className: classNames('material-icons', 'icon', styles.gridIcon)\n    }, this.props.section.info.icon)), /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames('section-description', 'row', styles.gridDescription)\n    }, this.props.section.info.description), /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames('section-action-text', 'row', styles.gridActionText)\n    }, this.props.section.info.actionText)));\n  }\n\n}\n\n_defineProperty(GridSection, \"propTypes\", {\n  section: PropTypes.shape({\n    info: PropTypes.shape({\n      actionText: PropTypes.string,\n      description: PropTypes.string,\n      icon: PropTypes.string,\n      label: PropTypes.string\n    }),\n    key: PropTypes.string,\n    path: PropTypes.string\n  }).isRequired\n});\n\nexport default GridSection;","import classNames from 'classnames';\nimport React from 'react';\nimport { sections } from '../sections.conf';\nimport GridSection from './grid-section/GridSection';\nimport styles from './Home.module.css';\nimport './grid.css';\n\nconst Home = () => {\n  const gridElements = sections.map(section => /*#__PURE__*/React.createElement(\"div\", {\n    key: section.key,\n    className: classNames('col-sm-12 col-md-6 col-lg-4', styles.gridContainer)\n  }, /*#__PURE__*/React.createElement(GridSection, {\n    key: section.key,\n    section: section\n  })));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"grid-list-id\",\n    className: \"row\"\n  }, gridElements);\n};\n\nexport default Home;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport AddLockException from '../../pages/add-lock-exception/AddLockException.js';\nimport BatchDeleteLockExceptions from '../../pages/batch-delete-lock-exceptions/BatchDeleteLockExceptions';\nimport Home from '../../pages/home/Home';\nimport { sections } from '../../pages/sections.conf';\n\nconst Routes = () => /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/\",\n  component: Home\n}), sections.map(section => /*#__PURE__*/React.createElement(Route, {\n  key: section.key,\n  exact: true,\n  path: section.path,\n  component: props => /*#__PURE__*/React.createElement(section.component, _extends({\n    sectionKey: section.key\n  }, props))\n})), /*#__PURE__*/React.createElement(Route, {\n  path: \"/lock-exceptions/batch-deletion\",\n  component: BatchDeleteLockExceptions\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/lock-exceptions/add\",\n  component: AddLockException\n}), /*#__PURE__*/React.createElement(Redirect, {\n  from: \"*\",\n  to: \"/\"\n}));\n\nexport default Routes;","import { MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport styles from './SidebarItem.module.css';\n\nconst SidebarItem = ({\n  label,\n  path\n}) => {\n  const history = useHistory();\n  const isActive = !!useRouteMatch(path);\n\n  const navigateToPath = () => history.push(path);\n\n  const href = history.createHref({\n    pathname: path,\n    search: '',\n    hash: ''\n  });\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    className: styles.sidebarItem,\n    href: href,\n    onClick: navigateToPath,\n    active: isActive,\n    label: label\n  });\n};\n\nSidebarItem.propTypes = {\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired\n};\nexport default SidebarItem;","import { Menu } from '@dhis2/ui';\nimport React from 'react';\nimport { sections } from '../../pages/sections.conf';\nimport SidebarItem from './SidebarItem';\n\nconst Sidebar = () => /*#__PURE__*/React.createElement(Menu, null, sections.map(section => /*#__PURE__*/React.createElement(SidebarItem, {\n  key: section.key,\n  label: section.info.label,\n  path: section.path\n})));\n\nexport default Sidebar;","import { blue100, blue700, grey100, grey400, orange500, orangeA200, darkBlack, white } from 'material-ui/styles/colors';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport Spacing from 'material-ui/styles/spacing';\nimport { fade } from 'material-ui/utils/colorManipulator';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: '#004ba0',\n    primary2Color: blue700,\n    primary3Color: blue100,\n    accent1Color: orange500,\n    accent2Color: grey100,\n    accent3Color: orangeA200,\n    textColor: darkBlack,\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey400,\n    disabledColor: fade(darkBlack, 0.3)\n  }\n};\nconst muiTheme = getMuiTheme(theme);\nexport default muiTheme;","import './locales';\nimport { CssVariables } from '@dhis2/ui';\nimport { MuiThemeProvider } from 'material-ui/styles';\nimport React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport styles from './App.module.css';\nimport Routes from './components/Routes/Routes';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport muiTheme from './theme';\nimport 'material-design-icons-iconfont';\n\nconst App = () => /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(CssVariables, {\n  spacers: true,\n  colors: true\n}), /*#__PURE__*/React.createElement(MuiThemeProvider, {\n  muiTheme: muiTheme\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.sidebar\n}, /*#__PURE__*/React.createElement(Sidebar, null)), /*#__PURE__*/React.createElement(\"main\", {\n  className: styles.content\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.contentWrapper\n}, /*#__PURE__*/React.createElement(Routes, null))))));\n\nexport default App;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__2zgzu\",\"sidebar\":\"App_sidebar__10tAV\",\"content\":\"App_content__3I8HS\",\"contentWrapper\":\"App_contentWrapper__28dVZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerContainer\":\"LockExceptionsSubpageHeader_headerContainer__3G247\",\"backArrowIcon\":\"LockExceptionsSubpageHeader_backArrowIcon__1wLrB\",\"header\":\"LockExceptionsSubpageHeader_header__2dlew\",\"headerDivider\":\"LockExceptionsSubpageHeader_headerDivider__1ftN5\",\"subHeader\":\"LockExceptionsSubpageHeader_subHeader__27Kvz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AddLockException_card__1cWmQ\",\"addLockExceptionButton\":\"AddLockException_addLockExceptionButton__11OjV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectsContainer\":\"AddLockExceptionForm_selectsContainer__3dMtH\",\"dataSetSelect\":\"AddLockExceptionForm_dataSetSelect__24gl-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"OrganisationUnitSelection_container__wN125\",\"organisationUnitTree\":\"OrganisationUnitSelection_organisationUnitTree__3dKyC\",\"right\":\"OrganisationUnitSelection_right__1j_L7\",\"currentRoot\":\"OrganisationUnitSelection_currentRoot__3f5Ub\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SelectAll_container__35JmG\",\"updatingSelection\":\"SelectAll_updatingSelection__2HA_s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Controls_container__zu83P\",\"updatingSelection\":\"Controls_updatingSelection__Buwnq\"};"],"sourceRoot":""}